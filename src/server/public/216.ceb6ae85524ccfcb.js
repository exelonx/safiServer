"use strict";(self.webpackChunksafiApp=self.webpackChunksafiApp||[]).push([[216],{216:(go,Q,p)=>{p.r(Q),p.d(Q,{InventarioModule:()=>mo});var d=p(6895),Z=p(3060),k=p(3020),s=p(4006),e=p(4650),A=p(9962),h=p(1199),f=p(6518),M=p(3033),_=p(4859),g=p(7392),b=p(1561),C=p(1572),E=p(8739),q=p(5861),T=p(5475),F=p(5226),u=p.n(F),I=p(3387),m=p(9549),x=p(4144),O=p(4385),P=p(3238);const Y=["cerrarCrear"];function G(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.UNIDAD_MEDIDA," ")}}function B(o,r){1&o&&e._UZ(0,"mat-spinner",30),2&o&&e.Q6J("diameter",50)}let L=(()=>{class o{constructor(t,n,i,a,c,l){this.insumoService=t,this.pantalla=n,this.fb=i,this.authService=a,this.ingresosService=c,this.unidadService=l,this.onCerrar=new e.vpe,this.onCrear=new e.vpe,this.listaUnidad=[],this.enEjecucion=!1,this.cambiandoContra=!1,this.formularioCreacion=this.fb.group({nombre:["",[s.kI.required,s.kI.maxLength(150)]],unidad:["",[s.kI.required]],cantidad_maxima:["",[s.kI.required]],cantidad_minima:["",[s.kI.required]]}),this.toMayus=T.K.toMayus}validarNumeros(t){return(0,q.Z)(function*(){("+"===t.key||"-"===t.key||"e"===t.key||"E"===t.key)&&t.preventDefault()})()}crearInsumo(){if(!this.enEjecucion){const{nombre:t,unidad:n,cantidad_maxima:i,cantidad_minima:a}=this.formularioCreacion.value,c=this.authService.usuario.id_usuario;this.enEjecucion=!0,this.subscripcion=this.insumoService.postInsumo(t,n,i,a,c.toString()).subscribe(l=>{this.onCrear.emit(),!0===l.ok?(this.enEjecucion=!1,this.cerrarCrear._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:l.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,u().fire({title:"Advertencia",text:l.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}cargarUnidad(){this.unidadService.getUnidades(this.authService.usuario.id_usuario).subscribe(n=>{this.listaUnidad=n.unidades})}ngOnInit(){this.cargarUnidad()}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},250)}ngOnDestroy(){this.cerrarCrear._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.A),e.Y36(h.i),e.Y36(s.qu),e.Y36(f.e),e.Y36(M.K),e.Y36(I.R))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nuevo-insumo"]],viewQuery:function(t,n){if(1&t&&e.Gf(Y,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarCrear=i.first)}},outputs:{onCerrar:"onCerrar",onCrear:"onCrear"},decls:49,vars:4,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","nombre","placeholder","Nombre del Insumo","autocomplete","off",3,"keyup"],["matSuffix",""],[1,"mb-0","mt-2","fw-bold"],["formControlName","unidad"],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],[1,"row"],["appearance","legacy",1,"col-6"],["matInput","","type","number","min","0","formControlName","cantidad_minima","autocomplete","off",3,"keydown","paste"],["matInput","","type","number","min","0","formControlName","cantidad_maxima","autocomplete","off",3,"keydown","paste"],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","button",1,"btn-a",3,"disabled","click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],["id","selector",3,"value"],[1,"me-3",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Ingresar nuevo insumo"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form",9)(13,"p",10),e._uU(14,"Insumo"),e.qZA(),e.TgZ(15,"mat-form-field",11)(16,"mat-label"),e._uU(17,"Insumo"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("keyup",function(){return n.toMayus(n.formularioCreacion,"nombre")}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20,"kitchen"),e.qZA()(),e.TgZ(21,"p",14),e._uU(22,"Unidad de medida"),e.qZA(),e.TgZ(23,"mat-form-field",11)(24,"mat-label"),e._uU(25,"Unidad de medida"),e.qZA(),e.TgZ(26,"mat-select",15),e._UZ(27,"div",16),e.YNc(28,G,3,2,"ng-container",17),e.qZA()(),e.TgZ(29,"p",14),e._uU(30,"Cantidades del insumo"),e.qZA(),e.TgZ(31,"form",18)(32,"mat-form-field",19)(33,"mat-label"),e._uU(34,"Cantidad m\xednima"),e.qZA(),e.TgZ(35,"input",20),e.NdJ("keydown",function(a){return n.validarNumeros(a)})("paste",function(a){return a.preventDefault()}),e.qZA()(),e.TgZ(36,"mat-form-field",19)(37,"mat-label"),e._uU(38,"Cantidad m\xe1xima"),e.qZA(),e.TgZ(39,"input",21),e.NdJ("keydown",function(a){return n.validarNumeros(a)})("paste",function(a){return a.preventDefault()}),e.qZA()()(),e.TgZ(40,"div",22)(41,"div",23)(42,"button",24),e.NdJ("click",function(){return n.crearInsumo()}),e.TgZ(43,"mat-icon",25),e._uU(44,"save"),e.qZA(),e.TgZ(45,"span",26),e._uU(46,"Guardar"),e.qZA()()(),e.YNc(47,B,1,1,"mat-spinner",27),e.qZA()()()(),e._UZ(48,"div",28),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("formGroup",n.formularioCreacion),e.xp6(16),e.Q6J("ngForOf",n.listaUnidad),e.xp6(14),e.Q6J("disabled",n.formularioCreacion.invalid),e.xp6(5),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.sg,d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,m.R9,x.Nt,O.gD,P.ey,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.sg,s.u],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),o})();const z=["cerrarEditar"],K=["nombre"],H=["unidad"],j=["cantidadMaxima"],$=["cantidadMinima"];function V(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",32),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.UNIDAD_MEDIDA," ")}}function X(o,r){1&o&&e._UZ(0,"mat-spinner",33),2&o&&e.Q6J("diameter",50)}let W=(()=>{class o{constructor(t,n,i,a){this.insumoService=t,this.authService=n,this.fb=i,this.unidadService=a,this.onCerrar=new e.vpe,this.onActualizacion=new e.vpe,this.listaUnidad=[],this.enEjecucion=!1,this.editandoProveedor=!1,this.toMayus=T.K.toMayusNoReactivo}get insumo(){return this.insumoService.insumo}get unidad(){return this.unidadService.unidad}actualizarInsumo(){this.enEjecucion||(this.enEjecucion=!0,this.insumoService.putInsumo(this.insumo.ID,this.authService.usuario.id_usuario,this.nombre.nativeElement.value,this.selectUnidad.value,this.cantidadMaxima.nativeElement.value,this.cantidadMinima.nativeElement.value).subscribe(l=>{this.onActualizacion.emit(),!0===l.ok?(this.cerrarEditar._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:l.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:l,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}cargarUnidad(){this.unidadService.getUnidades(this.authService.usuario.id_usuario).subscribe(n=>{this.listaUnidad=n.unidades})}validarNumeros(t){return(0,q.Z)(function*(){("+"===t.key||"-"===t.key||"e"===t.key||"E"===t.key)&&t.preventDefault()})()}ngOnInit(){this.cargarUnidad()}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},100)}ngOnDestroy(){this.cerrarEditar._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.A),e.Y36(f.e),e.Y36(s.qu),e.Y36(I.R))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editar-insumo"]],viewQuery:function(t,n){if(1&t&&(e.Gf(z,5),e.Gf(K,5),e.Gf(H,5),e.Gf(j,5),e.Gf($,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEditar=i.first),e.iGM(i=e.CRH())&&(n.nombre=i.first),e.iGM(i=e.CRH())&&(n.selectUnidad=i.first),e.iGM(i=e.CRH())&&(n.cantidadMaxima=i.first),e.iGM(i=e.CRH())&&(n.cantidadMinima=i.first)}},outputs:{onCerrar:"onCerrar",onActualizacion:"onActualizacion"},decls:53,vars:6,consts:[["id","exampleModal2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"ngSubmit"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","placeholder","Nombre del Insumo","autocomplete","off",3,"value","keyup"],["nombre",""],["matSuffix",""],[1,"mb-0","mt-2","fw-bold"],[3,"value"],["unidad",""],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],[1,"row"],["appearance","legacy",1,"col-6"],["matInput","","type","number","min","0",3,"value","keydown","paste"],["cantidadMinima",""],["cantidadMaxima",""],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","button",1,"btn-a",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],["id","selector",3,"value"],[1,"me-3",3,"diameter"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Editar insumo"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return n.actualizarInsumo()}),e.TgZ(13,"p",10),e._uU(14,"Insumo"),e.qZA(),e.TgZ(15,"mat-form-field",11)(16,"mat-label"),e._uU(17,"Insumo"),e.qZA(),e.TgZ(18,"input",12,13),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(19);return e.KtG(n.toMayus(c))}),e.qZA(),e.TgZ(20,"mat-icon",14),e._uU(21,"kitchen"),e.qZA()(),e.TgZ(22,"p",15),e._uU(23,"Unidad de medida"),e.qZA(),e.TgZ(24,"mat-form-field",11)(25,"mat-label"),e._uU(26,"Unidad de medida"),e.qZA(),e.TgZ(27,"mat-select",16,17),e._UZ(29,"div",18),e.YNc(30,V,3,2,"ng-container",19),e.qZA()(),e.TgZ(31,"p",15),e._uU(32,"Cantidades del insumo"),e.qZA(),e.TgZ(33,"form",20)(34,"mat-form-field",21)(35,"mat-label"),e._uU(36,"Cantidad m\xednima"),e.qZA(),e.TgZ(37,"input",22,23),e.NdJ("keydown",function(c){return n.validarNumeros(c)})("paste",function(c){return c.preventDefault()}),e.qZA()(),e.TgZ(39,"mat-form-field",21)(40,"mat-label"),e._uU(41,"Cantidad m\xe1xima"),e.qZA(),e.TgZ(42,"input",22,24),e.NdJ("keydown",function(c){return n.validarNumeros(c)})("paste",function(c){return c.preventDefault()}),e.qZA()()(),e.TgZ(44,"div",25)(45,"div",26)(46,"button",27),e.NdJ("click",function(){return n.actualizarInsumo()}),e.TgZ(47,"mat-icon",28),e._uU(48,"save"),e.qZA(),e.TgZ(49,"span",29),e._uU(50,"Guardar"),e.qZA()()(),e.YNc(51,X,1,1,"mat-spinner",30),e.qZA()()()(),e._UZ(52,"div",31),e.qZA()()()}2&t&&(e.xp6(18),e.Q6J("value",n.insumo.NOMBRE),e.xp6(9),e.Q6J("value",n.insumo.ID_UNIDAD),e.xp6(3),e.Q6J("ngForOf",n.listaUnidad),e.xp6(7),e.Q6J("value",n.insumo.CANTIDAD_MINIMA),e.xp6(5),e.Q6J("value",n.insumo.CANTIDAD_MAXIMA),e.xp6(9),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.sg,d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,m.R9,x.Nt,O.gD,P.ey,s._Y,s.JL],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),o})();const ee=["cerrarEliminar"];let te=(()=>{class o{constructor(t,n){this.insumoService=t,this.authService=n,this.onEliminar=new e.vpe,this.enEjecucion=!1}get insumo(){return this.insumoService.insumo}eliminarInsumo(){this.enEjecucion||(this.enEjecucion=!0,this.subscripcion=this.insumoService.deleteInsumo(this.insumo.ID,this.authService.usuario.id_usuario).subscribe(n=>{!0===n.ok?(this.onEliminar.emit(),u().fire({title:"\xa1\xc9xito!",text:n.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:n,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}ngOnInit(){}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.cerrarEliminar._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.A),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-eliminar-insumo"]],viewQuery:function(t,n){if(1&t&&e.Gf(ee,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEliminar=i.first)}},outputs:{onEliminar:"onEliminar"},decls:26,vars:1,consts:[["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarEliminar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"text-center","mb-4"],["src","./../../../../../../../assets/icons/WarningRelleno.svg","width","50px","height","50px"],[1,"text-center","fw-normal"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5," Confirmaci\xf3n "),e.qZA(),e.TgZ(6,"button",5,6)(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"div",9),e._UZ(14,"img",10),e.qZA(),e.TgZ(15,"h5",11),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",12)(19,"div",13)(20,"button",14),e.NdJ("click",function(){return n.eliminarInsumo()}),e.TgZ(21,"mat-icon",15),e._uU(22,"delete_forever"),e.qZA(),e.TgZ(23,"span",16),e._uU(24,"Eliminar"),e.qZA()()()()()()(),e._UZ(25,"div",17),e.qZA()()()),2&t&&(e.xp6(16),e.hij(" \xbfDesea eliminar el insumo ",n.insumo.NOMBRE,"? "))},dependencies:[_.lW,g.Hw,s._Y,s.JL],styles:[".btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}"]}),o})();function ne(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generando... "),e.qZA())}function oe(o,r){if(1&o&&(e.TgZ(0,"span",24),e._UZ(1,"mat-spinner",25),e.YNc(2,ne,2,0,"span",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("diameter",30),e.xp6(1),e.Q6J("ngIf",t.generando)}}function ie(o,r){1&o&&e._UZ(0,"img",26)}function re(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generar reporte"),e.qZA())}function ae(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.creando=!0)}),e._uU(1,"Nuevo"),e.qZA()}}function se(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function ce(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",28)(2,"div",24)(3,"mat-icon",29),e._uU(4,"info_outline"),e.qZA(),e.TgZ(5,"strong",30),e._uU(6,"No se encontraron registros"),e.qZA()()()())}function le(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))})("mouseenter",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editando=!0)}),e.TgZ(1,"mat-icon",46),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Editar"),e.qZA()()}}function de(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(1,"mat-icon",29),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Eliminar"),e.qZA()()}}function ue(o,r){if(1&o&&(e.TgZ(0,"td",40)(1,"button",41)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,42),e.ynx(6),e.YNc(7,le,5,0,"button",43),e.BQk(),e.ynx(8),e.YNc(9,de,5,0,"button",44),e.BQk(),e.qZA()()),2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(6),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION),e.xp6(2),e.Q6J("ngIf",n.permisos.PERMISO_ELIMINACION)}}function me(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.TgZ(7,"td",34),e._uU(8),e.qZA(),e.TgZ(9,"td",35),e._uU(10),e.qZA(),e.TgZ(11,"td",36),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td",37),e._uU(15),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.ALo(18,"date"),e.qZA(),e.YNc(19,ue,10,3,"td",39),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.NOMBRE),e.xp6(2),e.Oqu(t.UNIDAD_MEDIDA),e.xp6(2),e.Oqu(t.CANTIDAD_MINIMA),e.xp6(2),e.Oqu(t.CANTIDAD_MAXIMA),e.xp6(2),e.Oqu(t.CREADO_POR),e.xp6(2),e.Oqu(e.xi3(13,9,t.FECHA_CREACION,"d/M/yy, h:mm a")),e.xp6(3),e.Oqu(t.MODIFICACION_POR),e.xp6(2),e.Oqu(e.xi3(18,12,t.FECHA_MODIFICACION,"d/M/yy, h:mm a")),e.xp6(2),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION)}}function pe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-nuevo-insumo",48),e.NdJ("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.creando=i)})("onCrear",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())}),e.qZA()}}function _e(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-editar-insumo",49),e.NdJ("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.editando=i)})("onActualizacion",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())}),e.qZA()}}const ge=function(o){return[5,10,25,50,o]};let fe=(()=>{class o{constructor(t,n,i,a,c,l){this.insumoService=t,this.pantalla=n,this.fb=i,this.usuario=a,this.ingresosService=c,this.router=l,this.id_seleccion=0,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.generando=!1,this.buscando=!1,this.creando=!1,this.editando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[s.kI.required,s.kI.maxLength(100)]]})}cargarRegistros(){this.subscripcion=this.insumoService.getInsumos(this.usuario.usuario.id_usuario).subscribe(n=>{this.registros=this.insumoService.insumos,this.tamano=n.countInsumos,this.limite=n.limite})}cambioDePagina(t){this.paginadorPorReferencia=t,this.subscripcion.unsubscribe();const n=this.usuario.usuario.id_usuario;let{buscar:i}=this.formularioBusqueda.value;this.buscando||(i="");let a=(t.pageIndex*t.pageSize).toString();this.desde=a,this.subscripcion=this.insumoService.getInsumos(n,i,t.pageSize.toString(),a).subscribe(c=>{this.registros=c.insumos,this.tamano=c.countInsumos,this.limite=c.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const t=this.usuario.usuario.id_usuario,{buscar:n}=this.formularioBusqueda.value;this.buscando=""!==n,this.desde="0",this.subscripcion=this.insumoService.getInsumos(t,n).subscribe(i=>{this.indice=0,this.registros=i.insumos,this.tamano=i.countInsumos,this.limite=i.limite})}seleccionar(t){this.insumoService.getInsumo(t).subscribe()}recargar(){const t=this.usuario.usuario.id_usuario;let{buscar:n}=this.formularioBusqueda.value;this.subscripcion=this.insumoService.getInsumos(t,n,this.limite.toString(),this.desde).subscribe(i=>{this.registros=i.insumos,this.tamano=i.countInsumos,this.limite=i.limite})}navegarKardex(t){this.router.navigateByUrl(`/main/inventario/kardex/${t}`)}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:t}=this.formularioBusqueda.value;this.insumoService.getReporte(t).subscribe(n=>{let i=new Blob([n],{type:"application/pdf"}),a=window.URL.createObjectURL(i);document.createElement("a").href=a,window.open(a,"_blank"),this.generando=!1})}}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,21).subscribe()}get permisos(){return this.pantalla.permisos}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(A.A),e.Y36(h.i),e.Y36(s.qu),e.Y36(f.e),e.Y36(M.K),e.Y36(Z.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-insumo"]],decls:47,vars:17,consts:[[1,""],["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",3,"mouseenter",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light","align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[3,"onCerrar","onCrear",4,"ngIf"],[3,"onCerrar","onActualizacion",4,"ngIf"],[3,"onEliminar"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"me-3","btn-a","mb-2",3,"mouseenter"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","Nombre"],["data-title","Unidad de medida"],["data-title","Cantidad m\xednima"],["data-title","Cantidad m\xe1xima"],["data-title","Creado por"],["data-title","Creaci\xf3n"],["data-title","Modificado por"],["data-title","Modificaci\xf3n"],["data-title","Acci\xf3n",4,"ngIf"],["data-title","Acci\xf3n"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"click","mouseenter",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"click","mouseenter"],["id","iconEditar"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click"],[3,"onCerrar","onCrear"],[3,"onCerrar","onActualizacion"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Gesti\xf3n de Insumos"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.generarReporte()}),e.YNc(7,oe,3,2,"span",5),e.YNc(8,ie,1,0,"img",6),e.YNc(9,re,2,0,"span",7),e.qZA(),e.YNc(10,ae,2,0,"button",8),e.qZA(),e.TgZ(11,"div",9)(12,"form",10),e.NdJ("ngSubmit",function(){return n.buscarRegistro()}),e.TgZ(13,"label",11),e._uU(14,"Buscar:"),e.qZA(),e._UZ(15,"input",12),e.qZA()()(),e._UZ(16,"hr",13),e.TgZ(17,"div",14)(18,"table",15)(19,"thead",16)(20,"tr")(21,"th"),e._uU(22,"Nombre"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Unidad de medida"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Cantidad m\xednima"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Cantidad m\xe1xima"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Creado por"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Creaci\xf3n"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Modificado por"),e.qZA(),e.TgZ(35,"th"),e._uU(36,"Modificaci\xf3n"),e.qZA(),e.YNc(37,se,2,0,"th",7),e.qZA()(),e.TgZ(38,"tbody",17),e.YNc(39,ce,7,0,"tr",7),e.YNc(40,me,20,15,"tr",18),e.qZA()()(),e.TgZ(41,"mat-paginator",19),e.NdJ("page",function(a){return n.cambioDePagina(a)}),e.qZA()(),e.TgZ(42,"div",20),e._UZ(43,"br"),e.qZA(),e.YNc(44,pe,1,0,"app-nuevo-insumo",21),e.YNc(45,_e,1,0,"app-editar-insumo",22),e.TgZ(46,"app-eliminar-insumo",23),e.NdJ("onEliminar",function(){return n.recargar()}),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngClass",n.generando?"d-flex align-items-center":""),e.xp6(1),e.Q6J("ngIf",n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_INSERCION),e.xp6(2),e.Q6J("formGroup",n.formularioBusqueda),e.xp6(25),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION),e.xp6(2),e.Q6J("ngIf",n.registros.length<1),e.xp6(1),e.Q6J("ngForOf",n.registros),e.xp6(1),e.Q6J("length",n.tamano)("pageSize",n.limite)("pageSizeOptions",e.VKq(15,ge,n.tamano))("pageIndex",n.indice),e.xp6(3),e.Q6J("ngIf",n.creando),e.xp6(1),e.Q6J("ngIf",n.editando))},dependencies:[d.mk,d.sg,d.O5,_.lW,g.Hw,b.VK,b.OP,b.p6,C.Ou,E.NW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,L,W,te,d.uU],styles:[".background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconMas[_ngcontent-%COMP%]{color:#5988ec}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}"]}),o})();var U=p(8505),y=p(262),N=p(9646),S=p(2340),D=p(529);let be=(()=>{class o{constructor(t){this.http=t,this.inventarios=[],this.baseURL=S.N.baseURL}getInventario(t,n,i,a){return n||(n=""),this.http.get(`${this.baseURL}/inventario/?buscar=${n}&quienBusco=${t}&limite=${i||""}&desde=${a||""}`).pipe((0,U.b)(l=>{this.inventarios=l.inventarios}),(0,y.K)(l=>(0,N.of)(l.error.msg)))}getReporte(t=""){return this.http.post(`${this.baseURL}/inventario/reporteria/inventario`,{buscar:t},{responseType:"blob"}).pipe((0,y.K)(a=>(0,N.of)(a.error.msg)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(D.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function he(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generando... "),e.qZA())}function ve(o,r){if(1&o&&(e.TgZ(0,"span",24),e._UZ(1,"mat-spinner",25),e.YNc(2,he,2,0,"span",19),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("diameter",30),e.xp6(1),e.Q6J("ngIf",t.generando)}}function Ce(o,r){1&o&&e._UZ(0,"img",26)}function Ze(o,r){1&o&&(e.TgZ(0,"span",27),e._uU(1,"Generar reporte"),e.qZA())}function xe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.alertaNuevo())}),e._uU(1,"Nuevo"),e.qZA()}}function Te(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function Ae(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",29)(2,"div",24)(3,"mat-icon",30),e._uU(4,"info_outline"),e.qZA(),e.TgZ(5,"strong",31),e._uU(6,"No se encontraron registros"),e.qZA()()()())}function Me(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",40),e.TgZ(2,"span",41),e._uU(3,"EXCESO"),e.qZA()())}function Ie(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",42),e.TgZ(2,"span",43),e._uU(3,"ESCASO"),e.qZA()())}function Oe(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"img",44),e.TgZ(2,"span",45),e._uU(3,"NORMAL"),e.qZA()())}function Pe(o,r){1&o&&(e.TgZ(0,"mat-icon",53),e._uU(1,"edit"),e.qZA())}function Ue(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",46)(1,"button",47)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,48),e.ynx(6),e.TgZ(7,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.alertaEditar())}),e.YNc(8,Pe,2,0,"mat-icon",50),e.TgZ(9,"span"),e._uU(10,"Editar"),e.qZA()(),e.BQk(),e.ynx(11),e.TgZ(12,"button",51),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.alertaEliminar())}),e.TgZ(13,"mat-icon",30),e._uU(14,"delete_forever"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"Eliminar"),e.qZA()(),e.BQk(),e.ynx(17),e.TgZ(18,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.navegarKardex(i.ID_INSUMO))}),e.TgZ(19,"mat-icon",52),e._uU(20,"text_snippet"),e.qZA(),e.TgZ(21,"span"),e._uU(22,"Ver m\xe1s"),e.qZA()(),e.BQk(),e.qZA()()}if(2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(7),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION)}}function we(o,r){if(1&o&&(e.TgZ(0,"tr",32)(1,"td",33),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",35),e._uU(6),e.qZA(),e.TgZ(7,"td",36),e._uU(8),e.qZA(),e.TgZ(9,"td",37),e._uU(10),e.qZA(),e.TgZ(11,"td",38),e.YNc(12,Me,4,0,"div",19),e.YNc(13,Ie,4,0,"div",19),e.YNc(14,Oe,4,0,"div",19),e.qZA(),e.YNc(15,Ue,23,2,"td",39),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.UNIDAD_MEDIDA),e.xp6(2),e.Oqu(t.CANTIDAD_MINIMA),e.xp6(2),e.Oqu(t.NOMBRE),e.xp6(2),e.Oqu(t.CANTIDAD_MAXIMA),e.xp6(2),e.Oqu(t.EXISTENCIA),e.xp6(2),e.Q6J("ngIf",t.EXISTENCIA>=t.CANTIDAD_MAXIMA),e.xp6(1),e.Q6J("ngIf",t.EXISTENCIA<=t.CANTIDAD_MINIMA),e.xp6(1),e.Q6J("ngIf",t.EXISTENCIA<t.CANTIDAD_MAXIMA&&t.EXISTENCIA>t.CANTIDAD_MINIMA),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION)}}const ke=function(o){return[5,10,25,50,o]};let Ee=(()=>{class o{constructor(t,n,i,a,c,l,v){this.pantalla=t,this.inventarioService=n,this.usuario=i,this.permisoPantallaService=a,this.fb=c,this.ingresosService=l,this.router=v,this.onAbrirMenu=new e.vpe,this.id_inventario=0,this.id_insumo=0,this.existencia=0,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.buscando=!1,this.generando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[s.kI.required,s.kI.maxLength(100)]]})}get permisos(){return this.pantalla.permisos}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}cargarRegistros(){this.subscripcion=this.inventarioService.getInventario(this.usuario.usuario.id_usuario).subscribe(n=>{this.registros=this.inventarioService.inventarios,this.tamano=n.countInventarios,this.limite=n.limite})}cambioDePagina(t){this.paginadorPorReferencia=t,this.subscripcion.unsubscribe();const n=this.usuario.usuario.id_usuario;let{buscar:i}=this.formularioBusqueda.value;this.buscando||(i="");let a=(t.pageIndex*t.pageSize).toString();this.desde=a,this.subscripcion=this.inventarioService.getInventario(n,i,t.pageSize.toString(),a).subscribe(c=>{this.registros=c.inventarios,this.tamano=c.countInventarios,this.limite=c.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const t=this.usuario.usuario.id_usuario,{buscar:n}=this.formularioBusqueda.value;this.buscando=""!==n,this.desde="0",this.subscripcion=this.inventarioService.getInventario(t,n).subscribe(i=>{this.indice=0,this.registros=i.inventarios,this.tamano=i.countInventarios,this.limite=i.limite})}recargar(){const t=this.usuario.usuario.id_usuario;let{buscar:n}=this.formularioBusqueda.value;this.subscripcion=this.inventarioService.getInventario(t,n,this.limite.toString(),this.desde).subscribe(i=>{this.registros=i.inventarios,this.tamano=i.countInventarios,this.limite=i.limite})}navegarKardex(t){this.router.navigateByUrl(`/main/inventario/kardex/${t}`)}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:t}=this.formularioBusqueda.value;this.inventarioService.getReporte(t).subscribe(n=>{let i=new Blob([n],{type:"application/pdf"}),a=window.URL.createObjectURL(i);document.createElement("a").href=a,window.open(a,"_blank"),this.generando=!1})}}alertaNuevo(){u().fire({title:"Advertencia",text:"\xa1Todos los insumos existentes ya se encuentran reflejados en la pantalla!",icon:"warning",iconColor:"white",background:"#008394",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})}alertaEditar(){u().fire({title:"Advertencia",text:"\xa1El inventario no se puede editar!",icon:"warning",iconColor:"white",background:"#008394",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})}alertaEliminar(){u().fire({title:"Advertencia",text:"\xa1El inventario no se puede eliminar!",icon:"warning",iconColor:"white",background:"#008394",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})}abrirMenu(){this.onAbrirMenu.emit(!0)}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,28).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(h.i),e.Y36(be),e.Y36(f.e),e.Y36(h.i),e.Y36(s.qu),e.Y36(M.K),e.Y36(Z.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-inventario"]],outputs:{onAbrirMenu:"onAbrirMenu"},decls:40,vars:15,consts:[[1,""],["id","titulo"],["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],["id","reporte",4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","id","btnNuevo",3,"click",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],["id","encabezadoTitulo"],[4,"ngIf"],[1,"align-middle"],["id","rehistroTabla",4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["id","reporte"],["mat-flat-button","","type","button","id","btnNuevo",1,"me-3","btn-a","mb-2",3,"click"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["id","rehistroTabla"],["data-title","Unidad de Medida",1,"text-break"],["data-title","Cantidad m\xednima",1,"text-break"],["data-title","Insumo",1,"text-break"],["data-title","Cantidad m\xe1xima",1,"text-break"],["data-title","Existencia",1,"text-break"],["data-title","Estado",1,"d-flex","justify-content-center","text-center"],["data-title","Acci\xf3n",4,"ngIf"],["src","/assets/icons/AMARILLO.svg ","width","75px","height","75px"],[1,"d-block",2,"color","#F6B50A"],["src","/assets/icons/ROJO.svg ","alt","","width","75px","height","75px"],[1,"d-block",2,"color","#ED5929"],["src","/assets/icons/VERDE.svg","alt","","width","75px","height","75px"],[1,"d-block",2,"color","#4FB206"],["data-title","Acci\xf3n"],["mat-icon-button","","id","menuAccion",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],["id","iconEditar",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal",3,"click"],["id","iconMas"],["id","iconEditar"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Inventario"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"button",5),e.NdJ("click",function(){return n.generarReporte()}),e.YNc(7,ve,3,2,"span",6),e.YNc(8,Ce,1,0,"img",7),e.YNc(9,Ze,2,0,"span",8),e.qZA(),e.YNc(10,xe,2,0,"button",9),e.qZA(),e.TgZ(11,"div",10)(12,"form",11),e.NdJ("ngSubmit",function(){return n.buscarRegistro()}),e.TgZ(13,"label",12),e._uU(14,"Buscar:"),e.qZA(),e._UZ(15,"input",13),e.qZA()()(),e._UZ(16,"hr",14),e.TgZ(17,"div",15)(18,"table",16)(19,"thead",17)(20,"tr",18)(21,"th"),e._uU(22,"Insumo"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Unidad de Medida"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Cantidad m\xednima"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Cantidad m\xe1xima"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Existencia"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Estado"),e.qZA(),e.YNc(33,Te,2,0,"th",19),e.qZA()(),e.TgZ(34,"tbody",20),e.YNc(35,Ae,7,0,"tr",19),e.YNc(36,we,16,9,"tr",21),e.qZA()()(),e.TgZ(37,"mat-paginator",22),e.NdJ("page",function(a){return n.cambioDePagina(a)}),e.qZA()(),e.TgZ(38,"div",23),e._UZ(39,"br"),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngClass",n.generando?"d-flex align-items-center":""),e.xp6(1),e.Q6J("ngIf",n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_INSERCION),e.xp6(2),e.Q6J("formGroup",n.formularioBusqueda),e.xp6(21),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION),e.xp6(2),e.Q6J("ngIf",n.registros.length<1),e.xp6(1),e.Q6J("ngForOf",n.registros),e.xp6(1),e.Q6J("length",n.tamano)("pageSize",n.limite)("pageSizeOptions",e.VKq(13,ke,n.tamano))("pageIndex",n.indice))},dependencies:[d.mk,d.sg,d.O5,_.lW,g.Hw,b.VK,b.OP,b.p6,C.Ou,E.NW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconMas[_ngcontent-%COMP%]{color:#5988ec}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.mat-fab[_ngcontent-%COMP%]{background-color:transparent!important;box-shadow:none!important}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}"]}),o})(),qe=(()=>{class o{constructor(t){this.http=t,this.baseURL=S.N.baseURL}getKardex(t,n,i,a,c,l,v){return i||(i=""),this.http.get(`${this.baseURL}/kardex/?id_insumo=${t}&buscar=${i}&id_usuario=${n}&limite=${a||""}&desde=${c||""}&fechaInicial=${l||""}&fechaFinal=${v||""}`).pipe((0,y.K)(_o=>(0,N.of)(_o.error.msg)))}validarIdInsumoKardex(t){return this.http.get(`${this.baseURL}/kardex/validar/${t}`).pipe((0,y.K)(i=>(0,N.of)(!1)))}getNombreInsumoKardex(t){return this.http.get(`${this.baseURL}/kardex/nombre/${t}`).pipe((0,y.K)(i=>(0,N.of)(i.error.msg)))}getReporte(t="",n="",i=""){return this.http.post(`${this.baseURL}/kardex/reporteria/kardex`,{buscar:t,fechaInicial:n,fechaFinal:i},{responseType:"blob"}).pipe((0,y.K)(l=>(0,N.of)(l.error.msg)))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(D.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ye(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generando... "),e.qZA())}function Ne(o,r){if(1&o&&(e.TgZ(0,"span",23),e._UZ(1,"mat-spinner",24),e.YNc(2,ye,2,0,"span",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("diameter",30),e.xp6(1),e.Q6J("ngIf",t.generando)}}function Je(o,r){1&o&&e._UZ(0,"img",25)}function Se(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generar reporte"),e.qZA())}function De(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Insumo"),e.qZA())}function Re(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Unidad"),e.qZA())}function Qe(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",26)(2,"div",23)(3,"mat-icon",27),e._uU(4,"info_outline"),e.qZA(),e.TgZ(5,"strong",28),e._uU(6,"No se encontraron registros"),e.qZA()()()())}function Fe(o,r){if(1&o&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.NOMBRE)}}function Ye(o,r){if(1&o&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.UNIDAD_MEDIDA)}}function Ge(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",29),e._uU(2),e.ALo(3,"date"),e.qZA(),e.YNc(4,Fe,2,1,"td",30),e.TgZ(5,"td",31),e._uU(6),e.qZA(),e.YNc(7,Ye,2,1,"td",32),e.TgZ(8,"td",33),e._uU(9),e.ALo(10,"titlecase"),e.qZA(),e.TgZ(11,"td",34),e._uU(12),e.qZA()()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(e.xi3(3,6,t.FECHA_Y_HORA,"d/M/yy, h:mm a")),e.xp6(2),e.Q6J("ngIf",!n.insumo),e.xp6(2),e.Oqu(t.CANTIDAD),e.xp6(1),e.Q6J("ngIf",!n.insumo),e.xp6(2),e.Oqu(e.lcZ(10,9,t.TIPO_MOVIMIENTO)),e.xp6(3),e.Oqu(t.USUARIO)}}const Be=function(o){return[5,10,25,50,o]};let Le=(()=>{class o{constructor(t,n,i,a,c,l){this.fb=t,this.usuario=n,this.ingresosService=i,this.kardexService=a,this.router=c,this.activatedRouter=l,this.id_insumo="",this.insumo={ID:0,NOMBRE:"",ID_UNIDAD:0,UNIDAD_MEDIDA:"",CANTIDAD_MAXIMA:0,CANTIDAD_MINIMA:0,EXISTENCIA:0,ID_CREADO_POR:0,CREADO_POR:"",FECHA_CREACION:new Date,MODIFICACION_POR:"",FECHA_MODIFICACION:new Date},this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.generando=!1,this.buscando=!1,this.formularioBusqueda=this.fb.group({fechaInicial:[""],fechaFinal:[""],buscar:["",[s.kI.required,s.kI.maxLength(100)]]})}cambioDePagina(t){this.paginadorPorReferencia=t,this.subscripcion.unsubscribe();const n=this.usuario.usuario.id_usuario;let{buscar:i}=this.formularioBusqueda.value,{fechaInicial:a}=this.formularioBusqueda.value,{fechaFinal:c}=this.formularioBusqueda.value;this.buscando||(i="",a="",c="");let l=(t.pageIndex*t.pageSize).toString();this.subscripcion=this.kardexService.getKardex(this.id_insumo,n,i,t.pageSize.toString(),l,a,c).subscribe(v=>{this.registros=v.registros,this.tamano=v.countKardex,this.limite=v.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const t=this.usuario.usuario.id_usuario,{buscar:n}=this.formularioBusqueda.value;this.buscando=""!==n,this.subscripcion=this.kardexService.getKardex(this.id_insumo,t,n,"","",this.formularioBusqueda.value.fechaInicial,this.formularioBusqueda.value.fechaFinal).subscribe(i=>{this.indice=0,this.registros=i.registros,this.tamano=i.countKardex,this.limite=i.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:t}=this.formularioBusqueda.value,{fechaInicial:n}=this.formularioBusqueda.value,{fechaFinal:i}=this.formularioBusqueda.value;this.kardexService.getReporte(t,n,i).subscribe(a=>{let c=new Blob([a],{type:"application/pdf"}),l=window.URL.createObjectURL(c);document.createElement("a").href=l,window.open(l,"_blank"),this.generando=!1})}}cargarRegistros(){const t=this.usuario.usuario.id_usuario;let n="";this.routerSubs=this.activatedRouter.params.subscribe(i=>{n=i.id_insumo,this.subscripcion=this.kardexService.getKardex(n,t).subscribe(a=>{this.registros=a.registros,this.tamano=a.countKardex,this.limite=a.limite,this.id_insumo=n}),this.nombreSubs=this.kardexService.getNombreInsumoKardex(n).subscribe(a=>{this.insumo=a.insumo})})}cargarNombreInsumo(){}ngOnInit(){this.registrarIngreso(),this.cargarRegistros(),this.cargarNombreInsumo()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe(),this.routerSubs&&this.routerSubs.unsubscribe(),this.nombreSubs&&this.nombreSubs.unsubscribe()}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,22).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(f.e),e.Y36(M.K),e.Y36(qe),e.Y36(Z.F0),e.Y36(Z.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-kardex"]],decls:44,vars:19,consts:[[1,""],["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"d-flex","align-items-center","flex-wrap",3,"formGroup","ngSubmit"],[1,"mb-2","d-flex","align-items-center","flex-wrap"],[1,"me-3"],["type","datetime-local","formControlName","fechaInicial","id","desde","placeholder","Desde",1,"rounded-3","me-3",2,"background-color","white"],["type","datetime-local","formControlName","fechaFinal","placeholder","Hasta",1,"rounded-3","me-3"],["mat-flat-button","","type","button",1,"ms-3","btn-a","mb-2",3,"click"],["id","iconBuscar"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","Fecha"],["data-title","Insumo",4,"ngIf"],["data-title","Cantidad"],["data-title","Unidad",4,"ngIf"],["data-title","Movimiento"],["data-title","Usuario"],["data-title","Insumo"],["data-title","Unidad"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2),e.ALo(3,"titlecase"),e.qZA(),e.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"button",4),e.NdJ("click",function(){return n.generarReporte()}),e.YNc(8,Ne,3,2,"span",5),e.YNc(9,Je,1,0,"img",6),e.YNc(10,Se,2,0,"span",7),e.qZA()(),e.TgZ(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return n.buscarRegistro()}),e.TgZ(13,"div",10)(14,"label",11),e._uU(15,"Desde:"),e.qZA(),e._UZ(16,"input",12),e.TgZ(17,"label",11),e._uU(18,"Hasta:"),e.qZA(),e._UZ(19,"input",13),e.qZA()(),e.TgZ(20,"button",14),e.NdJ("click",function(){return n.buscarRegistro()}),e.TgZ(21,"mat-icon",15),e._uU(22,"search"),e.qZA()()()(),e._UZ(23,"hr",16),e.TgZ(24,"div",17)(25,"table",18)(26,"thead",19)(27,"tr")(28,"th"),e._uU(29,"Fecha"),e.qZA(),e.YNc(30,De,2,0,"th",7),e.TgZ(31,"th"),e._uU(32),e.qZA(),e.YNc(33,Re,2,0,"th",7),e.TgZ(34,"th"),e._uU(35,"Movimiento"),e.qZA(),e.TgZ(36,"th"),e._uU(37,"Usuario"),e.qZA()()(),e.TgZ(38,"tbody"),e.YNc(39,Qe,7,0,"tr",7),e.YNc(40,Ge,13,11,"tr",20),e.qZA()()(),e.TgZ(41,"mat-paginator",21),e.NdJ("page",function(a){return n.cambioDePagina(a)}),e.qZA()(),e.TgZ(42,"div",22),e._UZ(43,"br"),e.qZA()()),2&t&&(e.xp6(2),e.hij("Movimientos",n.insumo?e.lcZ(3,15," de "+n.insumo.NOMBRE):"",""),e.xp6(5),e.Q6J("ngClass",n.generando?"d-flex align-items-center":""),e.xp6(1),e.Q6J("ngIf",n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(2),e.Q6J("formGroup",n.formularioBusqueda),e.xp6(18),e.Q6J("ngIf",!n.insumo),e.xp6(2),e.hij("Cantidad ",n.insumo?" ("+n.insumo.UNIDAD_MEDIDA+")":"",""),e.xp6(1),e.Q6J("ngIf",!n.insumo),e.xp6(6),e.Q6J("ngIf",n.registros.length<1),e.xp6(1),e.Q6J("ngForOf",n.registros),e.xp6(1),e.Q6J("length",n.tamano)("pageSize",n.limite)("pageSizeOptions",e.VKq(17,Be,n.tamano))("pageIndex",n.indice))},dependencies:[d.mk,d.sg,d.O5,_.lW,g.Hw,C.Ou,E.NW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,d.rS,d.uU],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined";.background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconUnlock[_ngcontent-%COMP%]{color:#82da71}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}']}),o})();const ze=["cerrarCrear"];function Ke(o,r){1&o&&e._UZ(0,"mat-spinner",22),2&o&&e.Q6J("diameter",50)}let He=(()=>{class o{constructor(t,n,i,a){this.unidadService=t,this.pantalla=n,this.fb=i,this.authService=a,this.onCerrar=new e.vpe,this.onCrear=new e.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.formularioCreacion=this.fb.group({nombre:["",[s.kI.required,s.kI.maxLength(15)]],unidad_medida:["",[s.kI.required,s.kI.maxLength(4)]]}),this.toMayus=T.K.toMayus}crearUnidad(){if(!this.enEjecucion){const{nombre:t,unidad_medida:n}=this.formularioCreacion.value,i=this.authService.usuario.id_usuario;this.enEjecucion=!0,this.subscripcion=this.unidadService.postUnidad(n,t,i).subscribe(a=>{this.onCrear.emit(),!0===a.ok?(this.enEjecucion=!1,this.cerrarCrear._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:a.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,u().fire({title:"Advertencia",text:a.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}ngOnInit(){}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},250)}ngOnDestroy(){this.cerrarCrear._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.R),e.Y36(h.i),e.Y36(s.qu),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nueva-unidad"]],viewQuery:function(t,n){if(1&t&&e.Gf(ze,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarCrear=i.first)}},outputs:{onCerrar:"onCerrar",onCrear:"onCrear"},decls:38,vars:3,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup","ngSubmit"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","nombre","placeholder","Nombre de la unidad","autocomplete","off",3,"keyup"],["matSuffix",""],["matInput","","formControlName","unidad_medida","placeholder","Unidad de medida","autocomplete","off",3,"keyup"],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","submit",1,"btn-a",3,"disabled"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],[1,"me-3",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Ingresar nueva Unidad"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return n.crearUnidad()}),e.TgZ(13,"p",10),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"mat-form-field",11)(16,"mat-label"),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("keyup",function(){return n.toMayus(n.formularioCreacion,"nombre")}),e.qZA(),e.TgZ(19,"mat-icon",13),e._uU(20,"drive_file_rename_outline"),e.qZA()(),e.TgZ(21,"p",10),e._uU(22,"Unidad"),e.qZA(),e.TgZ(23,"mat-form-field",11)(24,"mat-label"),e._uU(25,"Unidad"),e.qZA(),e.TgZ(26,"input",14),e.NdJ("keyup",function(){return n.toMayus(n.formularioCreacion,"unidad_medida")}),e.qZA(),e.TgZ(27,"mat-icon",13),e._uU(28,"scale"),e.qZA()(),e.TgZ(29,"div",15)(30,"div",16)(31,"button",17)(32,"mat-icon",18),e._uU(33,"save"),e.qZA(),e.TgZ(34,"span",19),e._uU(35,"Guardar"),e.qZA()()(),e.YNc(36,Ke,1,1,"mat-spinner",20),e.qZA()()()(),e._UZ(37,"div",21),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("formGroup",n.formularioCreacion),e.xp6(19),e.Q6J("disabled",n.formularioCreacion.invalid),e.xp6(5),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,m.R9,x.Nt,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),o})();const je=["cerrarEditar"],$e=["nombre"],Ve=["unidadMedida"];function Xe(o,r){1&o&&e._UZ(0,"mat-spinner",23),2&o&&e.Q6J("diameter",50)}let We=(()=>{class o{constructor(t,n,i,a){this.unidadService=t,this.pantalla=n,this.fb=i,this.authService=a,this.onCerrar=new e.vpe,this.onActualizacion=new e.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.toMayus=T.K.toMayusNoReactivo}get unidad(){return this.unidadService.unidad}ngOnInit(){}actualizarUnidad(){this.enEjecucion||(this.enEjecucion=!0,this.unidadService.putUnidad(this.unidad.ID,this.unidadMedida.nativeElement.value,this.nombre.nativeElement.value,this.authService.usuario.id_usuario).subscribe(a=>{this.onActualizacion.emit(),!0===a.ok?(this.cerrarEditar._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:a.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:a,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},250)}ngOnDestroy(){this.cerrarEditar._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.R),e.Y36(h.i),e.Y36(s.qu),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editar-unidad"]],viewQuery:function(t,n){if(1&t&&(e.Gf(je,5),e.Gf($e,5),e.Gf(Ve,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEditar=i.first),e.iGM(i=e.CRH())&&(n.nombre=i.first),e.iGM(i=e.CRH())&&(n.unidadMedida=i.first)}},outputs:{onCerrar:"onCerrar",onActualizacion:"onActualizacion"},decls:40,vars:3,consts:[["id","exampleModal2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","placeholder","Nombre de la unidad","autocomplete","off",3,"value","keyup"],["nombre",""],["matSuffix",""],["matInput","","placeholder","Unidad de medida","autocomplete","off",3,"value","keyup"],["unidadMedida",""],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","button",1,"btn-a",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],[1,"me-3",3,"diameter"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Editar Producto"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"p",9),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"mat-form-field",10)(16,"mat-label"),e._uU(17,"Nombre"),e.qZA(),e.TgZ(18,"input",11,12),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(19);return e.KtG(n.toMayus(c))}),e.qZA(),e.TgZ(20,"mat-icon",13),e._uU(21,"drive_file_rename_outline"),e.qZA()(),e.TgZ(22,"p",9),e._uU(23,"Unidad"),e.qZA(),e.TgZ(24,"mat-form-field",10)(25,"mat-label"),e._uU(26,"Unidad"),e.qZA(),e.TgZ(27,"input",14,15),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(28);return e.KtG(n.toMayus(c))}),e.qZA(),e.TgZ(29,"mat-icon",13),e._uU(30,"scale"),e.qZA()(),e.TgZ(31,"div",16)(32,"div",17)(33,"button",18),e.NdJ("click",function(){return n.actualizarUnidad()}),e.TgZ(34,"mat-icon",19),e._uU(35,"save"),e.qZA(),e.TgZ(36,"span",20),e._uU(37,"Guardar"),e.qZA()()(),e.YNc(38,Xe,1,1,"mat-spinner",21),e.qZA()()()(),e._UZ(39,"div",22),e.qZA()()()}2&t&&(e.xp6(18),e.Q6J("value",n.unidad.NOMBRE),e.xp6(9),e.Q6J("value",n.unidad.UNIDAD_MEDIDA),e.xp6(11),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,m.R9,x.Nt,s._Y,s.JL],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),o})();const et=["cerrarEditar"];let tt=(()=>{class o{constructor(t,n,i){this.unidadService=t,this.authService=n,this.fb=i,this.onCerrar=new e.vpe,this.onActualizacion=new e.vpe,this.enEjecucion=!1,this.toMayus=T.K.toMayus}get unidad(){return this.unidadService.unidad}ngOnInit(){}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},100)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.R),e.Y36(f.e),e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver-detalle-unidad"]],viewQuery:function(t,n){if(1&t&&e.Gf(et,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEditar=i.first)}},outputs:{onCerrar:"onCerrar",onActualizacion:"onActualizacion"},decls:39,vars:2,consts:[["id","exampleModal1","data-bs-backdrop","static","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999999 !important"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],["appearance","legacy",1,"example-full-width"],["matInput","","disabled","true",3,"value"],["matSuffix",""],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-a"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Detalles de la unidad"),e.qZA(),e.TgZ(6,"button",5,6)(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"mat-form-field",9)(14,"mat-label"),e._uU(15,"Nombre"),e.qZA(),e._UZ(16,"input",10),e.TgZ(17,"mat-icon",11),e._uU(18,"drive_file_rename_outline"),e.qZA()(),e.TgZ(19,"mat-form-field",9)(20,"mat-label"),e._uU(21,"Unidad"),e.qZA(),e._UZ(22,"input",10),e.TgZ(23,"mat-icon",11),e._uU(24,"scale"),e.qZA()(),e.TgZ(25,"mat-form-field",9)(26,"mat-label"),e._uU(27,"Pantalla"),e.qZA(),e._UZ(28,"input",10),e.TgZ(29,"mat-icon",11),e._uU(30,"monitor"),e.qZA()(),e.TgZ(31,"div",12)(32,"div",13)(33,"button",14)(34,"mat-icon",15),e._uU(35,"arrow_back"),e.qZA(),e.TgZ(36,"span",16),e._uU(37,"Volver"),e.qZA()()()()()()(),e._UZ(38,"div",17),e.qZA()()()),2&t&&(e.xp6(16),e.Q6J("value",n.unidad.NOMBRE),e.xp6(6),e.Q6J("value",n.unidad.UNIDAD_MEDIDA))},dependencies:[_.lW,g.Hw,m.KE,m.hX,m.R9,x.Nt,s._Y,s.JL],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.btn-p[_ngcontent-%COMP%]{width:50%;border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{width:100%;background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}"]}),o})();const nt=["cerrarEliminar"];let ot=(()=>{class o{constructor(t,n){this.unidadService=t,this.authService=n,this.onEliminar=new e.vpe,this.enEjecucion=!1}get unidad(){return this.unidadService.unidad}eliminarUnidad(){this.enEjecucion||(this.enEjecucion=!0,this.subscripcion=this.unidadService.deleteUnidad(this.unidad.ID,this.authService.usuario.id_usuario).subscribe(n=>{!0===n.ok?(this.onEliminar.emit(),u().fire({title:"\xa1\xc9xito!",text:n.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:n,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}ngOnInit(){}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.cerrarEliminar._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.R),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-eliminar-unidad"]],viewQuery:function(t,n){if(1&t&&e.Gf(nt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEliminar=i.first)}},outputs:{onEliminar:"onEliminar"},decls:26,vars:1,consts:[["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarEliminar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"text-center","mb-4"],["src","./../../../../../../../assets/icons/WarningRelleno.svg","width","50px","height","50px"],[1,"text-center","fw-normal"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5," Confirmaci\xf3n "),e.qZA(),e.TgZ(6,"button",5,6)(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"div",9),e._UZ(14,"img",10),e.qZA(),e.TgZ(15,"h5",11),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",12)(19,"div",13)(20,"button",14),e.NdJ("click",function(){return n.eliminarUnidad()}),e.TgZ(21,"mat-icon",15),e._uU(22,"delete_forever"),e.qZA(),e.TgZ(23,"span",16),e._uU(24,"Eliminar"),e.qZA()()()()()()(),e._UZ(25,"div",17),e.qZA()()()),2&t&&(e.xp6(16),e.hij(" \xbfDesea eliminar la unidad ",n.unidad.NOMBRE,"? "))},dependencies:[_.lW,g.Hw,s._Y,s.JL],styles:[".btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}"]}),o})();function it(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generando... "),e.qZA())}function rt(o,r){if(1&o&&(e.TgZ(0,"span",24),e._UZ(1,"mat-spinner",25),e.YNc(2,it,2,0,"span",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("diameter",30),e.xp6(1),e.Q6J("ngIf",t.generando)}}function at(o,r){1&o&&e._UZ(0,"img",26)}function st(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generar reporte"),e.qZA())}function ct(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.creando=!0)}),e._uU(1,"Nuevo"),e.qZA()}}function lt(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function dt(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",28)(2,"div",24)(3,"mat-icon",29),e._uU(4,"info_outline"),e.qZA(),e.TgZ(5,"strong",30),e._uU(6,"No se encontraron registros"),e.qZA()()()())}function ut(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editando=!0)})("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(1,"mat-icon",40),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Editar"),e.qZA()()}}function mt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(1,"mat-icon",29),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Eliminar"),e.qZA()()}}function pt(o,r){if(1&o&&(e.TgZ(0,"td",34)(1,"button",35)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,36),e.YNc(6,ut,5,0,"button",37),e.YNc(7,mt,5,0,"button",38),e.qZA()()),2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_ELIMINACION)}}function _t(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.YNc(5,pt,8,3,"td",33),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.NOMBRE),e.xp6(2),e.Oqu(t.UNIDAD_MEDIDA),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION)}}function gt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-nueva-unidad",42),e.NdJ("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.creando=i)})("onCrear",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())}),e.qZA()}}function ft(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-ver-detalle-unidad",43),e.NdJ("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.editando=i)})("onActualizacion",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())}),e.qZA()}}function bt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-editar-unidad",43),e.NdJ("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.editando=i)})("onActualizacion",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())}),e.qZA()}}const ht=function(o){return[5,10,25,50,o]};let vt=(()=>{class o{constructor(t,n,i,a,c){this.unidadService=t,this.usuario=n,this.pantalla=i,this.fb=a,this.ingresosService=c,this.onAbrirMenu=new e.vpe,this.toMayus=T.K.toMayusNoReactivo,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.generando=!1,this.buscando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[s.kI.required,s.kI.maxLength(100)]]}),this.creando=!1,this.editando=!1}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}get permisos(){return this.pantalla.permisos}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}cargarRegistros(){this.subscripcion=this.unidadService.getUnidades(this.usuario.usuario.id_usuario).subscribe(n=>{this.registros=this.unidadService.unidades,this.tamano=n.countUnidades,this.limite=n.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:t}=this.formularioBusqueda.value;this.unidadService.getReporte(t).subscribe(n=>{let i=new Blob([n],{type:"application/pdf"}),a=window.URL.createObjectURL(i);document.createElement("a").href=a,window.open(a,"_blank"),this.generando=!1})}}cambioDePagina(t){this.paginadorPorReferencia=t,this.subscripcion.unsubscribe();const n=this.usuario.usuario.id_usuario;let{buscar:i}=this.formularioBusqueda.value;this.buscando||(i="");let a=(t.pageIndex*t.pageSize).toString();this.desde=a,this.subscripcion=this.unidadService.getUnidades(n,i,t.pageSize.toString(),a).subscribe(c=>{this.registros=c.unidades,this.tamano=c.countUnidades,this.limite=c.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const t=this.usuario.usuario.id_usuario,{buscar:n}=this.formularioBusqueda.value;this.buscando=""!==n,this.desde="0",this.subscripcion=this.unidadService.getUnidades(t,n).subscribe(i=>{this.indice=0,this.registros=i.unidades,this.tamano=i.countUnidades,this.limite=i.limite})}seleccionar(t){this.unidadService.getUnidad(t).subscribe()}recargar(){const t=this.usuario.usuario.id_usuario;let{buscar:n}=this.formularioBusqueda.value;this.subscripcion=this.unidadService.getUnidades(t,n,this.limite.toString(),this.desde).subscribe(i=>{this.registros=i.unidades,this.tamano=i.countUnidades,this.limite=i.limite})}abrirMenu(){this.onAbrirMenu.emit(!0)}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,16).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I.R),e.Y36(f.e),e.Y36(h.i),e.Y36(s.qu),e.Y36(M.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-unidad"]],outputs:{onAbrirMenu:"onAbrirMenu"},decls:37,vars:18,consts:[["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",3,"mouseenter",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3",3,"keyup"],["buscar",""],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],[1,"align-middle"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[3,"onCerrar","onCrear",4,"ngIf"],[3,"onCerrar","onActualizacion",4,"ngIf"],[3,"onEliminar"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"me-3","btn-a","mb-2",3,"mouseenter"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","Nombre"],["data-title","Unidad"],["data-title","Acci\xf3n",4,"ngIf"],["data-title","Acci\xf3n"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter","click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter","click"],["id","iconEditar"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click"],[3,"onCerrar","onCrear"],[3,"onCerrar","onActualizacion"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div")(1,"h3"),e._uU(2,"Gesti\xf3n de Unidades"),e.qZA(),e.TgZ(3,"div",0)(4,"div",1)(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.generarReporte()}),e.YNc(7,rt,3,2,"span",4),e.YNc(8,at,1,0,"img",5),e.YNc(9,st,2,0,"span",6),e.qZA(),e.YNc(10,ct,2,0,"button",7),e.qZA(),e.TgZ(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return n.buscarRegistro()}),e.TgZ(13,"label",10),e._uU(14,"Buscar:"),e.qZA(),e.TgZ(15,"input",11,12),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(16);return e.KtG(n.toMayus(c))}),e.qZA()()()(),e._UZ(17,"hr",13),e.TgZ(18,"div",14)(19,"table",15)(20,"thead",16)(21,"tr")(22,"th"),e._uU(23,"Nombre"),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Unidad Medida"),e.qZA(),e.YNc(26,lt,2,0,"th",6),e.qZA()(),e.TgZ(27,"tbody",17),e.YNc(28,dt,7,0,"tr",6),e.YNc(29,_t,6,3,"tr",18),e.qZA()()(),e.TgZ(30,"mat-paginator",19),e.NdJ("page",function(c){return n.cambioDePagina(c)}),e.qZA()(),e.TgZ(31,"div",20),e._UZ(32,"br"),e.qZA(),e.YNc(33,gt,1,0,"app-nueva-unidad",21),e.YNc(34,ft,1,0,"app-ver-detalle-unidad",22),e.YNc(35,bt,1,0,"app-editar-unidad",22),e.TgZ(36,"app-eliminar-unidad",23),e.NdJ("onEliminar",function(){return n.recargar()}),e.qZA()()}2&t&&(e.xp6(6),e.Q6J("ngClass",n.generando?"d-flex align-items-center":""),e.xp6(1),e.Q6J("ngIf",n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_INSERCION),e.xp6(2),e.Q6J("formGroup",n.formularioBusqueda),e.xp6(14),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION),e.xp6(2),e.Q6J("ngIf",n.registros.length<1),e.xp6(1),e.Q6J("ngForOf",n.registros),e.xp6(1),e.Q6J("length",n.tamano)("pageSize",n.limite)("pageSizeOptions",e.VKq(16,ht,n.tamano))("pageIndex",n.indice),e.xp6(3),e.Q6J("ngIf",n.creando),e.xp6(1),e.Q6J("ngIf",n.editando),e.xp6(1),e.Q6J("ngIf",n.editando))},dependencies:[d.mk,d.sg,d.O5,_.lW,g.Hw,b.VK,b.OP,b.p6,C.Ou,E.NW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,He,We,tt,ot],styles:[".background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}"]}),o})();var w=p(8287);let R=(()=>{class o{constructor(t){this.http=t,this.baseURL=S.N.baseURL}getDepartamentos(){return this.http.get(`${this.baseURL}/direccion`).pipe()}getMunicipios(t){return this.http.get(`${this.baseURL}/direccion/municipios/${t}`).pipe()}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(D.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ct=["cerrarEditar"],Zt=["inputNombre"],xt=["inputDetalle"],Tt=["inputTelefono"],At=["selectDepartamento"],Mt=["selectMunicipio"];function It(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.NOMBRE,"")}}function Ot(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",29),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.NOMBRE,"")}}function Pt(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",9)(1,"mat-label"),e._uU(2,"Seleccione un Municipio"),e.qZA(),e.TgZ(3,"mat-select",30,31),e._UZ(5,"div",15),e.YNc(6,Ot,3,2,"ng-container",16),e.qZA(),e.TgZ(7,"mat-icon",12),e._uU(8,"cottage"),e.qZA()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("value",t.proveedor.ID_MUNICIPIO),e.xp6(3),e.Q6J("ngForOf",t.listaMunicipio)}}function Ut(o,r){1&o&&e._UZ(0,"mat-spinner",32),2&o&&e.Q6J("diameter",50)}let wt=(()=>{class o{constructor(t,n,i,a){this.proveedorService=t,this.direccionService=n,this.fb=i,this.usuario=a,this.onActualizacion=new e.vpe,this.onCerrar=new e.vpe,this.listaDepartamento=[],this.listaMunicipio=[],this.enEjecucion=!1,this.toMayus=T.K.toMayusNoReactivo}get proveedor(){return this.proveedorService.proveedor}actualizar(){this.enEjecucion||(this.enEjecucion=!0,this.proveedorService.actualizarProveedor(this.proveedor.ID,this.inputNombre.nativeElement.value,this.inputDetalle.nativeElement.value,this.proveedor.ID_DIRECCION,this.selectDepartamento.value,this.selectMunicipio.value,this.inputTelefono.nativeElement.value,this.usuario.usuario.id_usuario).subscribe(v=>{this.onActualizacion.emit(),!0===v.ok?(this.cerrarEditar._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:v.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:v,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}cargarDepartamentos(){this.direccionService.getDepartamentos().subscribe(t=>{this.listaDepartamento=t.departamento,this.cargarMunicipios(this.proveedor.ID_DEPARTAMENTO)})}cargarMunicipios(t){this.direccionService.getMunicipios(t).subscribe(n=>{this.listaMunicipio=n.municipio})}ngOnInit(){this.cargarDepartamentos()}ngOnDestroy(){this.cerrarEditar._elementRef.nativeElement.click()}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},100)}limpiarSelect(){this.selectMunicipio.value=null}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.z),e.Y36(R),e.Y36(s.qu),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editar-proveedor"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Ct,5),e.Gf(Zt,5),e.Gf(xt,5),e.Gf(Tt,5),e.Gf(At,5),e.Gf(Mt,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEditar=i.first),e.iGM(i=e.CRH())&&(n.inputNombre=i.first),e.iGM(i=e.CRH())&&(n.inputDetalle=i.first),e.iGM(i=e.CRH())&&(n.inputTelefono=i.first),e.iGM(i=e.CRH())&&(n.selectDepartamento=i.first),e.iGM(i=e.CRH())&&(n.selectMunicipio=i.first)}},outputs:{onActualizacion:"onActualizacion",onCerrar:"onCerrar"},decls:55,vars:7,consts:[["id","exampleModal2","data-bs-backdrop","static","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],["appearance","legacy",1,"example-full-width"],["matInput","",3,"value","keyup"],["inputNombre",""],["matSuffix",""],[3,"value","selectionChange"],["selectDepartamento",""],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],["class","example-full-width","appearance","legacy",4,"ngIf"],["matInput","","autocomplete","off",3,"value","keyup"],["inputDetalle",""],["matPrefix",""],["inputTelefono",""],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","button",1,"btn-a",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],["id","selector",3,"value"],[3,"value"],["selectMunicipio",""],[1,"me-3",3,"diameter"]],template:function(t,n){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Editar Proveedor"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"mat-form-field",9)(14,"mat-label"),e._uU(15,"Nombre"),e.qZA(),e.TgZ(16,"input",10,11),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(17);return e.KtG(n.toMayus(c))}),e.qZA(),e.TgZ(18,"mat-icon",12),e._uU(19,"badge"),e.qZA()(),e.TgZ(20,"mat-form-field",9)(21,"mat-label"),e._uU(22,"Seleccione un Departamento"),e.qZA(),e.TgZ(23,"mat-select",13,14),e.NdJ("selectionChange",function(){e.CHM(i);const c=e.MAs(24);return n.cargarMunicipios(c.value),e.KtG(n.limpiarSelect())}),e._UZ(25,"div",15),e.YNc(26,It,3,2,"ng-container",16),e.qZA(),e.TgZ(27,"mat-icon",12),e._uU(28,"location_city"),e.qZA()(),e.YNc(29,Pt,9,2,"mat-form-field",17),e.TgZ(30,"mat-form-field",9)(31,"mat-label"),e._uU(32,"Direcci\xf3n"),e.qZA(),e.TgZ(33,"input",18,19),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(34);return e.KtG(n.toMayus(c))}),e.qZA(),e.TgZ(35,"mat-icon",12),e._uU(36,"person_pin_circle"),e.qZA()(),e.TgZ(37,"mat-form-field",9)(38,"mat-label"),e._uU(39,"Tel\xe9fono"),e.qZA(),e.TgZ(40,"span",20),e._uU(41,"+504 \xa0"),e.qZA(),e.TgZ(42,"input",10,21),e.NdJ("keyup",function(){e.CHM(i);const c=e.MAs(43);return e.KtG(n.toMayus(c))}),e.qZA(),e.TgZ(44,"mat-icon",12),e._uU(45,"tty"),e.qZA()(),e.TgZ(46,"div",22)(47,"div",23)(48,"button",24),e.NdJ("click",function(){return n.actualizar()}),e.TgZ(49,"mat-icon",25),e._uU(50,"save"),e.qZA(),e.TgZ(51,"span",26),e._uU(52,"Guardar"),e.qZA()()(),e.YNc(53,Ut,1,1,"mat-spinner",27),e.qZA()()()(),e._UZ(54,"div",28),e.qZA()()()}2&t&&(e.xp6(16),e.Q6J("value",n.proveedor.NOMBRE),e.xp6(7),e.Q6J("value",n.proveedor.ID_DEPARTAMENTO),e.xp6(3),e.Q6J("ngForOf",n.listaDepartamento),e.xp6(3),e.Q6J("ngIf",n.listaMunicipio.length>0),e.xp6(4),e.Q6J("value",n.proveedor.DETALLE),e.xp6(9),e.Q6J("value",n.proveedor.TELEFONO),e.xp6(11),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.sg,d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,m.qo,m.R9,x.Nt,O.gD,P.ey,s._Y,s.JL],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.btn-p[_ngcontent-%COMP%]{width:50%;border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{width:100%;background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}  .cdk-overlay-container{z-index:999999!important}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}"]}),o})();const kt=["cerrarEliminar"];let Et=(()=>{class o{constructor(t,n){this.proveedorService=t,this.authService=n,this.onEliminar=new e.vpe,this.enEjecucion=!1}get proveedor(){return this.proveedorService.proveedor}eliminarProveedor(){this.enEjecucion||(this.enEjecucion=!0,this.subscripcion=this.proveedorService.eliminarRol(this.proveedor.ID,this.authService.usuario.id_usuario).subscribe(n=>{!0===n.ok?(this.onEliminar.emit(),u().fire({title:"\xa1\xc9xito!",text:n.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:n,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}ngOnInit(){}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.cerrarEliminar._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.z),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-eliminar-proveedor"]],viewQuery:function(t,n){if(1&t&&e.Gf(kt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEliminar=i.first)}},outputs:{onEliminar:"onEliminar"},decls:26,vars:1,consts:[["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarEliminar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"text-center","mb-4"],["src","./../../../../../../../assets/icons/WarningRelleno.svg","width","50px","height","50px"],[1,"text-center","fw-normal"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5," Confirmaci\xf3n "),e.qZA(),e.TgZ(6,"button",5,6)(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"div",9),e._UZ(14,"img",10),e.qZA(),e.TgZ(15,"h5",11),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",12)(19,"div",13)(20,"button",14),e.NdJ("click",function(){return n.eliminarProveedor()}),e.TgZ(21,"mat-icon",15),e._uU(22,"delete_forever"),e.qZA(),e.TgZ(23,"span",16),e._uU(24,"Eliminar"),e.qZA()()()()()()(),e._UZ(25,"div",17),e.qZA()()()),2&t&&(e.xp6(16),e.hij(" \xbfDesea eliminar al proveedor: ",n.proveedor.NOMBRE,"? "))},dependencies:[_.lW,g.Hw,s._Y,s.JL],styles:[".btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}"]}),o})();const qt=["cerrarCrear"];function yt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.NOMBRE,"")}}function Nt(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",27),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.NOMBRE,"")}}function Jt(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",10)(1,"mat-label"),e._uU(2,"Seleccione un Municipio"),e.qZA(),e.TgZ(3,"mat-select",28),e._UZ(4,"div",14),e.YNc(5,Nt,3,2,"ng-container",15),e.qZA(),e.TgZ(6,"mat-icon",12),e._uU(7,"cottage"),e.qZA()()),2&o){const t=e.oxw();e.xp6(5),e.Q6J("ngForOf",t.listaMunicipio)}}function St(o,r){1&o&&e._UZ(0,"mat-spinner",29),2&o&&e.Q6J("diameter",50)}let Dt=(()=>{class o{constructor(t,n,i,a){this.proveedorService=t,this.authService=n,this.direccionService=i,this.fb=a,this.onCerrar=new e.vpe,this.onCrear=new e.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.formularioProveedor=this.fb.group({nombre:["",[s.kI.required,s.kI.maxLength(50)]],id_municipio:["",[s.kI.required]],detalle:["",[s.kI.required,s.kI.maxLength(200)]],telefono:["",[s.kI.maxLength(9)]],departamento:["",[s.kI.required]]}),this.listaDepartamento=[],this.listaMunicipio=[],this.toMayus=T.K.toMayus}validarNumeros(t){return(0,q.Z)(function*(){("+"===t.key||"e"===t.key||"E"===t.key||"."===t.key)&&t.preventDefault()})()}formatoTelefono(t){var n=this;return(0,q.Z)(function*(){if(4==parseInt(t.toString()).toString().length){const i=n.formularioProveedor.controls.telefono.value.toString();n.formularioProveedor.controls.telefono.setValue((i.toString()+"-").toString())}})()}crearProveedor(){if(!this.enEjecucion){const{nombre:t,detalle:n,id_municipio:i,telefono:a}=this.formularioProveedor.value,c=this.authService.usuario.id_usuario;this.enEjecucion=!0,this.subscripcion=this.proveedorService.crearProveedor(t,i,n,a,c).subscribe(l=>{this.onCrear.emit(),!0===l.ok?(this.enEjecucion=!1,this.cerrarCrear._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:l.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,u().fire({title:"Advertencia",text:l,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}cargarDepartamentos(){this.direccionService.getDepartamentos().subscribe(t=>{this.listaDepartamento=t.departamento})}cargarMunicipios(){const{departamento:t}=this.formularioProveedor.value;this.direccionService.getMunicipios(t).subscribe(n=>{this.listaMunicipio=n.municipio})}ngOnInit(){this.cargarDepartamentos()}ngOnDestroy(){this.cerrarCrear._elementRef.nativeElement.click()}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},250)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.z),e.Y36(f.e),e.Y36(R),e.Y36(s.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nuevo-proveedor"]],viewQuery:function(t,n){if(1&t&&e.Gf(qt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarCrear=i.first)}},outputs:{onCerrar:"onCerrar",onCrear:"onCrear"},decls:51,vars:5,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup","ngSubmit"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","nombre","placeholder","Nombre del Proveedor",3,"keyup"],["matSuffix",""],["formControlName","departamento",3,"selectionChange"],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],["class","example-full-width","appearance","legacy",4,"ngIf"],["formControlName","detalle","placeholder","Direcci\xf3n Detallada","matInput","",3,"keyup"],["matPrefix",""],["formControlName","telefono","placeholder","Ejemplo: 9999-9999","matInput","","autocomplete","off"],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","submit",1,"btn-a",3,"disabled"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],["id","selector",3,"value"],["formControlName","id_municipio"],[1,"me-3",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Nuevo Proveedor"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return n.crearProveedor()}),e.TgZ(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Proveedor"),e.qZA(),e.TgZ(16,"input",11),e.NdJ("keyup",function(){return n.toMayus(n.formularioProveedor,"nombre")}),e.qZA(),e.TgZ(17,"mat-icon",12),e._uU(18,"badge"),e.qZA()(),e.TgZ(19,"mat-form-field",10)(20,"mat-label"),e._uU(21,"Seleccione un Departamento"),e.qZA(),e.TgZ(22,"mat-select",13),e.NdJ("selectionChange",function(){return n.cargarMunicipios()}),e._UZ(23,"div",14),e.YNc(24,yt,3,2,"ng-container",15),e.qZA(),e.TgZ(25,"mat-icon",12),e._uU(26,"location_city"),e.qZA()(),e.YNc(27,Jt,8,1,"mat-form-field",16),e.TgZ(28,"mat-form-field",10)(29,"mat-label"),e._uU(30,"Direcci\xf3n"),e.qZA(),e.TgZ(31,"input",17),e.NdJ("keyup",function(){return n.toMayus(n.formularioProveedor,"detalle")}),e.qZA(),e.TgZ(32,"mat-icon",12),e._uU(33,"person_pin_circle"),e.qZA()(),e.TgZ(34,"mat-form-field",10)(35,"mat-label"),e._uU(36,"Tel\xe9fono"),e.qZA(),e.TgZ(37,"span",18),e._uU(38,"+504 \xa0"),e.qZA(),e._UZ(39,"input",19),e.TgZ(40,"mat-icon",12),e._uU(41,"tty"),e.qZA()(),e.TgZ(42,"div",20)(43,"div",21)(44,"button",22)(45,"mat-icon",23),e._uU(46,"save"),e.qZA(),e.TgZ(47,"span",24),e._uU(48,"Guardar"),e.qZA()()(),e.YNc(49,St,1,1,"mat-spinner",25),e.qZA()()()(),e._UZ(50,"div",26),e.qZA()()()),2&t&&(e.xp6(12),e.Q6J("formGroup",n.formularioProveedor),e.xp6(12),e.Q6J("ngForOf",n.listaDepartamento),e.xp6(3),e.Q6J("ngIf",n.listaMunicipio.length>0),e.xp6(17),e.Q6J("disabled",n.formularioProveedor.invalid),e.xp6(5),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.sg,d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,m.qo,m.R9,x.Nt,O.gD,P.ey,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}  .cdk-overlay-container{z-index:999999!important}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}"]}),o})();const Rt=["cerrarDetalle"];let Qt=(()=>{class o{constructor(t,n){this.proveedorService=t,this.direccionService=n,this.listaDepartamento=[],this.listaMunicipio=[]}get proveedor(){return this.proveedorService.proveedor}cargarDepartamentos(){this.direccionService.getDepartamentos().subscribe(t=>{this.listaDepartamento=t.departamento,this.cargarMunicipios(this.proveedor.ID_DEPARTAMENTO)})}cargarMunicipios(t){this.direccionService.getMunicipios(t).subscribe(n=>{this.listaMunicipio=n.municipio})}ngOnInit(){}ngOnDestroy(){this.cerrarDetalle._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.z),e.Y36(R))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-detalles-proveedor"]],viewQuery:function(t,n){if(1&t&&e.Gf(Rt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarDetalle=i.first)}},decls:82,vars:15,consts:[["id","exampleModal4","data-bs-backdrop","static","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999999 !important"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarDetalle","","cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],["appearance","legacy",1,"example-full-width"],["matInput","","disabled","true",3,"value"],["matSuffix",""],["matInput","","autocomplete","off","disabled","true",3,"value"],["matPrefix",""],[1,""],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-a"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Detalles del proveedor"),e.qZA(),e.TgZ(6,"button",5,6)(9,"mat-icon"),e._uU(10,"cancel"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"form")(14,"mat-form-field",9)(15,"mat-label"),e._uU(16,"Nombre"),e.qZA(),e._UZ(17,"input",10),e.TgZ(18,"mat-icon",11),e._uU(19,"drive_file_rename_outline"),e.qZA()(),e.TgZ(20,"mat-form-field",9)(21,"mat-label"),e._uU(22,"Departamento"),e.qZA(),e._UZ(23,"input",10),e.TgZ(24,"mat-icon",11),e._uU(25,"location_city"),e.qZA()(),e.TgZ(26,"mat-form-field",9)(27,"mat-label"),e._uU(28,"Municipio"),e.qZA(),e._UZ(29,"input",10),e.TgZ(30,"mat-icon",11),e._uU(31,"cottage"),e.qZA()(),e.TgZ(32,"mat-form-field",9)(33,"mat-label"),e._uU(34,"Direcci\xf3n"),e.qZA(),e._UZ(35,"input",12),e.TgZ(36,"mat-icon",11),e._uU(37,"person_pin_circle"),e.qZA()(),e.TgZ(38,"mat-form-field",9)(39,"mat-label"),e._uU(40,"Tel\xe9fono"),e.qZA(),e.TgZ(41,"span",13),e._uU(42,"+504 \xa0"),e.qZA(),e._UZ(43,"input",10),e.TgZ(44,"mat-icon",11),e._uU(45,"tty"),e.qZA()(),e.TgZ(46,"p",14),e._uU(47,"Informaci\xf3n de auditor\xeda"),e.qZA(),e.TgZ(48,"mat-form-field",9)(49,"mat-label"),e._uU(50,"Creado por"),e.qZA(),e._UZ(51,"input",10),e.TgZ(52,"mat-icon",11),e._uU(53,"person_add"),e.qZA()(),e.TgZ(54,"mat-form-field",9)(55,"mat-label"),e._uU(56,"Fecha de creaci\xf3n"),e.qZA(),e._UZ(57,"input",10),e.ALo(58,"date"),e.TgZ(59,"mat-icon",11),e._uU(60,"event"),e.qZA()(),e.TgZ(61,"mat-form-field",9)(62,"mat-label"),e._uU(63,"Modificado por"),e.qZA(),e._UZ(64,"input",10),e.TgZ(65,"mat-icon",11),e._uU(66,"edit"),e.qZA()(),e.TgZ(67,"mat-form-field",9)(68,"mat-label"),e._uU(69,"Fecha de modificaci\xf3n"),e.qZA(),e._UZ(70,"input",10),e.ALo(71,"date"),e.TgZ(72,"mat-icon",11),e._uU(73,"edit_calendar"),e.qZA()(),e.TgZ(74,"div",15)(75,"div",16)(76,"button",17)(77,"mat-icon",18),e._uU(78,"arrow_back"),e.qZA(),e.TgZ(79,"span",19),e._uU(80,"Volver"),e.qZA()()()()()()(),e._UZ(81,"div",20),e.qZA()()()),2&t&&(e.xp6(17),e.Q6J("value",n.proveedor.NOMBRE),e.xp6(6),e.Q6J("value",n.proveedor.DEPARTAMENTO),e.xp6(6),e.Q6J("value",n.proveedor.MUNICIPIO),e.xp6(6),e.Q6J("value",n.proveedor.DETALLE),e.xp6(8),e.Q6J("value",n.proveedor.TELEFONO),e.xp6(8),e.Q6J("value",n.proveedor.CREADO_POR),e.xp6(6),e.Q6J("value",e.xi3(58,9,n.proveedor.FECHA_CREACION,"d/MMM/yy, h:mm a")),e.xp6(7),e.Q6J("value",n.proveedor.MODIFICACION_POR),e.xp6(6),e.Q6J("value",e.xi3(71,12,n.proveedor.FECHA_MODIFICACION,"d/MMM/yy, h:mm a")))},dependencies:[_.lW,g.Hw,m.KE,m.hX,m.qo,m.R9,x.Nt,s._Y,s.JL,d.uU],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.btn-p[_ngcontent-%COMP%]{width:50%;border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{width:100%;background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}"]}),o})();function Ft(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generando... "),e.qZA())}function Yt(o,r){if(1&o&&(e.TgZ(0,"span",24),e._UZ(1,"mat-spinner",25),e.YNc(2,Ft,2,0,"span",7),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("diameter",30),e.xp6(1),e.Q6J("ngIf",t.generando)}}function Gt(o,r){1&o&&e._UZ(0,"img",26)}function Bt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generar reporte"),e.qZA())}function Lt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.creando=!0)}),e._uU(1,"Nuevo"),e.qZA()}}function zt(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function Kt(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",28)(2,"div",24)(3,"mat-icon",29),e._uU(4,"info_outline"),e.qZA(),e.TgZ(5,"strong",30),e._uU(6,"No se encontraron registros"),e.qZA()()()())}function Ht(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",42),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editando=!0)}),e.TgZ(1,"mat-icon",43),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Editar"),e.qZA()()}}function jt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(1,"mat-icon",29),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Eliminar"),e.qZA()()}}function $t(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",35)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,37),e.ynx(6),e.TgZ(7,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(8,"mat-icon",39),e._uU(9,"text_snippet"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Ver m\xe1s"),e.qZA()(),e.BQk(),e.ynx(12),e.YNc(13,Ht,5,0,"button",40),e.BQk(),e.ynx(14),e.YNc(15,jt,5,0,"button",41),e.BQk(),e.qZA()()}if(2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(12),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION),e.xp6(2),e.Q6J("ngIf",n.permisos.PERMISO_ELIMINACION)}}function Vt(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.qZA(),e.YNc(7,$t,16,3,"td",34),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.NOMBRE),e.xp6(2),e.lnq("",t.DEPARTAMENTO,", ",t.MUNICIPIO,", ",t.DETALLE,""),e.xp6(2),e.Oqu(t.TELEFONO),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION)}}function Xt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-nuevo-proveedor",45),e.NdJ("onCrear",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())})("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.creando=i)}),e.qZA()}}function Wt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-editar-proveedor",46),e.NdJ("onActualizacion",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())})("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.editando=i)}),e.qZA()}}const en=function(o){return[5,10,25,50,o]};let tn=(()=>{class o{constructor(t,n,i,a,c){this.proveedorService=t,this.fb=n,this.pantalla=i,this.usuario=a,this.ingresosService=c,this.id=0,this.nombre="",this.detalle="",this.telefono="",this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.generando=!1,this.creando=!1,this.editando=!1,this.buscando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[s.kI.required,s.kI.maxLength(100)]]})}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}cargarRegistros(){this.subscripcion=this.proveedorService.getProveedores(this.usuario.usuario.id_usuario).subscribe(n=>{this.registros=this.proveedorService.proveedores,this.tamano=n.countProveedores,this.limite=n.limite})}cambioDePagina(t){this.paginadorPorReferencia=t,this.subscripcion.unsubscribe();const n=this.usuario.usuario.id_usuario;let{buscar:i}=this.formularioBusqueda.value;this.buscando||(i="");let a=(t.pageIndex*t.pageSize).toString();this.desde=a,this.subscripcion=this.proveedorService.getProveedores(n,i,t.pageSize.toString(),a).subscribe(c=>{this.registros=c.proveedores,this.tamano=c.countProveedores,this.limite=c.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const t=this.usuario.usuario.id_usuario,{buscar:n}=this.formularioBusqueda.value;this.buscando=""!==n,this.desde="0",this.subscripcion=this.proveedorService.getProveedores(t,n).subscribe(i=>{this.indice=0,this.registros=i.proveedores,this.tamano=i.countProveedores,this.limite=i.limite})}seleccionar(t){this.proveedorService.getUnProveedor(t).subscribe()}recargar(){const t=this.usuario.usuario.id_usuario;let{buscar:n}=this.formularioBusqueda.value;this.subscripcion=this.proveedorService.getProveedores(t,n,this.limite.toString(),this.desde).subscribe(i=>{this.registros=i.proveedores,this.tamano=i.countProveedores,this.limite=i.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:t}=this.formularioBusqueda.value;this.proveedorService.getReporte(t).subscribe(n=>{let i=new Blob([n],{type:"application/pdf"}),a=window.URL.createObjectURL(i);document.createElement("a").href=a,window.open(a,"_blank"),this.generando=!1})}}get permisos(){return this.pantalla.permisos}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,15).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w.z),e.Y36(s.qu),e.Y36(h.i),e.Y36(f.e),e.Y36(M.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-proveedor"]],decls:38,vars:17,consts:[[1,""],["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",3,"mouseenter",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],[1,"align-middle"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[3,"onCrear","onCerrar",4,"ngIf"],[3,"onActualizacion","onCerrar",4,"ngIf"],[3,"onEliminar"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"me-3","btn-a","mb-2",3,"mouseenter"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","Nombre"],["data-title","Direcci\xf3n"],["data-title","Tel\xe9fono"],["data-title","Acci\xf3n",4,"ngIf"],["data-title","Acci\xf3n"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["menu","matMenu"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal4","data-bs-whatever","@getbootstrap",3,"click"],["id","iconMas"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter"],["id","iconEditar"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click"],[3,"onCrear","onCerrar"],[3,"onActualizacion","onCerrar"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h3"),e._uU(2,"Gesti\xf3n de Proveedores"),e.qZA(),e.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"button",4),e.NdJ("click",function(){return n.generarReporte()}),e.YNc(7,Yt,3,2,"span",5),e.YNc(8,Gt,1,0,"img",6),e.YNc(9,Bt,2,0,"span",7),e.qZA(),e.YNc(10,Lt,2,0,"button",8),e.qZA(),e.TgZ(11,"div",9)(12,"form",10),e.NdJ("ngSubmit",function(){return n.buscarRegistro()}),e.TgZ(13,"label",11),e._uU(14,"Buscar:"),e.qZA(),e._UZ(15,"input",12),e.qZA()()(),e._UZ(16,"hr",13),e.TgZ(17,"div",14)(18,"table",15)(19,"thead",16)(20,"tr")(21,"th"),e._uU(22,"Nombre"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Direcci\xf3n"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Tel\xe9fono"),e.qZA(),e.YNc(27,zt,2,0,"th",7),e.qZA()(),e.TgZ(28,"tbody",17),e.YNc(29,Kt,7,0,"tr",7),e.YNc(30,Vt,8,6,"tr",18),e.qZA()()(),e.TgZ(31,"mat-paginator",19),e.NdJ("page",function(a){return n.cambioDePagina(a)}),e.qZA()(),e.TgZ(32,"div",20),e._UZ(33,"br"),e.qZA(),e.YNc(34,Xt,1,0,"app-nuevo-proveedor",21),e._UZ(35,"app-detalles-proveedor"),e.YNc(36,Wt,1,0,"app-editar-proveedor",22),e.TgZ(37,"app-eliminar-proveedor",23),e.NdJ("onEliminar",function(){return n.recargar()}),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngClass",n.generando?"d-flex align-items-center":""),e.xp6(1),e.Q6J("ngIf",n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_INSERCION),e.xp6(2),e.Q6J("formGroup",n.formularioBusqueda),e.xp6(15),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION),e.xp6(2),e.Q6J("ngIf",n.registros.length<1),e.xp6(1),e.Q6J("ngForOf",n.registros),e.xp6(1),e.Q6J("length",n.tamano)("pageSize",n.limite)("pageSizeOptions",e.VKq(15,en,n.tamano))("pageIndex",n.indice),e.xp6(3),e.Q6J("ngIf",n.creando),e.xp6(2),e.Q6J("ngIf",n.editando))},dependencies:[d.mk,d.sg,d.O5,_.lW,g.Hw,b.VK,b.OP,b.p6,C.Ou,E.NW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,wt,Et,Dt,Qt],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined";.background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}#iconMas[_ngcontent-%COMP%]{color:#5988ec}']}),o})();var J=p(9078);const nn=["cerrarCrear"];function on(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.NOMBRE,"")}}function rn(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",31),e._uU(2),e.ALo(3,"lowercase"),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.AsE(" (",e.lcZ(3,3,t.UNIDAD_MEDIDA),")-",t.NOMBRE,"")}}function an(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"form",32)(1,"mat-form-field",33)(2,"mat-label"),e._uU(3),e.qZA(),e.TgZ(4,"mat-select",34),e.NdJ("valueChange",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.manipulado=!0)}),e._UZ(5,"div",14),e.YNc(6,rn,4,5,"ng-container",15),e.qZA()(),e.TgZ(7,"mat-form-field",35)(8,"mat-label"),e._uU(9,"cantidad"),e.qZA(),e.TgZ(10,"input",36),e.NdJ("paste",function(i){return i.preventDefault()})("change",function(){e.CHM(t);const i=e.oxw();return i.calcularTotal(),e.KtG(i.manipulado=!0)})("keyup",function(){e.CHM(t);const i=e.oxw();return i.calcularTotal(),e.KtG(i.manipulado=!0)})("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.validarNumeros(i))}),e.qZA()(),e.TgZ(11,"mat-form-field",35)(12,"mat-label"),e._uU(13,"Precio unitario"),e.qZA(),e.TgZ(14,"input",37),e.NdJ("paste",function(i){return i.preventDefault()})("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.validarNumeros(i))})("change",function(){e.CHM(t);const i=e.oxw();return i.calcularTotal(),e.KtG(i.manipulado=!0)})("keyup",function(){e.CHM(t);const i=e.oxw();return i.calcularTotal(),e.KtG(i.manipulado=!0)}),e.qZA()(),e.TgZ(15,"div",38)(16,"div",39)(17,"button",40),e.NdJ("click",function(i){const c=e.CHM(t).index,l=e.oxw();return e.KtG(l.eliminarInsumo(c,i))}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA()(),e._UZ(20,"div"),e.qZA()()()}if(2&o){const t=r.index,n=e.oxw();e.Q6J("formGroupName",t),e.xp6(3),e.hij("Insumo ",t+1,""),e.xp6(3),e.Q6J("ngForOf",n.listaInsumo),e.xp6(11),e.Q6J("disabled",n.compra.controls.length<=1)}}function sn(o,r){1&o&&e._UZ(0,"mat-spinner",41),2&o&&e.Q6J("diameter",50)}let cn=(()=>{class o{constructor(t,n,i,a,c){this.authService=t,this.fb=n,this.insumoService=i,this.proveedorService=a,this.compraService=c,this.onCerrar=new e.vpe,this.onCrear=new e.vpe,this.listaInsumo=[],this.listaProveedor=[],this.manipulado=!1,this.enEjecucion=!1,this.formularioCreacion=this.fb.group({proveedor:["",[s.kI.required,s.kI.maxLength(100)]],compra:this.fb.array([this.fb.group({insumo:["",[s.kI.required]],cantidad:[1,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]],precio:[0,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]]})],[s.kI.required]),total:[{value:"0.00",disabled:!0}]})}get compra(){return this.formularioCreacion.controls.compra}validarNumeros(t){return(0,q.Z)(function*(){("+"===t.key||"-"===t.key||"e"===t.key||"E"===t.key)&&t.preventDefault()})()}cargarInsumos(){this.insumoService.getInsumos(this.authService.usuario.id_usuario,"","9999").subscribe(n=>{this.listaInsumo=n.insumos})}cargarProveedores(){this.proveedorService.getProveedores(this.authService.usuario.id_usuario,"","9999").subscribe(n=>{this.listaProveedor=n.proveedores})}agregarInsumo(){this.compra.push(this.fb.group({insumo:["",[s.kI.required]],cantidad:[1,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]],precio:[0,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]]}))}ingresarCompra(){if(!this.enEjecucion){const t=this.authService.usuario.id_usuario,n=this.formularioCreacion.controls.total.value,i=this.formularioCreacion.controls.proveedor.value;this.enEjecucion=!0,this.compraService.postCompra(t,i,this.compra.value,n).subscribe(a=>{!0===a.ok?(this.onCrear.emit(),this.enEjecucion=!1,this.manipulado=!1,this.cerrarCrear._elementRef.nativeElement.click(),u().fire({title:"\xa1\xc9xito!",text:a.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,u().fire({title:"Advertencia",text:a.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}calcularTotal(){let t=0;this.compra.controls.forEach(n=>{t+=n.value.cantidad*n.value.precio}),this.formularioCreacion.get("total")?.setValue(t.toFixed(2))}eliminarInsumo(t,n){let i=0;i=this.formularioCreacion.controls.total.value;let l=i-this.compra.controls[t].value.cantidad*this.compra.controls[t].value.precio;this.formularioCreacion.get("total")?.setValue(l.toFixed(2)),this.compra.removeAt(t),n.stopPropagation()}cerrar(){this.manipulado?u().fire({title:"\xa1Cambios sin guardar!",text:"\xbfDesea salir del formulario sin guardar los cambios?",icon:"question",showCancelButton:!0,confirmButtonColor:"#898989",cancelButtonColor:"#d12609",confirmButtonText:"Salir sin guardar",cancelButtonText:"Permanecer",reverseButtons:!0,background:"#2B2B2B",color:"#fff",heightAuto:!1}).then(t=>{t.isConfirmed&&(this.manipulado=!1,this.cerrarCrear._elementRef.nativeElement.click(),setTimeout(()=>{this.onCerrar.emit(!1)},100))}):(this.cerrarCrear._elementRef.nativeElement.click(),setTimeout(()=>{this.onCerrar.emit(!1)},100))}ngOnInit(){this.cargarProveedores(),this.cargarInsumos()}ngOnDestroy(){this.cerrarCrear._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.e),e.Y36(s.qu),e.Y36(A.A),e.Y36(w.z),e.Y36(J.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-nueva-compra"]],viewQuery:function(t,n){if(1&t&&e.Gf(nn,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarCrear=i.first)}},outputs:{onCerrar:"onCerrar",onCrear:"onCrear"},decls:47,vars:5,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","type","button",3,"click"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",1,"visually-hidden",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup","ngSubmit"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["formControlName","proveedor",1,"textResponsive",3,"valueChange"],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],[1,"mb-0","mt-2","fw-bold"],["formArrayName","compra"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],["mat-button","","color","warn","type","button",1,"ps-0","pe-1",3,"click"],[1,"text-end"],[1,"mb-0","mt-3","fw-bold"],["appearance","legacy",2,"border-top","0px"],["formControlName","total","matInput","","type","number",1,"textResponsive"],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","submit",1,"btn-a",3,"disabled"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],["id","selector",3,"value"],[1,"row",3,"formGroupName"],["appearance","legacy",1,"col-5"],["formControlName","insumo",1,"textResponsive",3,"valueChange"],["appearance","legacy",1,"col-3"],["matInput","","type","number","min","0","formControlName","cantidad","step","1.00",1,"textResponsive",3,"paste","change","keyup","keydown"],["matInput","","type","number","min","0","step","1.00","formControlName","precio",1,"textResponsive",3,"paste","keydown","change","keyup"],[1,"col-1","eliminarPaddin"],[1,"d-flex","justify-content-center"],["mat-icon-button","","color","warn","type","button",3,"disabled","click"],[1,"me-3",3,"diameter"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Ingresar nueva compra"),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(7,"mat-icon"),e._uU(8,"cancel"),e.qZA()(),e.TgZ(9,"button",6,7),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(11,"mat-icon"),e._uU(12,"cancel"),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"form",10),e.NdJ("ngSubmit",function(){return n.ingresarCompra()}),e.TgZ(16,"p",11),e._uU(17,"Proveedor"),e.qZA(),e.TgZ(18,"mat-form-field",12)(19,"mat-label"),e._uU(20,"Seleccione un Proveedor"),e.qZA(),e.TgZ(21,"mat-select",13),e.NdJ("valueChange",function(){return n.manipulado=!0}),e._UZ(22,"div",14),e.YNc(23,on,3,2,"ng-container",15),e.qZA()(),e.TgZ(24,"p",16),e._uU(25,"Detalle de compra"),e.qZA(),e.TgZ(26,"div",17),e.YNc(27,an,21,4,"form",18),e.qZA(),e.TgZ(28,"button",19),e.NdJ("click",function(){return n.agregarInsumo(),n.manipulado=!0}),e.TgZ(29,"mat-icon"),e._uU(30,"add"),e.qZA(),e.TgZ(31,"mat-label",20),e._uU(32,"M\xe1s insumos"),e.qZA()(),e._UZ(33,"br"),e.TgZ(34,"p",21),e._uU(35,"Total pagado"),e.qZA(),e.TgZ(36,"mat-form-field",22),e._UZ(37,"input",23),e.qZA(),e.TgZ(38,"div",24)(39,"div",25)(40,"button",26)(41,"mat-icon",27),e._uU(42,"save"),e.qZA(),e.TgZ(43,"span",28),e._uU(44,"Guardar"),e.qZA()()(),e.YNc(45,sn,1,1,"mat-spinner",29),e.qZA()()()(),e._UZ(46,"div",30),e.qZA()()()),2&t&&(e.xp6(15),e.Q6J("formGroup",n.formularioCreacion),e.xp6(8),e.Q6J("ngForOf",n.listaProveedor),e.xp6(4),e.Q6J("ngForOf",n.compra.controls),e.xp6(13),e.Q6J("disabled",n.formularioCreacion.invalid),e.xp6(5),e.Q6J("ngIf",n.enEjecucion))},dependencies:[d.sg,d.O5,_.lW,g.Hw,C.Ou,m.KE,m.hX,x.Nt,O.gD,P.ey,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.sg,s.u,s.x0,s.CE,d.i8],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),o})();const ln=["cerrarEditar"],dn=["totalPagado"];function un(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",35)(1,"mat-label"),e._uU(2,"Nombre del proveedor"),e.qZA(),e._UZ(3,"input",36),e.TgZ(4,"mat-icon",37),e._uU(5,"store"),e.qZA()()),2&o){const t=e.oxw();e.xp6(3),e.s9C("value",t.compraHecha.PROVEEDOR),e.Q6J("disabled",!0)}}function mn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"button",40),e.NdJ("click",function(i){e.CHM(t);const a=e.oxw();return a.cargarFormulariosEdicionProveedor(),e.KtG(a.abrirEdicionProveedor(i))}),e.TgZ(3,"mat-icon"),e._uU(4,"edit"),e.qZA()(),e._UZ(5,"div"),e.qZA()()}}function pn(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",44),e._uU(2),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.hij(" ",t.NOMBRE,"")}}function _n(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",35)(1,"mat-label"),e._uU(2,"Seleccione un Proveedor"),e.qZA(),e.TgZ(3,"mat-select",41),e._UZ(4,"div",42),e.YNc(5,pn,3,2,"ng-container",43),e.qZA()()),2&o){const t=e.oxw();e.xp6(3),e.Q6J("value",t.compraHecha.ID_PROVEEDOR),e.xp6(2),e.Q6J("ngForOf",t.listaProveedor)}}function gn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",45)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,46)(6,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editarProveedor())}),e.TgZ(7,"mat-icon",48),e._uU(8,"save"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Guardar"),e.qZA()(),e.TgZ(11,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.editandoProveedor=!1)}),e.TgZ(12,"mat-icon",50),e._uU(13,"cancel"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Cancelar"),e.qZA()()()()}if(2&o){const t=e.MAs(5),n=e.oxw();e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("disabled",n.formularioEditarProveedor.invalid)}}function fn(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",44),e._uU(2),e.ALo(3,"lowercase"),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.AsE(" (",e.lcZ(3,3,t.UNIDAD_MEDIDA),")-",t.NOMBRE," ")}}function bn(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",53)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"mat-select",54),e._UZ(4,"div",42),e.YNc(5,fn,4,5,"ng-container",43),e.qZA()()),2&o){const t=e.oxw(),n=t.index,i=t.$implicit,a=e.oxw();e.xp6(2),e.hij("Insumo ",n+1,""),e.xp6(1),e.Q6J("value",i.ID_INSUMO),e.xp6(2),e.Q6J("ngForOf",a.listaInsumo)}}function hn(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",55)(1,"mat-label"),e._uU(2,"cantidad"),e.qZA(),e._UZ(3,"input",56),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("value",t.CANTIDAD)}}function vn(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",55)(1,"mat-label"),e._uU(2,"Precio unitario"),e.qZA(),e._UZ(3,"input",57),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("value",t.PRECIO_COMPRA)}}function Cn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",45)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,46)(6,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),a=i.index,c=i.$implicit;return e.oxw().cargarFormulariosEdicion(a),e.KtG(c.editar=!0)}),e.TgZ(7,"mat-icon",58),e._uU(8,"edit"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Editar"),e.qZA()(),e.TgZ(11,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),a=i.$implicit,c=i.index,l=e.oxw();return e.KtG(l.eliminar(a.id,c))}),e.TgZ(12,"mat-icon",50),e._uU(13,"delete_forever"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Eliminar"),e.qZA()()()()}if(2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(10),e.Q6J("disabled",n.detalle.length<2)}}function Zn(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",44),e._uU(2),e.ALo(3,"lowercase"),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.AsE(" (",e.lcZ(3,3,t.UNIDAD_MEDIDA),")-",t.NOMBRE," ")}}function xn(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",53)(1,"mat-label"),e._uU(2),e.qZA(),e.TgZ(3,"mat-select",59),e._UZ(4,"div",42),e.YNc(5,Zn,4,5,"ng-container",43),e.qZA()()),2&o){const t=e.oxw(),n=t.index,i=t.$implicit,a=e.oxw();e.xp6(2),e.hij("Insumo ",n+1,""),e.xp6(1),e.Q6J("value",i.ID_INSUMO),e.xp6(2),e.Q6J("ngForOf",a.listaInsumo)}}function Tn(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",55)(1,"mat-label"),e._uU(2,"cantidad"),e.qZA(),e._UZ(3,"input",60),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("value",t.CANTIDAD)}}function An(o,r){if(1&o&&(e.TgZ(0,"mat-form-field",55)(1,"mat-label"),e._uU(2,"Precio unitario"),e.qZA(),e._UZ(3,"input",61),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("value",t.PRECIO_COMPRA)}}function Mn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"div",38)(1,"button",45)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,46)(6,"button",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(),a=i.$implicit,c=i.index,l=e.oxw();return e.KtG(l.editar(a.id,c))}),e.TgZ(7,"mat-icon",48),e._uU(8,"save"),e.qZA(),e.TgZ(9,"span"),e._uU(10,"Guardar"),e.qZA()(),e.TgZ(11,"button",49),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit;return e.KtG(i.editar=!1)}),e.TgZ(12,"mat-icon",50),e._uU(13,"cancel"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Cancelar"),e.qZA()()()()}if(2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("disabled",n.formularioEditar.invalid)}}function In(o,r){if(1&o&&(e.TgZ(0,"form",12),e.YNc(1,bn,6,3,"mat-form-field",51),e.YNc(2,hn,4,1,"mat-form-field",52),e.YNc(3,vn,4,1,"mat-form-field",52),e.YNc(4,Cn,16,2,"div",14),e.YNc(5,xn,6,3,"mat-form-field",51),e.YNc(6,Tn,4,1,"mat-form-field",52),e.YNc(7,An,4,1,"mat-form-field",52),e.YNc(8,Mn,16,2,"div",14),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",!t.editar),e.xp6(1),e.Q6J("ngIf",!t.editar),e.xp6(1),e.Q6J("ngIf",!t.editar),e.xp6(1),e.Q6J("ngIf",!t.editar),e.xp6(1),e.Q6J("ngIf",t.editar),e.xp6(1),e.Q6J("ngIf",t.editar),e.xp6(1),e.Q6J("ngIf",t.editar),e.xp6(1),e.Q6J("ngIf",t.editar)}}function On(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",44),e._uU(2),e.ALo(3,"lowercase"),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.AsE(" (",e.lcZ(3,3,t.UNIDAD_MEDIDA),")-",t.NOMBRE,"")}}function Pn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"form",62)(1,"mat-form-field",53)(2,"mat-label"),e._uU(3),e.qZA(),e.TgZ(4,"mat-select",63),e._UZ(5,"div",42),e.YNc(6,On,4,5,"ng-container",43),e.qZA()(),e.TgZ(7,"mat-form-field",55)(8,"mat-label"),e._uU(9,"cantidad"),e.qZA(),e.TgZ(10,"input",64),e.NdJ("paste",function(i){return i.preventDefault()})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.calcularTotal())})("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.calcularTotal())})("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.validarNumeros(i))}),e.qZA()(),e.TgZ(11,"mat-form-field",55)(12,"mat-label"),e._uU(13,"Precio"),e.qZA(),e.TgZ(14,"input",65),e.NdJ("paste",function(i){return i.preventDefault()})("keydown",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.validarNumeros(i))})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.calcularTotal())})("keyup",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.calcularTotal())}),e.qZA()(),e.TgZ(15,"div",38)(16,"div",39)(17,"button",5),e.NdJ("click",function(i){const c=e.CHM(t).index,l=e.oxw();return e.KtG(l.eliminarInsumo(c,i))}),e.TgZ(18,"mat-icon"),e._uU(19,"delete"),e.qZA()(),e._UZ(20,"div"),e.qZA()()()}if(2&o){const t=r.index,n=e.oxw();e.Q6J("formGroupName",t),e.xp6(3),e.hij("Insumo ",t+1+n.detalle.length,""),e.xp6(3),e.Q6J("ngForOf",n.listaInsumo)}}function Un(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",66),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.agregarMasInsumos())}),e.TgZ(1,"mat-icon",32),e._uU(2,"save"),e.qZA(),e.TgZ(3,"mat-label",67),e._uU(4,"Agregar insumos"),e.qZA()()}if(2&o){const t=e.oxw();e.Q6J("disabled",t.formularioNuevo.invalid)}}function wn(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.TgZ(2,"p",25),e._uU(3,"Total por agregar"),e.qZA(),e.TgZ(4,"mat-form-field",26),e._UZ(5,"input",68),e.qZA()())}function kn(o,r){1&o&&e._UZ(0,"br")}let En=(()=>{class o{constructor(t,n,i,a,c){this.authService=t,this.fb=n,this.insumoService=i,this.proveedorService=a,this.compraService=c,this.onCerrar=new e.vpe,this.onEditar=new e.vpe,this.listaInsumo=[],this.listaProveedor=[],this.enEjecucion=!1,this.editandoProveedor=!1,this.formularioNuevo=this.fb.group({compra:this.fb.array([]),total:[{value:"0.00",disabled:!0}]}),this.formularioEditar=this.fb.group({insumo:["",[s.kI.required]],cantidad:[1,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]],precio:[0,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]]}),this.formularioEditarProveedor=this.fb.group({proveedor:[[s.kI.required]]})}get compra(){return this.formularioNuevo.controls.compra}get detalleExistente(){return this.formularioEditar.controls.compraExistentes}get compraHecha(){return this.compraService.compra}get detalle(){return this.compraService.detalleCompra}ngOnDestroy(){this.cerrarEditar._elementRef.nativeElement.click()}validarNumeros(t){return(0,q.Z)(function*(){("+"===t.key||"-"===t.key||"e"===t.key||"E"===t.key)&&t.preventDefault()})()}cargarInsumos(){this.insumoService.getInsumos(this.authService.usuario.id_usuario,"","9999").subscribe(n=>{this.listaInsumo=n.insumos})}cargarProveedores(){this.proveedorService.getProveedores(this.authService.usuario.id_usuario,"","9999").subscribe(n=>{this.listaProveedor=n.proveedores})}agregarInsumo(){this.compra.push(this.fb.group({insumo:["",[s.kI.required]],cantidad:[1,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]],precio:[0,[s.kI.required,s.kI.min(.01),s.kI.pattern("^[0-9]+(.[0-9]{0,2})?$")]]}))}calcularTotal(){let t=0;this.compra.controls.forEach(n=>{t+=n.value.cantidad*n.value.precio}),this.formularioNuevo.get("total")?.setValue(t.toFixed(2))}eliminarInsumo(t,n){let i=0;i=this.formularioNuevo.controls.total.value;let l=i-this.compra.controls[t].value.cantidad*this.compra.controls[t].value.precio;this.formularioNuevo.get("total")?.setValue(l.toFixed(2)),this.compra.removeAt(t),n.stopPropagation()}cerrar(){this.compra.controls.length>0?u().fire({title:"\xa1Cambios sin guardar!",text:"\xbfDesea salir del formulario sin guardar los cambios?",icon:"question",showCancelButton:!0,confirmButtonColor:"#898989",cancelButtonColor:"#d12609",confirmButtonText:"Salir sin guardar",cancelButtonText:"Permanecer",reverseButtons:!0,background:"#2B2B2B",color:"#fff",heightAuto:!1}).then(t=>{t.isConfirmed&&(this.cerrarEditar._elementRef.nativeElement.click(),setTimeout(()=>{this.onCerrar.emit(!1)},100))}):(this.cerrarEditar._elementRef.nativeElement.click(),setTimeout(()=>{this.onCerrar.emit(!1)},100))}editar(t,n){let{insumo:i,precio:a,cantidad:c}=this.formularioEditar.value;this.compraService.putDetalle(t,i,parseFloat(c),parseFloat(a)).subscribe(l=>{!0===l.ok&&l.detalle&&l.compra?(this.detalle[n].CANTIDAD=l.detalle.CANTIDAD,this.detalle[n].ID_INSUMO=l.detalle.ID_INSUMO,this.detalle[n].PRECIO_COMPRA=l.detalle.PRECIO_COMPRA,this.compraHecha.TOTAL_PAGADO=l.compra.TOTAL_PAGADO,this.totalPagado.nativeElement.value=Number(this.compraHecha.TOTAL_PAGADO).toFixed(2)+"Lps",this.onEditar.emit(),u().fire({title:"\xa1\xc9xito!",text:l.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.detalle[n].editar=!1):!0===l.ok?(u().fire({title:"Sin cambios",text:"No se realiz\xf3 ning\xfan cambio",icon:"info",iconColor:"white",background:"#3fc3ee",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:2e3,timerProgressBar:!0}),this.detalle[n].editar=!1):(u().fire({title:"Advertencia",text:l.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.detalle[n].editar=!1)})}abrirEdicionProveedor(t){this.editandoProveedor=!0,t.stopPropagation()}agregarMasInsumos(){this.enEjecucion||(this.enEjecucion=!0,this.compraService.putMasInsumosEnDetalle(this.compra.value,this.formularioNuevo.controls.total.value,this.compraHecha.ID).subscribe(n=>{!0===n.ok&&n.nuevo_detalle?(this.compraHecha.TOTAL_PAGADO=n.nuevoTotal,this.totalPagado.nativeElement.value=Number(this.compraHecha.TOTAL_PAGADO).toFixed(2)+"Lps",n.nuevo_detalle.forEach(i=>{this.detalle.push(i)}),this.formularioNuevo.get("total")?.setValue(0),this.compra.clear(),this.onEditar.emit(),u().fire({title:"\xa1\xc9xito!",text:n.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:n.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}eliminar(t,n){this.compraService.deleteItemDetalle(t).subscribe(i=>{!0===i.ok?(this.compraHecha.TOTAL_PAGADO=i.nuevoTotal,this.totalPagado.nativeElement.value=Number(this.compraHecha.TOTAL_PAGADO).toFixed(2)+"Lps",this.detalle.splice(n,1),this.onEditar.emit(),u().fire({title:"\xa1\xc9xito!",text:i.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):u().fire({title:"Advertencia",text:i.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})})}ngOnInit(){this.cargarInsumos(),this.cargarProveedores()}cargarFormulariosEdicion(t){this.detalle.forEach((n,i)=>{i!==t?n.editar=!1:(this.formularioEditar.reset(),this.formularioEditar.controls.insumo.setValue(n.ID_INSUMO),this.formularioEditar.controls.cantidad.setValue(n.CANTIDAD),this.formularioEditar.controls.precio.setValue(n.PRECIO_COMPRA))})}cargarFormulariosEdicionProveedor(){this.formularioEditarProveedor.reset(),this.formularioEditarProveedor.controls.proveedor.setValue(this.compraHecha.ID_PROVEEDOR),this.formularioEditarProveedor.updateValueAndValidity()}editarProveedor(){this.enEjecucion||(this.enEjecucion=!0,this.compraService.putNombreProveedor(this.formularioEditarProveedor.controls.proveedor.value,this.compraHecha.ID,this.authService.usuario.id_usuario).subscribe(i=>{!0===i.ok?(u().fire({title:"\xa1\xc9xito!",text:i.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1,this.cerrarEditar._elementRef.nativeElement.click(),setTimeout(()=>{this.onEditar.emit(),this.onCerrar.emit(!1)},100)):(u().fire({title:"Advertencia",text:i.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(f.e),e.Y36(s.qu),e.Y36(A.A),e.Y36(w.z),e.Y36(J.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-editar-compra"]],viewQuery:function(t,n){if(1&t&&(e.Gf(ln,5),e.Gf(dn,5)),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEditar=i.first),e.iGM(i=e.CRH())&&(n.totalPagado=i.first)}},outputs:{onCerrar:"onCerrar",onEditar:"onEditar"},decls:56,vars:14,consts:[["id","exampleModal2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","type","button",3,"click"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",1,"visually-hidden"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup"],[1,"my-0","fw-bold"],[1,"row"],["class","col-11","appearance","legacy",4,"ngIf"],["class","col-1 eliminarPaddin",4,"ngIf"],[1,"mb-0","mt-2","fw-bold"],["class","row",4,"ngFor","ngForOf"],["formArrayName","compra"],["class","row",3,"formGroupName",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","align-items-center"],[1,"h-100"],["mat-button","","color","warn","type","button",1,"ps-0","pe-1",3,"click"],[1,"text-end"],["mat-button","","class","btn-p","type","button",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"mb-0","mt-3","fw-bold"],["appearance","legacy",2,"border-top","0px"],["matInput","","type","text","disabled","true",1,"textResponsive",3,"value"],["totalPagado",""],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","button",1,"btn-a",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"],["appearance","legacy",1,"col-11"],["matInput","",3,"disabled","value"],["matSuffix",""],[1,"col-1","eliminarPaddin"],[1,"d-flex","justify-content-center"],["mat-icon-button","","type","button",3,"click"],["formControlName","proveedor",1,"textResponsive",3,"value"],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],["id","selector",3,"value"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","type","button",3,"disabled","click"],["id","iconSave"],["mat-menu-item","","type","button",3,"click"],["id","iconBlock"],["class","col-5","appearance","legacy",4,"ngIf"],["class","col-3","appearance","legacy",4,"ngIf"],["appearance","legacy",1,"col-5"],["disabled","true",1,"textResponsive",3,"value"],["appearance","legacy",1,"col-3"],["matInput","","type","number","min","0","disabled","true","step","1.00",1,"textResponsive",3,"value"],["matInput","","type","number","min","0","step","1.00","disabled","true",1,"textResponsive",3,"value"],["id","iconEditar"],["formControlName","insumo",1,"textResponsive",3,"value"],["matInput","","type","number","min","0","formControlName","cantidad","step","1.00",1,"textResponsive",3,"value"],["matInput","","type","number","min","0","formControlName","precio","step","1.00",1,"textResponsive",3,"value"],[1,"row",3,"formGroupName"],["formControlName","insumo",1,"textResponsive"],["matInput","","type","number","min","0","formControlName","cantidad","step","1.00",1,"textResponsive",3,"paste","change","keyup","keydown"],["matInput","","type","number","min","0","step","1.00","formControlName","precio",1,"textResponsive",3,"paste","keydown","change","keyup"],["mat-button","","type","button",1,"btn-p",3,"disabled","click"],[1,"text-end","me-2"],["formControlName","total","matInput","","type","number",1,"textResponsive"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5),e.qZA(),e.TgZ(6,"button",5),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(7,"mat-icon"),e._uU(8,"cancel"),e.qZA()(),e.TgZ(9,"button",6,7)(11,"mat-icon"),e._uU(12,"cancel"),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"form",10)(16,"p",11),e._uU(17,"Proveedor"),e.qZA(),e.TgZ(18,"form",10)(19,"div",12),e.YNc(20,un,6,2,"mat-form-field",13),e.YNc(21,mn,6,0,"div",14),e.YNc(22,_n,6,2,"mat-form-field",13),e.YNc(23,gn,16,2,"div",14),e.qZA()(),e.TgZ(24,"p",15),e._uU(25,"Detalle de compra"),e.qZA(),e.TgZ(26,"form",10)(27,"div"),e.YNc(28,In,9,8,"form",16),e.qZA()(),e.TgZ(29,"p",15),e._uU(30,"Agregar a detalle"),e.qZA(),e.TgZ(31,"div",17),e.YNc(32,Pn,21,3,"form",18),e.qZA(),e.TgZ(33,"div",19)(34,"div",20)(35,"button",21),e.NdJ("click",function(){return n.agregarInsumo()}),e.TgZ(36,"mat-icon"),e._uU(37,"add"),e.qZA(),e.TgZ(38,"mat-label",22),e._uU(39,"M\xe1s insumos"),e.qZA()()(),e.YNc(40,Un,5,1,"button",23),e.qZA(),e.YNc(41,wn,6,0,"div",24),e.YNc(42,kn,1,0,"br",24),e.TgZ(43,"p",25),e._uU(44,"Total pagado"),e.qZA(),e.TgZ(45,"mat-form-field",26),e._UZ(46,"input",27,28),e.qZA(),e.TgZ(48,"div",29)(49,"div",30)(50,"button",31),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(51,"mat-icon",32),e._uU(52,"arrow_back"),e.qZA(),e.TgZ(53,"span",33),e._uU(54,"Volver"),e.qZA()()()()()()(),e._UZ(55,"div",34),e.qZA()()()),2&t&&(e.xp6(5),e.hij("Editar compra # ",n.compraHecha.ID,""),e.xp6(10),e.Q6J("formGroup",n.formularioNuevo),e.xp6(3),e.Q6J("formGroup",n.formularioEditarProveedor),e.xp6(2),e.Q6J("ngIf",!n.editandoProveedor),e.xp6(1),e.Q6J("ngIf",!n.editandoProveedor),e.xp6(1),e.Q6J("ngIf",n.editandoProveedor),e.xp6(1),e.Q6J("ngIf",n.editandoProveedor),e.xp6(3),e.Q6J("formGroup",n.formularioEditar),e.xp6(2),e.Q6J("ngForOf",n.detalle),e.xp6(4),e.Q6J("ngForOf",n.compra.controls),e.xp6(8),e.Q6J("ngIf",n.compra.controls.length>0),e.xp6(1),e.Q6J("ngIf",n.compra.controls.length>0),e.xp6(1),e.Q6J("ngIf",0===n.compra.controls.length),e.xp6(4),e.Q6J("value",n.compraHecha.TOTAL_PAGADO+" Lps"))},dependencies:[d.sg,d.O5,_.lW,g.Hw,b.VK,b.OP,b.p6,m.KE,m.hX,m.R9,x.Nt,O.gD,P.ey,s._Y,s.Fj,s.wV,s.JJ,s.JL,s.qQ,s.sg,s.u,s.x0,s.CE,d.i8],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconSave[_ngcontent-%COMP%]{color:#82da71}"]}),o})();const qn=["cerrarDetalle"];function yn(o,r){if(1&o&&(e.ynx(0),e.TgZ(1,"mat-option",32),e._uU(2),e.ALo(3,"lowercase"),e.qZA(),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.ID),e.xp6(1),e.AsE(" (",e.lcZ(3,3,t.UNIDAD_MEDIDA),")-",t.NOMBRE,"")}}function Nn(o,r){if(1&o&&(e.TgZ(0,"form",24)(1,"mat-form-field",25)(2,"mat-label"),e._uU(3),e.qZA(),e.TgZ(4,"mat-select",26),e._UZ(5,"div",27),e.YNc(6,yn,4,5,"ng-container",28),e.qZA()(),e.TgZ(7,"mat-form-field",29)(8,"mat-label"),e._uU(9,"cantidad"),e.qZA(),e._UZ(10,"input",30),e.qZA(),e.TgZ(11,"mat-form-field",29)(12,"mat-label"),e._uU(13,"Precio unitario"),e.qZA(),e._UZ(14,"input",31),e.qZA()()),2&o){const t=r.$implicit,n=r.index,i=e.oxw();e.xp6(3),e.hij("Insumo ",n+1,""),e.xp6(1),e.Q6J("value",t.ID_INSUMO),e.xp6(2),e.Q6J("ngForOf",i.listaInsumo),e.xp6(4),e.Q6J("value",t.CANTIDAD),e.xp6(4),e.Q6J("value",t.PRECIO_COMPRA)}}let Jn=(()=>{class o{constructor(t,n,i){this.compraService=t,this.authService=n,this.insumoService=i,this.onCerrar=new e.vpe,this.listaInsumo=[]}get compra(){return this.compraService.compra}get detalle(){return this.compraService.detalleCompra}cargarInsumos(){this.insumoService.getInsumos(this.authService.usuario.id_usuario,"","9999").subscribe(n=>{this.listaInsumo=n.insumos})}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},100)}ngOnInit(){this.cargarInsumos()}ngOnDestroy(){this.cerrarDetalle._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J.K),e.Y36(f.e),e.Y36(A.A))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-ver-compra"]],viewQuery:function(t,n){if(1&t&&e.Gf(qn,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarDetalle=i.first)}},outputs:{onCerrar:"onCerrar"},decls:39,vars:4,consts:[["id","exampleModal1","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarDetalle","","cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","",3,"disabled","value"],["matSuffix",""],[1,"mb-0","mt-2","fw-bold"],["class","row",4,"ngFor","ngForOf"],[1,"mb-0","mt-3","fw-bold"],["appearance","legacy",2,"border-top","0px"],["matInput","","type","text","disabled","true",1,"textResponsive",3,"value"],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-a",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"],[1,"row"],["appearance","legacy",1,"col-6"],["disabled","true",1,"textResponsive",3,"value"],[1,"cdk-overlay-container"],[4,"ngFor","ngForOf"],["appearance","legacy",1,"col-3"],["matInput","","type","number","min","0","disabled","true","step","1.00",1,"textResponsive",3,"value"],["matInput","","type","number","min","0","step","1.00","disabled","true",1,"textResponsive",3,"value"],["id","selector",3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5,"Detalle de compra"),e.qZA(),e.TgZ(6,"button",5,6),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(9,"mat-icon"),e._uU(10,"cancel"),e.qZA()()(),e.TgZ(11,"div",7)(12,"div",8)(13,"form")(14,"p",9),e._uU(15,"Proveedor"),e.qZA(),e.TgZ(16,"mat-form-field",10)(17,"mat-label"),e._uU(18,"Nombre del proveedor"),e.qZA(),e._UZ(19,"input",11),e.TgZ(20,"mat-icon",12),e._uU(21,"store"),e.qZA()(),e.TgZ(22,"p",13),e._uU(23,"Detalle de compra"),e.qZA(),e.TgZ(24,"div"),e.YNc(25,Nn,15,5,"form",14),e.qZA(),e._UZ(26,"br"),e.TgZ(27,"p",15),e._uU(28,"Total pagado"),e.qZA(),e.TgZ(29,"mat-form-field",16),e._UZ(30,"input",17),e.qZA(),e.TgZ(31,"div",18)(32,"div",19)(33,"button",20),e.NdJ("click",function(){return n.cerrar()}),e.TgZ(34,"mat-icon",21),e._uU(35,"arrow_back"),e.qZA(),e.TgZ(36,"span",22),e._uU(37,"Volver"),e.qZA()()()()()()(),e._UZ(38,"div",23),e.qZA()()()),2&t&&(e.xp6(19),e.s9C("value",n.compra.PROVEEDOR),e.Q6J("disabled",!0),e.xp6(6),e.Q6J("ngForOf",n.detalle),e.xp6(5),e.MGl("value","",n.compra.TOTAL_PAGADO," Lps"))},dependencies:[d.sg,_.lW,g.Hw,m.KE,m.hX,m.R9,x.Nt,O.gD,P.ey,s._Y,s.JL,d.i8],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),o})();const Sn=["cerrarEliminar"];let Dn=(()=>{class o{constructor(t,n){this.compraService=t,this.authService=n,this.onEliminar=new e.vpe,this.enEjecucion=!1}get compra(){return this.compraService.compra}anularCompra(){this.enEjecucion||(this.enEjecucion=!0,this.subscripcion=this.compraService.anularCompra(this.compra.ID,this.authService.usuario.id_usuario).subscribe(n=>{this.onEliminar.emit(),!0===n.ok?(u().fire({title:"\xa1\xc9xito!",text:n.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(u().fire({title:"Advertencia",text:n,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}ngOnInit(){}ngOnDestroy(){this.cerrarEliminar._elementRef.nativeElement.click()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J.K),e.Y36(f.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-eliminar-compra"]],viewQuery:function(t,n){if(1&t&&e.Gf(Sn,5),2&t){let i;e.iGM(i=e.CRH())&&(n.cerrarEliminar=i.first)}},outputs:{onEliminar:"onEliminar"},decls:26,vars:0,consts:[["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarEliminar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"text-center","mb-4"],["src","./../../../../../../../assets/icons/WarningRelleno.svg","width","50px","height","50px"],[1,"text-center","fw-normal"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),e._uU(5," Confirmaci\xf3n "),e.qZA(),e.TgZ(6,"button",5,6)(8,"mat-icon"),e._uU(9,"cancel"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"div",9),e._UZ(14,"img",10),e.qZA(),e.TgZ(15,"h5",11),e._uU(16," \xbfDesea anular la compra? "),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"div",12)(19,"div",13)(20,"button",14),e.NdJ("click",function(){return n.anularCompra()}),e.TgZ(21,"mat-icon",15),e._uU(22,"delete_forever"),e.qZA(),e.TgZ(23,"span",16),e._uU(24,"Eliminar"),e.qZA()()()()()()(),e._UZ(25,"div",17),e.qZA()()())},dependencies:[_.lW,g.Hw,s._Y,s.JL],styles:[".btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}"]}),o})();function Rn(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generando... "),e.qZA())}function Qn(o,r){if(1&o&&(e.TgZ(0,"span",24),e._UZ(1,"mat-spinner",25),e.YNc(2,Rn,2,0,"span",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("diameter",30),e.xp6(1),e.Q6J("ngIf",t.generando)}}function Fn(o,r){1&o&&e._UZ(0,"img",26)}function Yn(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Generar reporte"),e.qZA())}function Gn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",27),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.ingresando=!0)}),e._uU(1,"Ingresar compra"),e.qZA()}}function Bn(o,r){1&o&&(e.TgZ(0,"th"),e._uU(1,"Acci\xf3n"),e.qZA())}function Ln(o,r){1&o&&(e.TgZ(0,"tr")(1,"td",28)(2,"div",24)(3,"mat-icon",29),e._uU(4,"info_outline"),e.qZA(),e.TgZ(5,"strong",30),e._uU(6,"No se encontraron registros"),e.qZA()()()())}function zn(o,r){if(1&o&&(e.TgZ(0,"p",40),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.xp6(1),e.lnq("",t.NOMBRE,": ",t.CANTIDAD," x Lps. ",t.PRECIO_COMPRA,"")}}function Kn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw(3);return e.KtG(i.editando=!0)})("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(1,"mat-icon",49),e._uU(2,"edit"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Editar"),e.qZA()()}}function Hn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(1,"mat-icon",29),e._uU(2,"delete_forever"),e.qZA(),e.TgZ(3,"span"),e._uU(4,"Anular"),e.qZA()()}}function jn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"td",41)(1,"button",42)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,43),e.ynx(6),e.YNc(7,Kn,5,0,"button",44),e.BQk(),e.ynx(8),e.YNc(9,Hn,5,0,"button",45),e.BQk(),e.ynx(10),e.TgZ(11,"button",46),e.NdJ("mouseenter",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.verDetalle=!0)})("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw();return e.KtG(a.seleccionar(i.ID))}),e.TgZ(12,"mat-icon",47),e._uU(13,"text_snippet"),e.qZA(),e.TgZ(14,"span"),e._uU(15,"Ver detalle"),e.qZA()(),e.BQk(),e.qZA()()}if(2&o){const t=e.MAs(5),n=e.oxw(2);e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(6),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION),e.xp6(2),e.Q6J("ngIf",n.permisos.PERMISO_ELIMINACION)}}function $n(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td",31),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",33),e._uU(6),e.ALo(7,"currency"),e.qZA(),e.TgZ(8,"td",34),e.ynx(9),e.YNc(10,zn,2,3,"p",35),e.BQk(),e.qZA(),e.TgZ(11,"td",36),e._uU(12),e.ALo(13,"date"),e.qZA(),e.TgZ(14,"td",37),e._uU(15),e.qZA(),e.TgZ(16,"td",38),e._uU(17),e.ALo(18,"date"),e.qZA(),e.YNc(19,jn,16,3,"td",39),e.qZA()),2&o){const t=r.$implicit,n=e.oxw();e.xp6(2),e.Oqu(t.ID),e.xp6(2),e.Oqu(t.PROVEEDOR),e.xp6(2),e.Oqu(e.xi3(7,8,t.TOTAL_PAGADO,"Lps. ")),e.xp6(4),e.Q6J("ngForOf",t.detalle),e.xp6(2),e.Oqu(e.xi3(13,11,t.FECHA,"d/M/yy, h:mm a")),e.xp6(3),e.Oqu(t.MODIFICADO_POR),e.xp6(2),e.Oqu(e.xi3(18,14,t.FECHA_MODIFICACION,"d/M/yy, h:mm a")),e.xp6(2),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION)}}function Vn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-nueva-compra",51),e.NdJ("onCrear",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())})("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.ingresando=i)}),e.qZA()}}function Xn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-editar-compra",52),e.NdJ("onEditar",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.recargar())})("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.editando=i)}),e.qZA()}}function Wn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"app-ver-compra",53),e.NdJ("onCerrar",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.verDetalle=i)}),e.qZA()}}const eo=function(o){return[5,10,25,50,o]};let to=(()=>{class o{constructor(t,n,i,a,c){this.comprasService=t,this.pantalla=n,this.fb=i,this.usuario=a,this.ingresosService=c,this.id_seleccion=0,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.ingresando=!1,this.verDetalle=!1,this.generando=!1,this.editando=!1,this.buscando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[s.kI.required,s.kI.maxLength(100)]]})}ngOnInit(){this.cargarRegistros(),this.registrarIngreso()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}get permisos(){return this.pantalla.permisos}cargarRegistros(){this.subscripcion=this.comprasService.getCompras(this.usuario.usuario.id_usuario).subscribe(n=>{this.registros=n.compras||[],this.tamano=n.countCompra,this.limite=n.limite})}cambioDePagina(t){this.paginadorPorReferencia=t,this.subscripcion.unsubscribe();const n=this.usuario.usuario.id_usuario;let{buscar:i}=this.formularioBusqueda.value;this.buscando||(i="");let a=(t.pageIndex*t.pageSize).toString();this.desde=a,this.subscripcion=this.comprasService.getCompras(n,i,t.pageSize.toString(),a).subscribe(c=>{this.registros=c.compras,this.tamano=c.countCompra,this.limite=c.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const t=this.usuario.usuario.id_usuario,{buscar:n}=this.formularioBusqueda.value;this.buscando=""!==n,this.desde="0",this.subscripcion=this.comprasService.getCompras(t,n).subscribe(i=>{this.indice=0,this.registros=i.compras,this.tamano=i.countCompra,this.limite=i.limite})}seleccionar(t){this.comprasService.getUnaCompra(t).subscribe()}recargar(){const t=this.usuario.usuario.id_usuario;let{buscar:n}=this.formularioBusqueda.value;this.subscripcion=this.comprasService.getCompras(t,n,this.limite.toString(),this.desde).subscribe(i=>{this.registros=i.compras,this.tamano=i.countCompra,this.limite=i.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:t}=this.formularioBusqueda.value;this.comprasService.getReporte(t).subscribe(n=>{let i=new Blob([n],{type:"application/pdf"}),a=window.URL.createObjectURL(i);document.createElement("a").href=a,window.open(a,"_blank"),this.generando=!1})}}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,23).subscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(J.K),e.Y36(h.i),e.Y36(s.qu),e.Y36(f.e),e.Y36(M.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-compras"]],decls:46,vars:18,consts:[["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",3,"mouseenter",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],[1,"align-middle"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[3,"onCrear","onCerrar",4,"ngIf"],[3,"onEditar","onCerrar",4,"ngIf"],[3,"onCerrar",4,"ngIf"],[3,"onEliminar"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"me-3","btn-a","mb-2",3,"mouseenter"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","ID"],["data-title","Proveedor"],["data-title","Total pagado"],["data-title","Detalle"],["class","align-middle mb-0",4,"ngFor","ngForOf"],["data-title","Fecha de compra"],["data-title","Modificado por"],["data-title","Modificaci\xf3n"],["data-title","Acci\xf3n",4,"ngIf"],[1,"align-middle","mb-0"],["data-title","Acci\xf3n"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter","click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal1","data-bs-whatever","@getbootstrap",3,"mouseenter","click"],["id","iconMas"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter","click"],["id","iconEditar"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click"],[3,"onCrear","onCerrar"],[3,"onEditar","onCerrar"],[3,"onCerrar"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"h3"),e._uU(2,"Compras de Insumo"),e.qZA(),e.TgZ(3,"div",0)(4,"div",1)(5,"div",2)(6,"button",3),e.NdJ("click",function(){return n.generarReporte()}),e.YNc(7,Qn,3,2,"span",4),e.YNc(8,Fn,1,0,"img",5),e.YNc(9,Yn,2,0,"span",6),e.qZA(),e.YNc(10,Gn,2,0,"button",7),e.qZA(),e.TgZ(11,"div",8)(12,"form",9),e.NdJ("ngSubmit",function(){return n.buscarRegistro()}),e.TgZ(13,"label",10),e._uU(14,"Buscar:"),e.qZA(),e._UZ(15,"input",11),e.qZA()()(),e._UZ(16,"hr",12),e.TgZ(17,"div",13)(18,"table",14)(19,"thead",15)(20,"tr")(21,"th"),e._uU(22,"No"),e.qZA(),e.TgZ(23,"th"),e._uU(24,"Proveedor"),e.qZA(),e.TgZ(25,"th"),e._uU(26,"Total pagado"),e.qZA(),e.TgZ(27,"th"),e._uU(28,"Detalle"),e.qZA(),e.TgZ(29,"th"),e._uU(30,"Fecha de compra"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Modificado por"),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Modificaci\xf3n"),e.qZA(),e.YNc(35,Bn,2,0,"th",6),e.qZA()(),e.TgZ(36,"tbody",16),e.YNc(37,Ln,7,0,"tr",6),e.YNc(38,$n,20,17,"tr",17),e.qZA()()(),e.TgZ(39,"mat-paginator",18),e.NdJ("page",function(a){return n.cambioDePagina(a)}),e.qZA()(),e.TgZ(40,"div",19),e._UZ(41,"br"),e.qZA(),e.YNc(42,Vn,1,0,"app-nueva-compra",20),e.YNc(43,Xn,1,0,"app-editar-compra",21),e.YNc(44,Wn,1,0,"app-ver-compra",22),e.TgZ(45,"app-eliminar-compra",23),e.NdJ("onEliminar",function(){return n.recargar()}),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngClass",n.generando?"d-flex align-items-center":""),e.xp6(1),e.Q6J("ngIf",n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",!n.generando),e.xp6(1),e.Q6J("ngIf",n.permisos.PERMISO_INSERCION),e.xp6(2),e.Q6J("formGroup",n.formularioBusqueda),e.xp6(23),e.Q6J("ngIf",n.permisos.PERMISO_ACTUALIZACION||n.permisos.PERMISO_ELIMINACION),e.xp6(2),e.Q6J("ngIf",n.registros.length<1),e.xp6(1),e.Q6J("ngForOf",n.registros),e.xp6(1),e.Q6J("length",n.tamano)("pageSize",n.limite)("pageSizeOptions",e.VKq(16,eo,n.tamano))("pageIndex",n.indice),e.xp6(3),e.Q6J("ngIf",n.ingresando),e.xp6(1),e.Q6J("ngIf",n.editando),e.xp6(1),e.Q6J("ngIf",n.verDetalle))},dependencies:[d.mk,d.sg,d.O5,_.lW,g.Hw,b.VK,b.OP,b.p6,C.Ou,E.NW,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,cn,En,Jn,Dn,d.H9,d.uU],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined";.background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}#iconMas[_ngcontent-%COMP%]{color:#5988ec}']}),o})(),no=(()=>{class o{constructor(t,n){this.pantallaService=t,this.router=n}canActivate(t,n){return this.pantallaService.validarPermiso(21).pipe((0,U.b)(i=>{!0!==i&&this.router.navigateByUrl("/main/dashboard")}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(Z.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),oo=(()=>{class o{constructor(t,n){this.pantallaService=t,this.router=n}canActivate(t,n){return this.pantallaService.validarPermiso(16).pipe((0,U.b)(i=>{!0!==i&&this.router.navigateByUrl("/main/dashboard")}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(Z.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),io=(()=>{class o{constructor(t,n){this.pantallaService=t,this.router=n}canActivate(t,n){return this.pantallaService.validarPermiso(15).pipe((0,U.b)(i=>{!0!==i&&this.router.navigateByUrl("/main/dashboard")}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(Z.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ro=(()=>{class o{constructor(t,n){this.pantallaService=t,this.router=n}canActivate(t,n){return this.pantallaService.validarPermiso(23).pipe((0,U.b)(i=>{!0!==i&&this.router.navigateByUrl("/main/dashboard")}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(Z.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const co=[{path:"",children:[{path:"insumo",component:fe,canActivate:[k.D,no]},{path:"inventario",component:Ee,canActivate:[k.D,(()=>{class o{constructor(t,n){this.pantallaService=t,this.router=n}canActivate(t,n){return this.pantallaService.validarPermiso(28).pipe((0,U.b)(i=>{!0!==i&&this.router.navigateByUrl("/main/dashboard")}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(Z.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]},{path:"kardex/:id_insumo",component:Le,canActivate:[k.D,(()=>{class o{constructor(t,n){this.pantallaService=t,this.router=n}canActivate(t,n){return this.pantallaService.validarPermiso(22).pipe((0,U.b)(i=>{!0!==i&&this.router.navigateByUrl("/main/dashboard")}))}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(h.i),e.LFG(Z.F0))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]},{path:"unidad",component:vt,canActivate:[k.D,oo]},{path:"proveedor",component:tn,canActivate:[k.D,io]},{path:"compras",component:to,canActivate:[k.D,ro]}]}];let lo=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[Z.Bz.forChild(co),Z.Bz]}),o})();var uo=p(5011);let mo=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,lo,uo.i,s.UX]}),o})()}}]);