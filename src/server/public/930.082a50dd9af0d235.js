"use strict";(self.webpackChunksafiApp=self.webpackChunksafiApp||[]).push([[930],{6930:(to,F,l)=>{l.r(F),l.d(F,{AdministracionModule:()=>Ke,options:()=>$e});var m=l(6895),x=l(3060),O=l(3020),r=l(4006),t=l(4650),y=l(2340),f=l(262),_=l(9646),q=l(529);let Q=(()=>{class n{constructor(e){this.http=e,this.baseURL=y.N.baseURL}getBitacora(e,o,a,s,c,u){return o||(o=""),this.http.get(`${this.baseURL}/bitacora/?buscar=${o}&id_usuario=${e}&limite=${a||""}&desde=${s||""}&fechaInicial=${c||""}&fechaFinal=${u||""}`).pipe((0,f.K)(A=>(0,_.of)(A.error.msg)))}getReporte(e="",o="",a=""){return this.http.post(`${this.baseURL}/reporteria/bitacora`,{buscar:e,fechaInicial:o,fechaFinal:a},{responseType:"blob"}).pipe((0,f.K)(u=>(0,_.of)(u.error.msg)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var C=l(6518),P=l(3033),b=l(4859),h=l(7392),v=l(1572),R=l(8739);function Y(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generando... "),t.qZA())}function H(n,i){if(1&n&&(t.TgZ(0,"span",23),t._UZ(1,"mat-spinner",24),t.YNc(2,Y,2,0,"span",7),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("diameter",30),t.xp6(1),t.Q6J("ngIf",e.generando)}}function V(n,i){1&n&&t._UZ(0,"img",25)}function $(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generar reporte"),t.qZA())}function K(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",26)(2,"div",23)(3,"mat-icon",27),t._uU(4,"info_outline"),t.qZA(),t.TgZ(5,"strong",28),t._uU(6,"No se encontraron registros"),t.qZA()()()())}function X(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",29),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td",30),t._uU(5),t.ALo(6,"titlecase"),t.qZA(),t.TgZ(7,"td",31),t._uU(8),t.ALo(9,"titlecase"),t.qZA(),t.TgZ(10,"td",32),t._uU(11),t.ALo(12,"titlecase"),t.qZA(),t.TgZ(13,"td",33),t._uU(14),t.ALo(15,"lowercase"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(t.xi3(3,5,e.FECHA,"d/M/yy, h:mm a")),t.xp6(3),t.Oqu(t.lcZ(6,8,e.USUARIO)),t.xp6(3),t.Oqu(t.lcZ(9,10,e.OBJETO)),t.xp6(3),t.Oqu(t.lcZ(12,12,e.ACCION)),t.xp6(3),t.Oqu(t.lcZ(15,14,e.DESCRIPCION))}}const W=function(n){return[5,10,25,50,n]};let tt=(()=>{class n{constructor(e,o,a,s){this.bitacoraService=e,this.fb=o,this.usuario=a,this.ingresosService=s,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.generando=!1,this.buscando=!1,this.formularioBusqueda=this.fb.group({fechaInicial:[""],fechaFinal:[""],buscar:["",[r.kI.required,r.kI.maxLength(100)]]})}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}cargarRegistros(){this.subscripcion=this.bitacoraService.getBitacora(this.usuario.usuario.id_usuario).subscribe(o=>{this.registros=o.registros,this.tamano=o.countBitacora,this.limite=o.limite})}cambioDePagina(e){this.paginadorPorReferencia=e,this.subscripcion.unsubscribe();const o=this.usuario.usuario.id_usuario;let{buscar:a}=this.formularioBusqueda.value,{fechaInicial:s}=this.formularioBusqueda.value,{fechaFinal:c}=this.formularioBusqueda.value;this.buscando||(a="",s="",c="");let u=(e.pageIndex*e.pageSize).toString();this.subscripcion=this.bitacoraService.getBitacora(o,a,e.pageSize.toString(),u,s,c).subscribe(d=>{this.registros=d.registros,this.tamano=d.countBitacora,this.limite=d.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const e=this.usuario.usuario.id_usuario,{buscar:o}=this.formularioBusqueda.value;this.buscando=""!==o,this.subscripcion=this.bitacoraService.getBitacora(e,o,"","",this.formularioBusqueda.value.fechaInicial,this.formularioBusqueda.value.fechaFinal).subscribe(a=>{this.indice=0,this.registros=a.registros,this.tamano=a.countBitacora,this.limite=a.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:e}=this.formularioBusqueda.value,{fechaInicial:o}=this.formularioBusqueda.value,{fechaFinal:a}=this.formularioBusqueda.value;this.bitacoraService.getReporte(e,o,a).subscribe(s=>{let c=new Blob([s],{type:"application/pdf"}),u=window.URL.createObjectURL(c);document.createElement("a").href=u,window.open(u,"_blank"),this.generando=!1})}}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,11).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q),t.Y36(r.qu),t.Y36(C.e),t.Y36(P.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-bitacora"]],decls:44,vars:13,consts:[[1,""],["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"d-flex","align-items-center","flex-wrap",3,"formGroup","ngSubmit"],[1,"mb-2","d-flex","align-items-center","flex-wrap"],[1,"me-3"],["type","datetime-local","formControlName","fechaInicial","id","desde","placeholder","Desde",1,"rounded-3","me-3",2,"background-color","white"],["type","datetime-local","formControlName","fechaFinal","placeholder","Hasta",1,"rounded-3","me-3"],["type","text","placeholder","filtrar","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],[1,"col-4"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","Fecha"],["data-title","Usuario"],["data-title","Pantalla"],["data-title","Accion"],["data-title","Descripci\xf3n"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Bit\xe1cora del Sistema"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"button",4),t.NdJ("click",function(){return o.generarReporte()}),t.YNc(7,H,3,2,"span",5),t.YNc(8,V,1,0,"img",6),t.YNc(9,$,2,0,"span",7),t.qZA()(),t.TgZ(10,"div",8)(11,"form",9),t.NdJ("ngSubmit",function(){return o.buscarRegistro()}),t.TgZ(12,"div",10)(13,"label",11),t._uU(14,"Desde:"),t.qZA(),t._UZ(15,"input",12),t.TgZ(16,"label",11),t._uU(17,"Hasta:"),t.qZA(),t._UZ(18,"input",13),t.qZA(),t.TgZ(19,"div",10)(20,"label",11),t._uU(21,"Buscar:"),t.qZA(),t._UZ(22,"input",14),t.qZA()()()(),t._UZ(23,"hr",15),t.TgZ(24,"div",16)(25,"table",17)(26,"thead",18)(27,"tr")(28,"th"),t._uU(29,"Fecha"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Usuario"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Pantalla"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Acci\xf3n"),t.qZA(),t.TgZ(36,"th",19),t._uU(37,"Descripci\xf3n"),t.qZA()()(),t.TgZ(38,"tbody"),t.YNc(39,K,7,0,"tr",7),t.YNc(40,X,16,16,"tr",20),t.qZA()()(),t.TgZ(41,"mat-paginator",21),t.NdJ("page",function(s){return o.cambioDePagina(s)}),t.qZA()(),t.TgZ(42,"div",22),t._UZ(43,"br"),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngClass",o.generando?"d-flex align-items-center":""),t.xp6(1),t.Q6J("ngIf",o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(2),t.Q6J("formGroup",o.formularioBusqueda),t.xp6(28),t.Q6J("ngIf",o.registros.length<1),t.xp6(1),t.Q6J("ngForOf",o.registros),t.xp6(1),t.Q6J("length",o.tamano)("pageSize",o.limite)("pageSizeOptions",t.VKq(11,W,o.tamano))("pageIndex",o.indice))},dependencies:[m.mk,m.sg,m.O5,b.lW,h.Hw,v.Ou,R.NW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.i8,m.rS,m.uU],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined";.background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconUnlock[_ngcontent-%COMP%]{color:#82da71}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}']}),n})();var j=l(5861),et=l(5226),g=l.n(et),U=l(8505);let w=(()=>{class n{constructor(e){this.http=e,this.baseURL=y.N.baseURL,this.usuario={ID_USUARIO:0,USUARIO:"",NOMBRE_USUARIO:"",ESTADO_USUARIO:"",CONTRASENA:"",ID_ROL:0,ROL:"",FECHA_ULTIMA_CONEXION:new Date,PREGUNTAS_CONTESTADAS:0,PRIMER_INGRESO:0,INTENTOS:0,FECHA_VENCIMIENTO:new Date,CORREO_ELECTRONICO:"",CREADO_POR:"",FECHA_CREACION:new Date,MODIFICACION_POR:"",FECHA_MODIFICACION:new Date}}getUsuarios(e,o=!1,a,s,c){return a||(a=""),this.http.get(`${this.baseURL}/usuario/?buscar=${a}&quienBusco=${e}&limite=${s||""}&desde=${c||""}&mostrarInactivos=${o}`).pipe((0,f.K)(d=>(0,_.of)(d.error.msg)))}getUsuario(e){return this.http.get(`${this.baseURL}/usuario/${e}`).pipe((0,U.b)(a=>{this.usuario=a.usuario,console.log(a)}),(0,f.K)(a=>(0,_.of)(a.error.msg)))}desactivarUsuario(e,o){return this.http.put(`${this.baseURL}/usuario/bloquear/${e}`,{quienModifico:o}).pipe((0,f.K)(c=>(0,_.of)(c.error.msg)))}actualizarUsuario(e,o,a,s,c,u){return this.http.put(`${this.baseURL}/usuario/actualizar/${e}`,{nombre_usuario:o,correo:a,id_rol:s,estado:c,quienModifico:u,idPantalla:2}).pipe((0,f.K)(T=>(0,_.of)(T.error.msg)))}getReporte(e="",o=!1){return this.http.post(`${this.baseURL}/reporteria/usuario`,{buscar:e,mostrarInactivos:o},{responseType:"blob"}).pipe((0,f.K)(c=>(0,_.of)(c.error.msg)))}generarPassword(){return this.http.get(`${this.baseURL}/usuario/generador/password`).pipe((0,f.K)(o=>(0,_.of)(o.error.msg)))}actualizarContrasena(e,o,a){return this.http.put(`${this.baseURL}/usuario/cambiar-contrasena/mantenimiento/${e}`,{contrasena:o,quienModifico:a}).pipe((0,f.K)(u=>(0,_.of)(u.error.msg)))}crearUsuario(e,o,a,s,c,u){return this.http.post(`${this.baseURL}/usuario/nuevo-usuario`,{usuario:e,nombre_usuario:o,id_rol:s,correo:c,contrasena:a,quienCreo:u}).pipe((0,f.K)(T=>(0,_.of)(T.error.msg)))}reActivarUsuario(e,o){return this.http.put(`${this.baseURL}/usuario/activar/${e}`,{quienActiva:o}).pipe((0,f.K)(c=>(0,_.of)(c.error.msg)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Z=l(1199),I=l(1561),ot=l(455),S=l(5475),B=l(1578),p=l(9549),M=l(4144),D=l(4385),L=l(3238),E=l(3848);const nt=["cerrarEditar"],at=["selectEstado"],it=["inputRol"],rt=["inputCorreo"],st=["inputNombre"];function ct(n,i){if(1&n&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.ID_ROL),t.xp6(1),t.hij(" ",e.ROL,"")}}function ut(n,i){if(1&n&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Seleccione el estado"),t.qZA(),t.TgZ(3,"mat-select",20,39),t._UZ(5,"div",22),t.TgZ(6,"mat-option",40),t._uU(7,"ACTIVO"),t.qZA(),t.TgZ(8,"mat-option",41),t._uU(9,"BLOQUEADO"),t.qZA(),t.TgZ(10,"mat-option",42),t._uU(11,"VACACIONES"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("value",e.estadoActual)}}function lt(n,i){1&n&&t._UZ(0,"mat-spinner",43),2&n&&t.Q6J("diameter",50)}function dt(n,i){1&n&&t._UZ(0,"mat-spinner",43),2&n&&t.Q6J("diameter",50)}let mt=(()=>{class n{constructor(e,o,a,s){this.usuarioServices=e,this.rolServices=o,this.authService=a,this.fb=s,this.id=0,this.usuario="",this.nombre="",this.correo="",this.idRol=0,this.estadoActual="",this.contrasenaGenerada="",this.onActualizacion=new t.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.roles=[],this.formularioContrasena=this.fb.group({contrasena:["",[r.kI.required]]}),this.toMayus=S.K.toMayusNoReactivo}ngOnDestroy(){this.cerrarEditar._elementRef.nativeElement.click()}ngOnInit(){this.cargarRoles()}cargarRoles(){this.rolSubscripcion=this.rolServices.getRoles(this.authService.usuario.id_usuario,"","99999").subscribe(o=>{this.roles=o.roles})}actualizar(){console.log(this.inputCorreo);let e=this.inputCorreo.nativeElement.value,o=this.inputNombre.nativeElement.value,a=this.inputRol.value;const s=this.authService.usuario.id_usuario;let c;c=this.selectEstado?this.selectEstado.value:"NUEVO",this.enEjecucion||(this.enEjecucion=!0,this.usuarioServices.actualizarUsuario(this.id,o.toUpperCase(),e,a,c,s).subscribe(u=>{this.onActualizacion.emit(),!0===u.ok?(this.enEjecucion=!1,this.cerrarEditar._elementRef.nativeElement.click(),g().fire({title:"\xa1\xc9xito!",text:u.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,g().fire({title:"Advertencia",text:u,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))}))}generarPassword(){this.enEjecucion||(this.enEjecucion=!0,this.usuarioServices.generarPassword().subscribe(e=>{this.enEjecucion=!1,this.contrasenaGenerada=e,this.formularioContrasena.value.contrasena=e,this.formularioContrasena.controls.contrasena.setValue(e),this.formularioContrasena.controls.contrasena.updateValueAndValidity()}))}actualizarPassword(){const e=this.formularioContrasena.value.contrasena,o=this.authService.usuario.id_usuario;this.enEjecucion||(this.enEjecucion=!0,this.cambiandoContra=!0,this.usuarioServices.actualizarContrasena(this.id,e,o).subscribe(a=>{!0===a.ok?(this.contrasenaGenerada="",this.enEjecucion=!1,this.cambiandoContra=!1,this.onActualizacion.emit(),this.cerrarEditar._elementRef.nativeElement.click(),g().fire({title:"\xa1\xc9xito!",text:a.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,this.cambiandoContra=!1,g().fire({title:"Advertencia",text:a,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))}))}limpiarFormularios(){this.contrasenaGenerada="",this.formularioContrasena.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w),t.Y36(B.m),t.Y36(C.e),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editar-usuario"]],viewQuery:function(e,o){if(1&e&&(t.Gf(nt,5),t.Gf(at,5),t.Gf(it,5),t.Gf(rt,5),t.Gf(st,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.cerrarEditar=a.first),t.iGM(a=t.CRH())&&(o.selectEstado=a.first),t.iGM(a=t.CRH())&&(o.inputRol=a.first),t.iGM(a=t.CRH())&&(o.inputCorreo=a.first),t.iGM(a=t.CRH())&&(o.inputNombre=a.first)}},inputs:{id:"id",usuario:"usuario",nombre:"nombre",correo:"correo",idRol:"idRol",estadoActual:"estadoActual",contrasenaGenerada:"contrasenaGenerada"},outputs:{onActualizacion:"onActualizacion"},decls:80,vars:12,consts:[["id","exampleModal2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],["mat-align-tabs","center","animationDuration","0ms"],["label","General"],[3,"ngSubmit"],["appearance","legacy",1,"example-full-width","mt-2"],["matInput","","disabled","true","placeholder","Usuario",3,"value"],["matSuffix",""],["appearance","legacy",1,"example-full-width"],["matInput","","placeholder","Nombre y apellido",3,"value","keyup"],["inputNombre",""],["matInput","","placeholder","Correo...",3,"value"],["inputCorreo",""],[3,"value"],["inputRol",""],[1,"cdk-overlay-container"],["id","selector",3,"value",4,"ngFor","ngForOf"],["class","example-full-width","appearance","legacy",4,"ngIf"],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","submit",1,"btn-a"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],["label","Contrase\xf1a"],[3,"formGroup","ngSubmit"],["matInput","","placeholder","Contrase\xf1a","formControlName","contrasena",3,"value"],["mat-flat-button","","type","button",1,"btn-p",3,"click"],[1,"d-flex","flex-row-reverse","mt-3"],["mat-flat-button","","type","submit",1,"btn-a",3,"disabled"],[1,"modal-footer"],["id","selector",3,"value"],["selectEstado",""],["value","ACTIVO"],["value","BLOQUEADO"],["value","VACACIONES"],[1,"me-3",3,"diameter"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Editar usuario"),t.qZA(),t.TgZ(6,"button",5,6),t.NdJ("click",function(){return o.limpiarFormularios()}),t.TgZ(8,"mat-icon"),t._uU(9,"cancel"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"mat-tab-group",9)(13,"mat-tab",10)(14,"form",11),t.NdJ("ngSubmit",function(){return o.actualizar()}),t.TgZ(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"Usuario"),t.qZA(),t._UZ(18,"input",13),t.TgZ(19,"mat-icon",14),t._uU(20,"person"),t.qZA()(),t.TgZ(21,"mat-form-field",15)(22,"mat-label"),t._uU(23,"Nombre completo"),t.qZA(),t.TgZ(24,"input",16,17),t.NdJ("keyup",function(){t.CHM(a);const c=t.MAs(25);return t.KtG(o.toMayus(c))}),t.qZA(),t.TgZ(26,"mat-icon",14),t._uU(27,"badge"),t.qZA()(),t.TgZ(28,"mat-form-field",15)(29,"mat-label"),t._uU(30,"Correo electr\xf3nico"),t.qZA(),t._UZ(31,"input",18,19),t.TgZ(33,"mat-icon",14),t._uU(34,"mail"),t.qZA()(),t.TgZ(35,"mat-form-field",15)(36,"mat-label"),t._uU(37,"Seleccione el rol"),t.qZA(),t.TgZ(38,"mat-select",20,21),t._UZ(40,"div",22),t.YNc(41,ct,2,2,"mat-option",23),t.qZA()(),t.YNc(42,ut,12,1,"mat-form-field",24),t.TgZ(43,"div",25)(44,"div",26)(45,"button",27)(46,"mat-icon",28),t._uU(47,"save"),t.qZA(),t.TgZ(48,"span",29),t._uU(49,"Guardar"),t.qZA()()(),t.YNc(50,lt,1,1,"mat-spinner",30),t.qZA()()(),t.TgZ(51,"mat-tab",31)(52,"form",32),t.NdJ("ngSubmit",function(){return o.actualizarPassword()}),t.TgZ(53,"mat-form-field",12)(54,"mat-label"),t._uU(55,"Usuario"),t.qZA(),t._UZ(56,"input",13),t.TgZ(57,"mat-icon",14),t._uU(58,"person"),t.qZA()(),t.TgZ(59,"mat-form-field",15)(60,"mat-label"),t._uU(61,"Contrase\xf1a"),t.qZA(),t._UZ(62,"input",33),t.TgZ(63,"mat-icon",14),t._uU(64,"key"),t.qZA()(),t.TgZ(65,"div",26)(66,"button",34),t.NdJ("click",function(){return o.generarPassword()}),t.TgZ(67,"mat-icon",28),t._uU(68,"lock"),t.qZA(),t.TgZ(69,"span",29),t._uU(70,"Generar contrase\xf1a"),t.qZA()()(),t.TgZ(71,"div",35)(72,"div",26)(73,"button",36)(74,"mat-icon",28),t._uU(75,"lock_reset"),t.qZA(),t.TgZ(76,"span",29),t._uU(77,"Resetear"),t.qZA()()(),t.YNc(78,dt,1,1,"mat-spinner",30),t.qZA()()()()()(),t._UZ(79,"div",37),t.qZA()()()}2&e&&(t.xp6(18),t.Q6J("value",o.usuario),t.xp6(6),t.Q6J("value",o.nombre),t.xp6(7),t.Q6J("value",o.correo),t.xp6(7),t.Q6J("value",o.idRol),t.xp6(3),t.Q6J("ngForOf",o.roles),t.xp6(1),t.Q6J("ngIf","NUEVO"!==o.estadoActual),t.xp6(8),t.Q6J("ngIf",o.enEjecucion),t.xp6(2),t.Q6J("formGroup",o.formularioContrasena),t.xp6(4),t.Q6J("value",o.usuario),t.xp6(6),t.Q6J("value",o.contrasenaGenerada),t.xp6(11),t.Q6J("disabled",o.formularioContrasena.invalid),t.xp6(5),t.Q6J("ngIf",o.cambiandoContra))},dependencies:[m.sg,m.O5,b.lW,h.Hw,v.Ou,p.KE,p.hX,p.R9,M.Nt,D.gD,L.ey,E.SP,E.uX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,r.F],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}  .cdk-overlay-container{z-index:9999!important}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}"]}),n})();const pt=["cerrarCrear"],gt=["inputContrasena"];function ft(n,i){if(1&n&&(t.TgZ(0,"mat-option",30),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("value",e.ID_ROL),t.xp6(1),t.hij(" ",e.ROL,"")}}function _t(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ft,2,2,"mat-option",29),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf","DEFAULT"!==e.ROL)}}function bt(n,i){1&n&&t._UZ(0,"mat-spinner",31),2&n&&t.Q6J("diameter",50)}let ht=(()=>{class n{constructor(e,o,a,s){this.usuarioServices=e,this.rolServices=o,this.authService=a,this.fb=s,this.contrasenaGenerada="",this.onActualizacion=new t.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.roles=[],this.formularioCreacion=this.fb.group({nombre:["",[r.kI.required,r.kI.maxLength(100)]],usuario:["",[r.kI.required,r.kI.maxLength(15)]],correo:["",[r.kI.required,r.kI.maxLength(50),r.kI.email,r.kI.pattern("^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$")]],rol:["",[r.kI.required]],contrasena:["",[r.kI.required]]})}ngOnInit(){this.cargarRoles()}ngOnDestroy(){this.rolSubscripcion&&this.rolSubscripcion.unsubscribe(),this.usersSubscripcion&&this.usersSubscripcion.unsubscribe(),this.generadorSubs&&this.generadorSubs.unsubscribe(),this.cerrarCrear._elementRef.nativeElement.click()}cargarRoles(){this.rolSubscripcion=this.rolServices.getRoles(this.authService.usuario.id_usuario,"","99999").subscribe(o=>{this.roles=o.roles})}crearUsuario(){if(!this.enEjecucion){const{usuario:e,nombre:o,correo:a,contrasena:s,rol:c}=this.formularioCreacion.value,u=this.authService.usuario.id_usuario;this.enEjecucion=!0,this.cambiandoContra=!0,this.usersSubscripcion=this.usuarioServices.crearUsuario(e.toUpperCase(),o.toUpperCase(),s,c,a,u).subscribe(d=>{this.onActualizacion.emit(),!0===d.ok?(this.enEjecucion=!1,this.cambiandoContra=!1,this.cerrarCrear._elementRef.nativeElement.click(),g().fire({title:"\xa1\xc9xito!",text:d.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,this.cambiandoContra=!1,g().fire({title:"Advertencia",text:d,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}generarPassword(){this.enEjecucion||(this.enEjecucion=!0,this.generadorSubs=this.usuarioServices.generarPassword().subscribe(e=>{this.enEjecucion=!1,this.contrasenaGenerada=e,this.formularioCreacion.value.contrasena=e,this.formularioCreacion.controls.contrasena.setValue(e),this.formularioCreacion.controls.contrasena.updateValueAndValidity()}))}toMayus(e){this.formularioCreacion.controls[e].setValue(this.formularioCreacion.controls[e].value.toUpperCase())}limpiarFormulario(){this.contrasenaGenerada="",this.formularioCreacion.reset()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w),t.Y36(B.m),t.Y36(C.e),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-nuevo-usuario"]],viewQuery:function(e,o){if(1&e&&(t.Gf(pt,5),t.Gf(gt,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.cerrarCrear=a.first),t.iGM(a=t.CRH())&&(o.inputContrasena=a.first)}},outputs:{onActualizacion:"onActualizacion"},decls:61,vars:5,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup","ngSubmit"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","nombre","placeholder","Nombre completo",3,"keyup"],["matSuffix",""],["matInput","","formControlName","usuario","placeholder","Nombre del usuario",3,"keyup"],["matInput","","formControlName","correo","placeholder","Correo..."],["formControlName","rol"],[1,"cdk-overlay-container"],["value","","id","selector"],[4,"ngFor","ngForOf"],["matInput","","placeholder","Contrase\xf1a","formControlName","contrasena",3,"value"],["inputContrasena",""],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","button",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"d-flex","flex-row-reverse","mt-3"],["mat-flat-button","","type","submit",1,"btn-a",3,"disabled"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],["id","selector",3,"value",4,"ngIf"],["id","selector",3,"value"],[1,"me-3",3,"diameter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Nuevo usuario"),t.qZA(),t.TgZ(6,"button",5,6),t.NdJ("click",function(){return o.limpiarFormulario()}),t.TgZ(8,"mat-icon"),t._uU(9,"cancel"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"form",9),t.NdJ("ngSubmit",function(){return o.crearUsuario()}),t.TgZ(13,"mat-form-field",10)(14,"mat-label"),t._uU(15,"Nombre completo"),t.qZA(),t.TgZ(16,"input",11),t.NdJ("keyup",function(){return o.toMayus("nombre")}),t.qZA(),t.TgZ(17,"mat-icon",12),t._uU(18,"badge"),t.qZA()(),t.TgZ(19,"mat-form-field",10)(20,"mat-label"),t._uU(21,"Usuario"),t.qZA(),t.TgZ(22,"input",13),t.NdJ("keyup",function(){return o.toMayus("usuario")}),t.qZA(),t.TgZ(23,"mat-icon",12),t._uU(24,"person"),t.qZA()(),t.TgZ(25,"mat-form-field",10)(26,"mat-label"),t._uU(27,"Correo electr\xf3nico"),t.qZA(),t._UZ(28,"input",14),t.TgZ(29,"mat-icon",12),t._uU(30,"mail"),t.qZA()(),t.TgZ(31,"mat-form-field",10)(32,"mat-label"),t._uU(33,"Seleccione el rol"),t.qZA(),t.TgZ(34,"mat-select",15),t._UZ(35,"div",16),t.TgZ(36,"mat-option",17),t._uU(37," -- Seleccione el rol -- "),t.qZA(),t.YNc(38,_t,2,1,"ng-container",18),t.qZA()(),t.TgZ(39,"mat-form-field",10)(40,"mat-label"),t._uU(41,"Contrase\xf1a"),t.qZA(),t._UZ(42,"input",19,20),t.TgZ(44,"mat-icon",12),t._uU(45,"key"),t.qZA()(),t.TgZ(46,"div",21)(47,"button",22),t.NdJ("click",function(){return o.generarPassword()}),t.TgZ(48,"mat-icon",23),t._uU(49,"lock"),t.qZA(),t.TgZ(50,"span",24),t._uU(51,"Generar contrase\xf1a"),t.qZA()()(),t.TgZ(52,"div",25)(53,"div",21)(54,"button",26)(55,"mat-icon",23),t._uU(56,"save"),t.qZA(),t.TgZ(57,"span",24),t._uU(58,"Guardar"),t.qZA()()(),t.YNc(59,bt,1,1,"mat-spinner",27),t.qZA()()()(),t._UZ(60,"div",28),t.qZA()()()),2&e&&(t.xp6(12),t.Q6J("formGroup",o.formularioCreacion),t.xp6(26),t.Q6J("ngForOf",o.roles),t.xp6(4),t.Q6J("value",o.contrasenaGenerada),t.xp6(12),t.Q6J("disabled",o.formularioCreacion.invalid),t.xp6(5),t.Q6J("ngIf",o.cambiandoContra))},dependencies:[m.sg,m.O5,b.lW,h.Hw,v.Ou,p.KE,p.hX,p.R9,M.Nt,D.gD,L.ey,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:9999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}"]}),n})(),Ct=(()=>{class n{constructor(e,o){this.usuarioService=e,this.authService=o,this.usuario="",this.id_usuario=0,this.onDesactivar=new t.vpe,this.enEjecucion=!1}desactivarUsuario(){this.enEjecucion||(this.enEjecucion=!0,this.subscripcion=this.usuarioService.desactivarUsuario(this.id_usuario,this.authService.usuario.id_usuario).subscribe(o=>{!0===o.ok?(this.onDesactivar.emit(),g().fire({title:"\xa1\xc9xito!",text:o.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(g().fire({title:"Advertencia",text:o,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w),t.Y36(C.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-desactivar-usuario"]],inputs:{usuario:"usuario",id_usuario:"id_usuario"},outputs:{onDesactivar:"onDesactivar"},decls:26,vars:3,consts:[["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"text-center","mb-4"],["src","./../../../../../../../assets/icons/WarningRelleno.svg","width","50px","height","50px"],[1,"text-center","fw-normal"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5," Confirmaci\xf3n "),t.qZA(),t.TgZ(6,"button",5)(7,"mat-icon"),t._uU(8,"cancel"),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"form")(12,"div",8),t._UZ(13,"img",9),t.qZA(),t.TgZ(14,"h5",10),t._uU(15),t.ALo(16,"titlecase"),t.qZA(),t._UZ(17,"br"),t.TgZ(18,"div",11)(19,"div",12)(20,"button",13),t.NdJ("click",function(){return o.desactivarUsuario()}),t.TgZ(21,"mat-icon",14),t._uU(22,"block"),t.qZA(),t.TgZ(23,"span",15),t._uU(24,"Desactivar"),t.qZA()()()()()()(),t._UZ(25,"div",16),t.qZA()()()),2&e&&(t.xp6(15),t.hij(" \xbfDesea desactivar el usuario ",t.lcZ(16,1,o.usuario),"? "))},dependencies:[b.lW,h.Hw,r._Y,r.JL,r.F,m.rS],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}"]}),n})();const At=["cerrarDetalle"];let vt=(()=>{class n{constructor(e){this.usuarioServices=e}get usuario(){return this.usuarioServices.usuario}ngOnInit(){}ngOnDestroy(){this.cerrarDetalle._elementRef.nativeElement.click()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-detalle-usuario"]],viewQuery:function(e,o){if(1&e&&t.Gf(At,5),2&e){let a;t.iGM(a=t.CRH())&&(o.cerrarDetalle=a.first)}},decls:81,vars:18,consts:[["id","exampleModal4","data-bs-backdrop","static","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade",2,"z-index","999999999 !important"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],["cerrarDetalle",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],["appearance","legacy",1,"example-full-width"],["matInput","","disabled","true",3,"value"],["matSuffix",""],[1,""],[1,"d-flex","flex-row-reverse"],[1,"d-flex","flex-row-reverse","flex-wrap"],["mat-flat-button","","type","submit","data-bs-dismiss","modal","aria-label","Close",1,"btn-a"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Detalles del Usuario"),t.qZA(),t.TgZ(6,"button",5,6)(8,"mat-icon"),t._uU(9,"cancel"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"form")(13,"mat-form-field",9)(14,"mat-label"),t._uU(15,"Usuario"),t.qZA(),t._UZ(16,"input",10),t.TgZ(17,"mat-icon",11),t._uU(18,"badge"),t.qZA()(),t.TgZ(19,"mat-form-field",9)(20,"mat-label"),t._uU(21,"Nombre de usuario"),t.qZA(),t._UZ(22,"input",10),t.TgZ(23,"mat-icon",11),t._uU(24,"person"),t.qZA()(),t.TgZ(25,"mat-form-field",9)(26,"mat-label"),t._uU(27,"Preguntas contestadas"),t.qZA(),t._UZ(28,"input",10),t.TgZ(29,"mat-icon",11),t._uU(30,"quiz"),t.qZA()(),t.TgZ(31,"mat-form-field",9)(32,"mat-label"),t._uU(33,"N\xfamero de ingresos"),t.qZA(),t._UZ(34,"input",10),t.TgZ(35,"mat-icon",11),t._uU(36,"login"),t.qZA()(),t.TgZ(37,"mat-form-field",9)(38,"mat-label"),t._uU(39,"Fecha de venciminto"),t.qZA(),t._UZ(40,"input",10),t.ALo(41,"date"),t.TgZ(42,"mat-icon",11),t._uU(43,"pending_actions"),t.qZA()(),t._UZ(44,"p"),t.TgZ(45,"p",12),t._uU(46,"Informaci\xf3n de auditor\xeda"),t.qZA(),t.TgZ(47,"mat-form-field",9)(48,"mat-label"),t._uU(49,"Creado por"),t.qZA(),t._UZ(50,"input",10),t.TgZ(51,"mat-icon",11),t._uU(52,"person_add"),t.qZA()(),t.TgZ(53,"mat-form-field",9)(54,"mat-label"),t._uU(55,"Fecha de creaci\xf3n"),t.qZA(),t._UZ(56,"input",10),t.ALo(57,"date"),t.TgZ(58,"mat-icon",11),t._uU(59,"event"),t.qZA()(),t.TgZ(60,"mat-form-field",9)(61,"mat-label"),t._uU(62,"Modificado por"),t.qZA(),t._UZ(63,"input",10),t.TgZ(64,"mat-icon",11),t._uU(65,"edit"),t.qZA()(),t.TgZ(66,"mat-form-field",9)(67,"mat-label"),t._uU(68,"Fecha de modificaci\xf3n"),t.qZA(),t._UZ(69,"input",10),t.ALo(70,"date"),t.TgZ(71,"mat-icon",11),t._uU(72,"edit_calendar"),t.qZA()(),t.TgZ(73,"div",13)(74,"div",14)(75,"button",15)(76,"mat-icon",16),t._uU(77,"arrow_back"),t.qZA(),t.TgZ(78,"span",17),t._uU(79,"Volver"),t.qZA()()()()()()(),t._UZ(80,"div",18),t.qZA()()()),2&e&&(t.xp6(16),t.Q6J("value",o.usuario.USUARIO),t.xp6(6),t.Q6J("value",o.usuario.NOMBRE_USUARIO),t.xp6(6),t.Q6J("value",o.usuario.PREGUNTAS_CONTESTADAS),t.xp6(6),t.Q6J("value",o.usuario.PRIMER_INGRESO),t.xp6(6),t.Q6J("value",t.xi3(41,9,o.usuario.FECHA_VENCIMIENTO,"d/MMMM/yy")),t.xp6(10),t.Q6J("value",o.usuario.CREADO_POR),t.xp6(6),t.Q6J("value",t.xi3(57,12,o.usuario.FECHA_CREACION,"d/MMM/yy, h:mm a")),t.xp6(7),t.Q6J("value",o.usuario.MODIFICACION_POR),t.xp6(6),t.Q6J("value",t.xi3(70,15,o.usuario.FECHA_MODIFICACION,"d/MMM/yy, h:mm a")))},dependencies:[b.lW,h.Hw,p.KE,p.hX,p.R9,M.Nt,r._Y,r.JL,r.F,m.uU],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.btn-p[_ngcontent-%COMP%]{width:50%;border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{width:100%;background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}"]}),n})();function Zt(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generando... "),t.qZA())}function xt(n,i){if(1&n&&(t.TgZ(0,"span",26),t._UZ(1,"mat-spinner",27),t.YNc(2,Zt,2,0,"span",6),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("diameter",30),t.xp6(1),t.Q6J("ngIf",e.generando)}}function Ot(n,i){1&n&&t._UZ(0,"img",28)}function Ut(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generar reporte"),t.qZA())}function Mt(n,i){1&n&&(t.TgZ(0,"button",29),t._uU(1,"Nuevo"),t.qZA())}function Tt(n,i){1&n&&(t.TgZ(0,"th"),t._uU(1,"Acciones"),t.qZA())}function It(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",30)(2,"div",26)(3,"mat-icon",31),t._uU(4,"info_outline"),t.qZA(),t.TgZ(5,"strong",32),t._uU(6,"No se encontraron registros"),t.qZA()()()())}function kt(n,i){1&n&&(t.TgZ(0,"button",46)(1,"mat-icon",47),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Editar"),t.qZA()())}function Pt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,kt,5,0,"button",45),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.permiso.PERMISO_ACTUALIZACION)}}function wt(n,i){1&n&&(t.TgZ(0,"button",49)(1,"mat-icon",31),t._uU(2,"block"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Desactivar"),t.qZA()())}function yt(n,i){if(1&n&&(t.ynx(0),t.YNc(1,wt,5,0,"button",48),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.permiso.PERMISO_ELIMINACION)}}function qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return t.KtG(a.reActivar())}),t.TgZ(1,"mat-icon",51),t._uU(2,"lock_open"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Reactivar"),t.qZA()()}}function Rt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",39)(1,"button",40),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.seleccionar(a.ID_USUARIO,a.NOMBRE_USUARIO,a.USUARIO,a.ESTADO_USUARIO,a.ID_ROL,a.CORREO_ELECTRONICO))}),t.TgZ(2,"mat-icon"),t._uU(3,"more_vert"),t.qZA()(),t.TgZ(4,"mat-menu",null,41)(6,"button",42),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.seleccionarUser(a.ID_USUARIO))}),t.TgZ(7,"mat-icon",43),t._uU(8,"text_snippet"),t.qZA(),t.TgZ(9,"span"),t._uU(10,"Ver m\xe1s"),t.qZA()(),t.YNc(11,Pt,2,1,"ng-container",6),t.YNc(12,yt,2,1,"ng-container",6),t.YNc(13,qt,5,0,"button",44),t.qZA()()}if(2&n){const e=t.MAs(5),o=t.oxw().$implicit;t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(10),t.Q6J("ngIf","INACTIVO"!==o.ESTADO_USUARIO),t.xp6(1),t.Q6J("ngIf",!(1===o.ID_USUARIO||"INACTIVO"===o.ESTADO_USUARIO)),t.xp6(1),t.Q6J("ngIf","INACTIVO"===o.ESTADO_USUARIO)}}function St(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",33),t._uU(2),t.qZA(),t.TgZ(3,"td",34),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"td",35),t._uU(7),t.ALo(8,"titlecase"),t.qZA(),t.TgZ(9,"td",36),t._uU(10),t.qZA(),t.TgZ(11,"td",37),t._uU(12),t.qZA(),t.YNc(13,Rt,14,4,"td",38),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.USUARIO),t.xp6(2),t.Oqu(t.lcZ(5,6,e.NOMBRE_USUARIO)),t.xp6(3),t.Oqu(t.lcZ(8,8,e.ESTADO_USUARIO)),t.xp6(3),t.Oqu(e.ROL),t.xp6(2),t.Oqu(e.CORREO_ELECTRONICO),t.xp6(1),t.Q6J("ngIf",o.permiso.PERMISO_ACTUALIZACION||o.permiso.PERMISO_ELIMINACION)}}const Et=function(n){return[5,10,25,50,n]};let Nt=(()=>{class n{constructor(e,o,a,s,c){this.usuarioService=e,this.fb=o,this.usuario=a,this.ingresosService=s,this.permisoPantallaService=c,this.ID_USUARIO=0,this.NOMBRE_USUARIO="",this.USUARIO="",this.ESTADO_USUARIO="",this.ID_ROL=0,this.CORREO_ELECTRONICO="",this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.generando=!1,this.estaActivo=!1,this.buscando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[r.kI.required,r.kI.maxLength(100)]]})}get permiso(){return this.permisoPantallaService.permisos}cargarRegistros(){this.subscripcion=this.usuarioService.getUsuarios(this.usuario.usuario.id_usuario,this.estaActivo).subscribe(o=>{this.registros=o.usuarios,this.tamano=o.countUsuarios,this.limite=o.limite})}cambioDePagina(e){this.paginadorPorReferencia=e,this.subscripcion.unsubscribe();const o=this.usuario.usuario.id_usuario;let{buscar:a}=this.formularioBusqueda.value;this.buscando||(a="");let s=(e.pageIndex*e.pageSize).toString();this.desde=s,this.subscripcion=this.usuarioService.getUsuarios(o,this.estaActivo,a,e.pageSize.toString(),s).subscribe(c=>{this.registros=c.usuarios,this.tamano=c.countUsuarios,this.limite=c.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:e}=this.formularioBusqueda.value;this.usuarioService.getReporte(e,this.estaActivo).subscribe(o=>{let a=new Blob([o],{type:"application/pdf"}),s=window.URL.createObjectURL(a);document.createElement("a").href=s,window.open(s,"_blank"),this.generando=!1})}}mostrarActivos(){var e=this;return(0,j.Z)(function*(){e.paginadorPorReferencia&&(e.indice=-1);const o=e.usuario.usuario.id_usuario;e.subscripcion.unsubscribe(),e.formularioBusqueda.reset(),e.estaActivo=!e.estaActivo,e.desde="0",e.subscripcion=e.usuarioService.getUsuarios(o,e.estaActivo,"").subscribe(a=>{e.indice=0,e.registros=a.usuarios,e.tamano=a.countUsuarios,e.limite=a.limite})})()}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const e=this.usuario.usuario.id_usuario,{buscar:o}=this.formularioBusqueda.value;this.buscando=""!==o,this.desde="0",this.subscripcion=this.usuarioService.getUsuarios(e,this.estaActivo,o).subscribe(a=>{this.indice=0,this.registros=a.usuarios,this.tamano=a.countUsuarios,this.limite=a.limite})}seleccionarUser(e){this.usuarioService.getUsuario(e).subscribe(o=>{console.log(o)})}seleccionar(e,o,a,s,c,u){this.ID_USUARIO=e,this.NOMBRE_USUARIO=o,this.USUARIO=a,this.ESTADO_USUARIO=s,this.ID_ROL=c,this.CORREO_ELECTRONICO=u,console.log(this.CORREO_ELECTRONICO)}desactivarUsuario(){this.usuarioService.desactivarUsuario(this.ID_USUARIO,this.usuario.usuario.id_usuario).subscribe(o=>{!0===o.ok?g().fire({title:"\xa1\xc9xito!",text:o.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}):g().fire({title:"Advertencia",text:o,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})})}recargar(){const e=this.usuario.usuario.id_usuario;this.subscripcion.unsubscribe();let{buscar:o}=this.formularioBusqueda.value;this.subscripcion=this.usuarioService.getUsuarios(e,this.estaActivo,o,this.limite.toString(),this.desde).subscribe(a=>{this.registros=a.usuarios,this.tamano=a.countUsuarios,this.limite=a.limite})}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,2).subscribe()}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}reActivar(){this.reActivacion=this.usuarioService.reActivarUsuario(this.ID_USUARIO,this.usuario.usuario.id_usuario).subscribe(o=>{!0===o.ok?(g().fire({title:"\xa1\xc9xito!",text:o.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.recargar()):g().fire({title:"Advertencia",text:o,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(w),t.Y36(r.qu),t.Y36(C.e),t.Y36(P.K),t.Y36(Z.i))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-usuario"]],decls:46,vars:23,consts:[["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"d-flex","align-items-center","mb-2"],[1,"me-2","text-white","mb-0"],["color","warn",1,"text-white","me-3",3,"toggleChange"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],[1,"table-responsive","tabla"],[1,"table","table-dark","table-striped","table-hover"],[1,"bg-dark","text-light"],[1,"align-middle"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[3,"onActualizacion"],[3,"id","correo","usuario","estadoActual","idRol","nombre","onActualizacion"],[3,"usuario","id_usuario","onActualizacion","onDesactivar"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"me-3","btn-a","mb-2"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","Usuario"],["data-title","Nombre"],["data-title","Estado"],["data-title","Rol"],["data-title","Correo"],["data-title","Acci\xf3n",4,"ngIf"],["data-title","Acci\xf3n"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["menu","matMenu"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal4","data-bs-whatever","@getbootstrap",3,"click"],["id","iconMas"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap"],["id","iconEditar"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap"],["mat-menu-item","",3,"click"],["id","iconUnlock"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h3"),t._uU(2,"Gesti\xf3n de Usuarios"),t.qZA(),t.TgZ(3,"div",0)(4,"div",1)(5,"div",2)(6,"button",3),t.NdJ("click",function(){return o.generarReporte()}),t.YNc(7,xt,3,2,"span",4),t.YNc(8,Ot,1,0,"img",5),t.YNc(9,Ut,2,0,"span",6),t.qZA(),t.YNc(10,Mt,2,0,"button",7),t.qZA(),t.TgZ(11,"div",8)(12,"div",9)(13,"label",10),t._uU(14,"Mostrar Inactivos"),t.qZA(),t.TgZ(15,"mat-slide-toggle",11),t.NdJ("toggleChange",function(){return o.mostrarActivos()}),t.qZA()(),t.TgZ(16,"form",12),t.NdJ("ngSubmit",function(){return o.buscarRegistro()}),t.TgZ(17,"label",13),t._uU(18,"Buscar:"),t.qZA(),t._UZ(19,"input",14),t.qZA()()(),t._UZ(20,"hr",15),t.TgZ(21,"div",16)(22,"table",17)(23,"thead",18)(24,"tr")(25,"th"),t._uU(26,"Usuario"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Nombre"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Estado"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Rol"),t.qZA(),t.TgZ(33,"th"),t._uU(34,"Correo electr\xf3nico"),t.qZA(),t.YNc(35,Tt,2,0,"th",6),t.qZA()(),t.TgZ(36,"tbody",19),t.YNc(37,It,7,0,"tr",6),t.YNc(38,St,14,10,"tr",20),t.qZA()()(),t.TgZ(39,"mat-paginator",21),t.NdJ("page",function(s){return o.cambioDePagina(s)}),t.qZA()(),t.TgZ(40,"div",22),t._UZ(41,"br"),t.qZA(),t._UZ(42,"app-detalle-usuario"),t.TgZ(43,"app-nuevo-usuario",23),t.NdJ("onActualizacion",function(){return o.recargar()}),t.qZA(),t.TgZ(44,"app-editar-usuario",24),t.NdJ("onActualizacion",function(){return o.recargar()}),t.qZA(),t.TgZ(45,"app-desactivar-usuario",25),t.NdJ("onActualizacion",function(){return o.recargar()})("onDesactivar",function(){return o.recargar()}),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngClass",o.generando?"d-flex align-items-center":""),t.xp6(1),t.Q6J("ngIf",o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",o.permiso.PERMISO_INSERCION),t.xp6(6),t.Q6J("formGroup",o.formularioBusqueda),t.xp6(19),t.Q6J("ngIf",o.permiso.PERMISO_ACTUALIZACION||o.permiso.PERMISO_ELIMINACION),t.xp6(2),t.Q6J("ngIf",o.registros.length<1),t.xp6(1),t.Q6J("ngForOf",o.registros),t.xp6(1),t.Q6J("length",o.tamano)("pageSize",o.limite)("pageSizeOptions",t.VKq(21,Et,o.tamano))("pageIndex",o.indice),t.xp6(5),t.Q6J("id",o.ID_USUARIO)("correo",o.CORREO_ELECTRONICO)("usuario",o.USUARIO)("estadoActual",o.ESTADO_USUARIO)("idRol",o.ID_ROL)("nombre",o.NOMBRE_USUARIO),t.xp6(1),t.Q6J("usuario",o.USUARIO)("id_usuario",o.ID_USUARIO))},dependencies:[m.mk,m.sg,m.O5,b.lW,h.Hw,I.VK,I.OP,I.p6,v.Ou,R.NW,ot.Rr,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,mt,ht,Ct,vt,m.rS],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined";.background[_ngcontent-%COMP%]{width:100%;min-height:100vh;background-image:url(/assets/img/FondoP1.svg);background-repeat:no-repeat;background-size:cover;background-position:center}#iconMas[_ngcontent-%COMP%]{color:#4379df}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconUnlock[_ngcontent-%COMP%]{color:#82da71}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}']}),n})(),G=(()=>{class n{constructor(e){this.http=e,this.baseURL=y.N.baseURL}getParametros(){return this.http.get(`${this.baseURL}/db-backup/`).pipe((0,f.K)(o=>(0,_.of)(o.error)))}getValidarConexion(e,o,a,s){return this.http.get(`${this.baseURL}/db-backup/validar-conexion?servidor=${e}&usuario=${a}&contrasena=${s}&base=${o}`).pipe((0,f.K)(u=>(0,_.of)(u.error)))}getBackup(e,o="backup",a=""){return a||(a=""),this.http.post(`${this.baseURL}/db-backup/subir`,{nombreBackup:o,ubicacion:a,id_usuario:e},{observe:"response",responseType:"blob"}).pipe((0,f.K)(u=>(0,_.of)(u.error)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jt=["servidor"],Jt=["base"],Ft=["usuario"],Bt=["contrasena"],Dt=["tamano"];let Lt=(()=>{class n{constructor(e,o,a){this.backupService=e,this.fb=o,this.authService=a,this.generando=!1,this.hideContrasena=!1,this.formularioConexion=this.fb.group({servidor:["",[r.kI.required]],base:["",[r.kI.required]],usuario:["",[r.kI.required]],contrasena:["",[r.kI.required]]}),this.formularioRespaldo=this.fb.group({tamano:["",[r.kI.required]],nombre:["",[r.kI.required,r.kI.maxLength(20),r.kI.pattern("[a-zA-Z0-9]+$")]],ubicacion:["",[r.kI.maxLength(20)]]}),this.conectado=!1}nombreInput(){var e=this;return(0,j.Z)(function*(){e.formularioRespaldo.get("ubicacion")?.setValue(e.formularioRespaldo.get("nombre")?.value)})()}probarConexion(){const{servidor:e,base:o,usuario:a,contrasena:s}=this.formularioConexion.value;this.backupService.getValidarConexion(e,o,a,s).subscribe(c=>{this.formularioRespaldo.controls.tamano.setValue(c.result+" MB"),this.formularioRespaldo.get("nombre")?.enable(),!0===c.ok?(this.conectado=!0,g().fire({title:"\xa1\xc9xito!",text:c.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"bottom",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):g().fire({title:"Advertencia",text:c.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"bottom",showConfirmButton:!1,timer:4500,timerProgressBar:!0})})}cargarParametros(){this.backupService.getParametros().subscribe(e=>{this.formularioConexion.controls.servidor.setValue(e.host),this.formularioConexion.controls.base.setValue(e.database),this.formularioConexion.controls.usuario.setValue(e.user),this.formularioConexion.controls.contrasena.setValue(e.password),this.formularioRespaldo.get("tamano")?.disable(),this.formularioRespaldo.get("ubicacion")?.disable(),this.formularioRespaldo.get("nombre")?.disable(),this.formularioConexion.updateValueAndValidity()})}getBackup(){if(!this.generando){this.generando=!0;const e=this.authService.usuario.id_usuario,{nombre:o}=this.formularioRespaldo.value;this.backupService.getBackup(e,o,"").subscribe(s=>{let c=s.body,u=document.createElement("a");u.download=o+".sql",u.href=window.URL.createObjectURL(c),u.click(),this.generando=!1})}}ngOnInit(){this.cargarParametros()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(G),t.Y36(r.qu),t.Y36(C.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-generar-backup"]],viewQuery:function(e,o){if(1&e&&(t.Gf(jt,5),t.Gf(Jt,5),t.Gf(Ft,5),t.Gf(Bt,5),t.Gf(Dt,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.servidor=a.first),t.iGM(a=t.CRH())&&(o.base=a.first),t.iGM(a=t.CRH())&&(o.usuario=a.first),t.iGM(a=t.CRH())&&(o.contrasena=a.first),t.iGM(a=t.CRH())&&(o.tamano=a.first)}},decls:73,vars:8,consts:[[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"container","px-4"],[1,"row","gx-5"],[1,"col"],[1,"card","text-bg-dark","mb-3","mt-3",2,"max-width","40rem"],[1,"card-header"],[3,"formGroup","ngSubmit"],[1,"card-body"],["appearance","legacy",1,"example-full-width"],["formControlName","servidor","matInput","","placeholder","Nombre del servidor...","autocomplete","off"],["matSuffix",""],["formControlName","base","matInput","","placeholder","Nombre de la base de datos...","autocomplete","off"],["formControlName","usuario","matInput","","placeholder","Nombre de usuario...","autocomplete","off"],["formControlName","contrasena","autocomplete","off","matInput","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"card-footer"],["mat-flat-button","","type","submit",1,"me-3","btn-p","mb-2","mt-3",3,"disabled"],["formControlName","nombre","matInput","","placeholder","Nombre...","autocomplete","off",3,"keyup"],["formControlName","tamano","matInput","","autocomplete","off"],["matPrefix",""],["formControlName","ubicacion","matInput","","placeholder","Ubicaci\xf3n del archivo...","autocomplete","off"]],template:function(e,o){1&e&&(t._UZ(0,"div",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t._uU(6,"Configuraci\xf3n de la conexi\xf3n"),t.qZA(),t.TgZ(7,"form",6),t.NdJ("ngSubmit",function(){return o.probarConexion()}),t.TgZ(8,"div",7)(9,"div")(10,"mat-form-field",8)(11,"mat-label"),t._uU(12,"Servidor"),t.qZA(),t._UZ(13,"input",9),t.TgZ(14,"mat-icon",10),t._uU(15,"dns"),t.qZA()()(),t.TgZ(16,"div")(17,"mat-form-field",8)(18,"mat-label"),t._uU(19,"Base de datos"),t.qZA(),t._UZ(20,"input",11),t.TgZ(21,"mat-icon",10),t._uU(22,"dataset"),t.qZA()()(),t.TgZ(23,"div")(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"Usuario"),t.qZA(),t._UZ(27,"input",12),t.TgZ(28,"mat-icon",10),t._uU(29,"account_circle"),t.qZA()()(),t.TgZ(30,"div")(31,"mat-form-field",8)(32,"mat-label"),t._uU(33,"Contrase\xf1a"),t.qZA(),t._UZ(34,"input",13),t.TgZ(35,"button",14),t.NdJ("click",function(){return o.hideContrasena=!o.hideContrasena}),t.TgZ(36,"mat-icon"),t._uU(37),t.qZA()()()(),t.TgZ(38,"div",15)(39,"button",16),t._uU(40,"Probar conexi\xf3n"),t.qZA()()()()()(),t.TgZ(41,"div",3)(42,"div",4)(43,"div",5),t._uU(44,"Informaci\xf3n de la base de datos y configuraci\xf3n de respaldo"),t.qZA(),t.TgZ(45,"form",6),t.NdJ("ngSubmit",function(){return o.getBackup()}),t.TgZ(46,"div",7)(47,"div")(48,"mat-form-field",8)(49,"mat-label"),t._uU(50,"Nombre"),t.qZA(),t.TgZ(51,"input",17),t.NdJ("keyup",function(){return o.nombreInput()}),t.qZA(),t.TgZ(52,"mat-icon",10),t._uU(53,"badge"),t.qZA()()(),t.TgZ(54,"div")(55,"mat-form-field",8)(56,"mat-label"),t._uU(57,"Tama\xf1o total"),t.qZA(),t._UZ(58,"input",18),t.TgZ(59,"mat-icon",10),t._uU(60,"storage"),t.qZA()()(),t.TgZ(61,"div")(62,"mat-form-field",8)(63,"mat-label"),t._uU(64,"Ubicaci\xf3n"),t.qZA(),t.TgZ(65,"span",19),t._uU(66,"C:/src/server/backups/"),t.qZA(),t._UZ(67,"input",20),t.TgZ(68,"mat-icon",10),t._uU(69,"folder"),t.qZA()()(),t.TgZ(70,"div",15)(71,"button",16),t._uU(72,"Respaldar"),t.qZA()()()()()()()()),2&e&&(t.xp6(7),t.Q6J("formGroup",o.formularioConexion),t.xp6(27),t.Q6J("type",o.hideContrasena?"password":"text"),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",o.hideContrasena),t.xp6(2),t.Oqu(o.hideContrasena?"visibility_off":"visibility"),t.xp6(2),t.Q6J("disabled",o.formularioConexion.invalid||o.conectado),t.xp6(6),t.Q6J("formGroup",o.formularioRespaldo),t.xp6(26),t.Q6J("disabled",o.formularioRespaldo.invalid||!o.conectado))},dependencies:[b.lW,h.Hw,p.KE,p.hX,p.qo,p.R9,M.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:["label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.mat-card-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.card-header[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-align:center}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400}.example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.form-control[_ngcontent-%COMP%]{background-color:#202428;color:#fff;border:none}"]}),n})(),Gt=(()=>{class n{constructor(e,o,a){this.backupService=e,this.fb=o,this.authService=a,this.formularioConexion=this.fb.group({servidor:["",[r.kI.required]],base:["",[r.kI.required]],usuario:["",[r.kI.required]],contrasena:["",[r.kI.required]]}),this.formularioRespaldo=this.fb.group({tamano:["",[r.kI.required]],nombre:["",[r.kI.required,r.kI.maxLength(20),r.kI.pattern("[a-zA-Z0-9]+$")]],ubicacion:["",[r.kI.maxLength(20)]]}),this.conectado=!1}ngOnInit(){this.cargarParametros()}cargarParametros(){this.backupService.getParametros().subscribe(e=>{this.formularioConexion.controls.servidor.setValue(e.host),this.formularioConexion.controls.base.setValue(e.database),this.formularioConexion.controls.usuario.setValue(e.user),this.formularioConexion.controls.contrasena.setValue(e.password),this.formularioRespaldo.get("tamano")?.disable(),this.formularioRespaldo.get("ubicacion")?.disable(),this.formularioRespaldo.get("nombre")?.disable(),this.formularioConexion.updateValueAndValidity()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(G),t.Y36(r.qu),t.Y36(C.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-restaurar-backup"]],decls:32,vars:0,consts:[[1,"card","text-bg-dark"],[1,"card-header"],[1,"card-body"],["appearance","legacy",1,"example-full-width"],["matInput","","placeholder","Nombre del servidor...","autocomplete","off"],["matSuffix",""],["matInput","","placeholder","Nombre de la base de datos...","autocomplete","off"],[1,"botonFeo"],["type","file","id","file","accept",".sql"],["for","file",1,"align-content-center","example-edit-width","d-flex","align-items-center"],[1,"align-self-center","m-3"],[1,"card-footer","text-muted","mb-2"],[1,"inline-buttons"],["mat-flat-button","","type","button",1,"me-3","btn-a"],["mat-flat-button","","type","button",1,"btn-p"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2," Restaurar "),t.qZA(),t.TgZ(3,"div",2)(4,"div")(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"Servidor"),t.qZA(),t._UZ(8,"input",4),t.TgZ(9,"mat-icon",5),t._uU(10,"dns"),t.qZA()()(),t.TgZ(11,"div")(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"Base de datos"),t.qZA(),t._UZ(15,"input",6),t.TgZ(16,"mat-icon",5),t._uU(17,"dataset"),t.qZA()()(),t.TgZ(18,"mat-label"),t._uU(19,"Directorio"),t.qZA(),t.TgZ(20,"div",7),t._UZ(21,"input",8),t.TgZ(22,"label",9)(23,"mat-icon",10),t._uU(24,"storage"),t.qZA(),t._uU(25," Seleccionar archivo "),t.qZA()()(),t.TgZ(26,"div",11)(27,"div",12)(28,"button",13),t._uU(29,"Restaurar"),t.qZA(),t.TgZ(30,"button",14),t._uU(31,"Salir"),t.qZA()()()())},dependencies:[b.lW,h.Hw,p.KE,p.hX,p.R9,M.Nt],styles:["label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.mat-card-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.card-header[_ngcontent-%COMP%]{color:#fff;font-weight:700;text-align:center}.card-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400}input[type=file][_ngcontent-%COMP%]{display:none}label[_ngcontent-%COMP%]{color:#fff;height:50px;border-radius:10px;background-color:#d12609;font-size:20px}.botonFeo[_ngcontent-%COMP%]{line-height:50px}.example-full-width[_ngcontent-%COMP%], .example-edit-width[_ngcontent-%COMP%]{width:100%;color:#fff}.inline-buttons[_ngcontent-%COMP%]{display:inline-flex;justify-content:center}.form-control[_ngcontent-%COMP%]{background-color:#202428;color:#fff;border:none}"]}),n})(),zt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-base-de-datos"]],decls:11,vars:0,consts:[[1,"min-vh-100"],["id","contenedor",1,"container-md","rounded-4","pb-2"],["animationDuration","0ms","mat-align-tabs","center"],["label","Generar backup"],["label","Restaurar backup"],[1,"mt-4"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Gesti\xf3n de Base de Datos"),t.qZA(),t.TgZ(3,"div",1)(4,"mat-tab-group",2)(5,"mat-tab",3),t._UZ(6,"app-generar-backup"),t.qZA(),t.TgZ(7,"mat-tab",4),t._UZ(8,"app-restaurar-backup"),t.qZA()()(),t.TgZ(9,"div",5),t._UZ(10,"br"),t.qZA()())},dependencies:[E.SP,E.uX,Lt,Gt],styles:["#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconUnlock[_ngcontent-%COMP%]{color:#82da71}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}"]}),n})(),Qt=(()=>{class n{constructor(e,o){this.pantallaService=e,this.router=o}canActivate(e,o){return this.pantallaService.validarPermiso(2).pipe((0,U.b)(a=>{!0!==a&&this.router.navigateByUrl("/main/dashboard")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.i),t.LFG(x.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yt=(()=>{class n{constructor(e,o){this.pantallaService=e,this.router=o}canActivate(e,o){return this.pantallaService.validarPermiso(11).pipe((0,U.b)(a=>{!0!==a&&this.router.navigateByUrl("/main/dashboard")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.i),t.LFG(x.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ht=(()=>{class n{constructor(e,o){this.pantallaService=e,this.router=o}canActivate(e,o){return this.pantallaService.validarPermiso(20).pipe((0,U.b)(a=>{!0!==a&&this.router.navigateByUrl("/main/dashboard")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.i),t.LFG(x.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-departamento"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"departamento works!"),t.qZA())}}),n})(),$t=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-direccion"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"direccion works!"),t.qZA())}}),n})(),Kt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-municipio"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"municipio works!"),t.qZA())}}),n})();var z=l(6914);const Xt=["cerrarCrear"];function Wt(n,i){1&n&&t._UZ(0,"mat-spinner",21),2&n&&t.Q6J("diameter",50)}let te=(()=>{class n{constructor(e,o,a){this.cajaService=e,this.fb=o,this.authService=a,this.onCerrar=new t.vpe,this.onCrear=new t.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.formularioCaja=this.fb.group({monto:["",[r.kI.required]]}),this.toMayus=S.K.toMayus}validarNumeros(e){return(0,j.Z)(function*(){("+"===e.key||"-"===e.key||"e"===e.key||"E"===e.key)&&e.preventDefault()})()}crearCajaAbierta(){if(!this.enEjecucion){const{monto:e}=this.formularioCaja.value,o=this.authService.usuario.id_usuario;this.enEjecucion=!0,this.subscripcion=this.cajaService.crearCajaAbierta(e,o).subscribe(a=>{this.onCrear.emit(),!0===a.ok?(this.enEjecucion=!1,this.cerrarCrear._elementRef.nativeElement.click(),g().fire({title:"\xa1\xc9xito!",text:a.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,g().fire({title:"Advertencia",text:a.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}recargar(){this.subscripcion=this.cajaService.getCajaAbierta().subscribe(e=>{this.registros=e.cajas,this.tamano=e.countCajas,this.limite=e.limite,console.log(e)})}ngOnInit(){}get cajaAbierta(){return this.cajaService.cajaAbierta}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},250)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Z),t.Y36(r.qu),t.Y36(C.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-abri-caja"]],viewQuery:function(e,o){if(1&e&&t.Gf(Xt,5),2&e){let a;t.iGM(a=t.CRH())&&(o.cerrarCrear=a.first)}},outputs:{onCerrar:"onCerrar",onCrear:"onCrear"},decls:30,vars:3,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button","id","cerrarModal",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","formControlName","monto","placeholder","Ingrese el saldo","autocomplete","off",3,"keydown","paste"],["matSuffix",""],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","button","id","agregarMonto",1,"btn-a",3,"disabled","click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],[1,"me-3",3,"diameter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Ingresar el saldo para abrir la caja"),t.qZA(),t.TgZ(6,"button",5,6),t.NdJ("click",function(){return o.cerrar()}),t.TgZ(8,"mat-icon"),t._uU(9,"cancel"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"form",9)(13,"p",10),t._uU(14,"Saldo"),t.qZA(),t.TgZ(15,"mat-form-field",11)(16,"mat-label"),t._uU(17,"Saldo de Apertura"),t.qZA(),t.TgZ(18,"input",12),t.NdJ("keydown",function(s){return o.validarNumeros(s)})("paste",function(s){return s.preventDefault()}),t.qZA(),t.TgZ(19,"mat-icon",13),t._uU(20,"menu_book"),t.qZA()(),t.TgZ(21,"div",14)(22,"div",15)(23,"button",16),t.NdJ("click",function(){return o.cajaAbierta.ESTADO=!0})("click",function(){return o.crearCajaAbierta()}),t.TgZ(24,"mat-icon",17),t._uU(25,"save"),t.qZA(),t.TgZ(26,"span",18),t._uU(27,"Guardar"),t.qZA()()(),t.YNc(28,Wt,1,1,"mat-spinner",19),t.qZA()()()(),t._UZ(29,"div",20),t.qZA()()()),2&e&&(t.xp6(12),t.Q6J("formGroup",o.formularioCaja),t.xp6(11),t.Q6J("disabled",o.formularioCaja.invalid),t.xp6(5),t.Q6J("ngIf",o.enEjecucion))},dependencies:[m.O5,b.lW,h.Hw,v.Ou,p.KE,p.hX,p.R9,M.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),n})();function ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("onActualizacion",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.recargar())})("onCrear",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.recargar())}),t.TgZ(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",35)(5,"div",36)(6,"h6",37),t._uU(7,"Hora de Apertura"),t.qZA(),t.TgZ(8,"h2",38),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"H6",39),t._uU(12),t.ALo(13,"date"),t.qZA()()(),t.TgZ(14,"div",35)(15,"div",36)(16,"h6",40),t._uU(17,"Efectivo de Apertura"),t.qZA(),t.TgZ(18,"h2",41),t._uU(19),t.ALo(20,"currency"),t.qZA(),t.TgZ(21,"H6",42),t._uU(22),t.ALo(23,"date"),t.qZA()()(),t.TgZ(24,"div",43)(25,"div",36)(26,"h6",44),t._uU(27,"Efectivo Actual"),t.qZA(),t.TgZ(28,"h2",45),t._uU(29),t.ALo(30,"currency"),t.qZA(),t.TgZ(31,"H6",46),t._uU(32),t.ALo(33,"date"),t.qZA()()()()()()()}if(2&n){const e=t.oxw();t.xp6(9),t.Oqu(t.xi3(10,6,e.cajaAbierta.FECHA_APERTURA,"h:mm a")),t.xp6(3),t.hij(" ",t.xi3(13,9,e.cajaAbierta.FECHA_APERTURA,"dd-MMMM-yyyy")," "),t.xp6(7),t.Oqu(t.xi3(20,12,e.cajaAbierta.SALDO_APERTURA,"Lps. ")),t.xp6(3),t.hij(" ",t.xi3(23,15,e.cajaAbierta.FECHA_APERTURA,"dd-MMMM-yyyy")," "),t.xp6(7),t.Oqu(t.xi3(30,18,e.cajaAbierta.SALDO_ACTUAL,"Lps. ")),t.xp6(3),t.hij(" ",t.xi3(33,21,e.currentDate,"dd-MMMM-yyyy")," ")}}function oe(n,i){1&n&&(t.TgZ(0,"div",47)(1,"div",32)(2,"div",33)(3,"div",34)(4,"div",48)(5,"div",36)(6,"h2",49),t._uU(7,"La Caja se encuentra cerrada"),t.qZA()()()()()()())}function ne(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generando... "),t.qZA())}function ae(n,i){if(1&n&&(t.TgZ(0,"span",50),t._UZ(1,"mat-spinner",51),t.YNc(2,ne,2,0,"span",12),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("diameter",30),t.xp6(1),t.Q6J("ngIf",e.generando)}}function ie(n,i){1&n&&t._UZ(0,"img",52)}function re(n,i){1&n&&(t.TgZ(0,"span",53),t._uU(1,"Generar reporte"),t.qZA())}function se(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",55),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.creando=!0)}),t._uU(1," Abrir Caja "),t.qZA()}}function ce(n,i){if(1&n&&(t.ynx(0),t.YNc(1,se,2,0,"button",54),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.cajaAbierta.ESTADO)}}function ue(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",57),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.editando=!0)})("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.actualizarCajaEstado())}),t._uU(1," Cerrar Caja "),t.qZA()}}function le(n,i){if(1&n&&(t.ynx(0),t.YNc(1,ue,2,0,"button",56),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",1==e.cajaAbierta.ESTADO)}}function de(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",58)(2,"div",50)(3,"mat-icon",59),t._uU(4,"info_outline"),t.qZA(),t.TgZ(5,"strong",60),t._uU(6,"No se encontraron registros"),t.qZA()()()())}function me(n,i){if(1&n&&(t.TgZ(0,"tr",61)(1,"td",62),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td",63),t._uU(5),t.ALo(6,"date"),t.qZA(),t.TgZ(7,"td",64),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td",65),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td",66),t._uU(14),t.ALo(15,"currency"),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(t.xi3(3,5,e.FECHA_APERTURA,"d/MMM/yy")),t.xp6(3),t.Oqu(t.xi3(6,8,e.FECHA_APERTURA,"h:mm a")),t.xp6(3),t.Oqu(t.xi3(9,11,e.SALDO_APERTURA,"Lps. ")),t.xp6(3),t.Oqu(t.xi3(12,14,e.FECHA_CIERRE,"h:mm a")),t.xp6(3),t.Oqu(t.xi3(15,17,e.SALDO_CIERRE,"Lps. "))}}function pe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-abri-caja",67),t.NdJ("onCerrar",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.creando=a)})("onCrear",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.cargarRegistro())}),t.qZA()}}const ge=function(n){return[5,10,25,50,n]};let fe=(()=>{class n{constructor(e,o,a,s,c){this.cajaService=e,this.fb=o,this.pantalla=a,this.usuario=s,this.ingresosService=c,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.generando=!1,this.creando=!1,this.editando=!1,this.estadoCaja=!1,this.miFecha=new Date,this.currentDate=new Date,this.buscando=!1,this.onActualizacion=new t.vpe,this.formularioBusqueda=this.fb.group({fechaInicial:[""],fechaFinal:[""],buscar:["",[r.kI.required,r.kI.maxLength(100)]]}),this.enEjecucion=!1}ngOnInit(){this.registrarIngreso(),this.cargarRegistros(),this.cargarRegistro()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}cargarRegistro(){this.subscripcion=this.cajaService.getCajaAbierta().subscribe(o=>{this.estadoCaja=!0})}cargarRegistros(){this.subscripcion=this.cajaService.getCajasCerradas(this.usuario.usuario.id_usuario).subscribe(o=>{this.registros=this.cajaService.cajas,this.tamano=o.countCajas,this.limite=o.limite})}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,26).subscribe()}get cajaAbierta(){return this.cajaService.cajaAbierta}get permisos(){return this.pantalla.permisos}recargar(){this.subscripcion=this.cajaService.getCajasCerradas(this.usuario.usuario.id_usuario).subscribe(a=>{this.registros=a.cajas,this.tamano=a.countCajas,this.limite=a.limite,console.log(a)})}cambioDePagina(e){this.paginadorPorReferencia=e,this.subscripcion.unsubscribe();const o=this.usuario.usuario.id_usuario;let{buscar:a}=this.formularioBusqueda.value,{fechaInicial:s}=this.formularioBusqueda.value,{fechaFinal:c}=this.formularioBusqueda.value;this.buscando||(a="",s="",c="");let u=(e.pageIndex*e.pageSize).toString();this.subscripcion=this.cajaService.getCajasCerradas(o,a,e.pageSize.toString(),u,s,c).subscribe(d=>{this.registros=d.cajas,this.tamano=d.countCajas,this.limite=d.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const e=this.usuario.usuario.id_usuario,{buscar:o}=this.formularioBusqueda.value;this.buscando=""!==o,this.subscripcion=this.cajaService.getCajasCerradas(e,o,"","",this.formularioBusqueda.value.fechaInicial,this.formularioBusqueda.value.fechaFinal).subscribe(a=>{this.indice=0,this.registros=a.cajas,this.tamano=a.countCajas,this.limite=a.limite})}actualizarCajaEstado(){this.enEjecucion||(this.enEjecucion=!0,this.cajaService.actualizarCajaCerrada(this.cajaAbierta.id,this.usuario.usuario.id_usuario).subscribe(o=>{this.onActualizacion.emit(),!0===o.ok?(g().fire({title:"\xa1\xc9xito!",text:o.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1,this.cargarRegistros(),this.cajaAbierta.ESTADO=!1):(g().fire({title:"Advertencia",text:o,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:e}=this.formularioBusqueda.value,{fechaInicial:o}=this.formularioBusqueda.value,{fechaFinal:a}=this.formularioBusqueda.value;this.cajaService.getReporte(e,o,a).subscribe(s=>{let c=new Blob([s],{type:"application/pdf"}),u=window.URL.createObjectURL(c);document.createElement("a").href=u,window.open(u,"_blank"),this.generando=!1})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(z.Z),t.Y36(r.qu),t.Y36(Z.i),t.Y36(C.e),t.Y36(P.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-caja"]],outputs:{onActualizacion:"onActualizacion"},decls:49,vars:18,consts:[["id","titulo",1,"mb-2"],[1,"bg-mix"],["class","container",3,"onActualizacion","onCrear",4,"ngIf"],["class","container",4,"ngIf"],[1,"mt-5"],["id","contenedor",1,"container-md","rounded-4","b-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],["id","reporteCaja",4,"ngIf"],[4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"d-flex","align-items-center","flex-wrap",3,"formGroup","ngSubmit"],[1,"mb-2","d-flex","align-items-center","flex-wrap"],["id","desdeLabel",1,"me-3"],["type","datetime-local","formControlName","fechaInicial","id","desde","placeholder","Desde",1,"rounded-3","me-3",2,"background-color","white"],["id","hastaLabel",1,"me-3"],["type","datetime-local","formControlName","fechaFinal","placeholder","Hasta",1,"rounded-3","me-3"],["mat-flat-button","","type","button",1,"ms-3","btn-a","mb-2",3,"click"],["id","iconBuscar"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light"],["id","encabezadoTabla"],[1,"align-middle"],["id","registrosTabla",4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[3,"onCerrar","onCrear",4,"ngIf"],[1,"mt-4"],[1,"container",3,"onActualizacion","onCrear"],[1,"card"],[1,"card-body"],[1,"row"],[1,"col-lg-4","col-md-6","d-flex","stat","my-3"],[1,"mx-auto"],["id","tituloHDA",1,"text-muted"],["id","horaDeApertura"],["id","fechaHDA",1,"text-success"],["id","tituloEDA",1,"text-muted"],["id","efectivoDeApertura"],["id","fechaEDA",1,"text-success"],[1,"col-lg-4","col-md-6","d-flex","my-3"],["id","tituloEA",1,"text-muted"],["id","efectivoAnual"],["id","fechaEA",1,"text-success"],[1,"container"],[1,"col-lg-12","col-md-6","d-flex","stat","my-3"],["id","alertaCaja"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["id","reporteCaja"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap","id","btnAbrirCaja",3,"mouseenter",4,"ngIf"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap","id","btnAbrirCaja",1,"me-3","btn-a","mb-2",3,"mouseenter"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","id","btnCerrarCaja",3,"mouseenter","click",4,"ngIf"],["mat-flat-button","","type","button","id","btnCerrarCaja",1,"me-3","btn-a","mb-2",3,"mouseenter","click"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["id","registrosTabla"],["data-title","Fecha"],["data-title","Hora de Apertura"],["data-title","Monto de Apertura"],["data-title","Hora de Cierre"],["data-title","Monto de Cierre"],[3,"onCerrar","onCrear"]],template:function(e,o){1&e&&(t.TgZ(0,"div")(1,"h3",0),t._uU(2,"Gesti\xf3n de Caja"),t.qZA(),t.TgZ(3,"section",1),t.YNc(4,ee,34,24,"div",2),t.YNc(5,oe,8,0,"div",3),t.qZA(),t.TgZ(6,"section",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"button",8),t.NdJ("click",function(){return o.generarReporte()}),t.YNc(11,ae,3,2,"span",9),t.YNc(12,ie,1,0,"img",10),t.YNc(13,re,2,0,"span",11),t.qZA(),t.YNc(14,ce,2,1,"ng-container",12),t.YNc(15,le,2,1,"ng-container",12),t.qZA(),t.TgZ(16,"div",13)(17,"form",14),t.NdJ("ngSubmit",function(){return o.buscarRegistro()}),t.TgZ(18,"div",15)(19,"label",16),t._uU(20,"Desde:"),t.qZA(),t._UZ(21,"input",17),t.TgZ(22,"label",18),t._uU(23,"Hasta:"),t.qZA(),t._UZ(24,"input",19),t.qZA()(),t.TgZ(25,"button",20),t.NdJ("click",function(){return o.buscarRegistro()}),t.TgZ(26,"mat-icon",21),t._uU(27,"search"),t.qZA()()()(),t.TgZ(28,"div",22)(29,"table",23)(30,"thead",24)(31,"tr",25)(32,"th"),t._uU(33,"Fecha"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Hora de Apertura"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Monto de Apertura"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Hora de Cierre"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Monto de Cierre"),t.qZA()()(),t.TgZ(42,"tbody",26),t.YNc(43,de,7,0,"tr",12),t.YNc(44,me,16,20,"tr",27),t.qZA()()(),t.TgZ(45,"mat-paginator",28),t.NdJ("page",function(s){return o.cambioDePagina(s)}),t.qZA(),t.YNc(46,pe,1,0,"app-abri-caja",29),t.qZA(),t.TgZ(47,"div",30),t._UZ(48,"br"),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",1==o.cajaAbierta.ESTADO),t.xp6(1),t.Q6J("ngIf",0==o.cajaAbierta.ESTADO),t.xp6(5),t.Q6J("ngClass",o.generando?"d-flex align-items-center":""),t.xp6(1),t.Q6J("ngIf",o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",o.permisos.PERMISO_INSERCION),t.xp6(1),t.Q6J("ngIf",o.permisos.PERMISO_ACTUALIZACION),t.xp6(2),t.Q6J("formGroup",o.formularioBusqueda),t.xp6(26),t.Q6J("ngIf",o.registros.length<1),t.xp6(1),t.Q6J("ngForOf",o.registros),t.xp6(1),t.Q6J("length",o.tamano)("pageSize",o.limite)("pageSizeOptions",t.VKq(16,ge,o.tamano))("pageIndex",o.indice),t.xp6(1),t.Q6J("ngIf",o.creando))},dependencies:[m.mk,m.sg,m.O5,b.lW,h.Hw,v.Ou,R.NW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,te,m.H9,m.uU],styles:['@import"https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined";@media (max-width: 768px){.stat[_ngcontent-%COMP%]{border:0}}section[_ngcontent-%COMP%]{background-color:transparent!important}.stat[_ngcontent-%COMP%]{border-right:1px solid var(--greybtnh)}.card[_ngcontent-%COMP%]{border-radius:20px;--bs-card-bg: rgb(33, 37, 41) !important}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--redII)!important;font-weight:700!important}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-weight:700!important;color:var(--primary)}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{color:var(--primary)}.content[_ngcontent-%COMP%]{overflow-y:auto;height:100vh;padding-bottom:5rem}.container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700!important;color:var(--cafe)}.btn-secondary[_ngcontent-%COMP%]{background-color:var(--greybtn)!important;color:var(--light);border:none;cursor:pointer;transition:.3s ease all}.text-muted[_ngcontent-%COMP%]{color:#fff!important}.text-success[_ngcontent-%COMP%]{color:#0c9631!important}.background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconUnlock[_ngcontent-%COMP%]{color:#82da71}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}#iconBuscar[_ngcontent-%COMP%]{color:#fff}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}']}),n})(),_e=(()=>{class n{constructor(e,o){this.pantallaService=e,this.router=o}canActivate(e,o){return this.pantallaService.validarPermiso(26).pipe((0,U.b)(a=>{!0!==a&&this.router.navigateByUrl("/main/dashboard")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.i),t.LFG(x.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),be=(()=>{class n{constructor(e,o){this.pantallaService=e,this.router=o}canActivate(e,o){return this.pantallaService.validarPermiso(27).pipe((0,U.b)(a=>{!0!==a&&this.router.navigateByUrl("/main/dashboard")}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Z.i),t.LFG(x.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N=(()=>{class n{constructor(e){this.http=e,this.cai={ID:0,CAI:"",RANGO_MINIMO:"",RANGO_MAXIMO:"",FECHA_AUTORIZADO:new Date,FECHA_LIMITE_EMISION:new Date,NUMERO_ACTUAL:""},this.listaCAI=[],this.baseURL=y.N.baseURL}getAllCAI(e,o,a,s){return o||(o=""),this.http.get(`${this.baseURL}/SAR/?buscar=${o}&quienBusco=${e}&limite=${a||""}&desde=${s||""}`).pipe((0,U.b)(u=>{this.listaCAI=u.sar}),(0,f.K)(u=>(0,_.of)(u.error.msg)))}getCAI(e){return this.http.get(`${this.baseURL}/SAR/${e}`).pipe((0,U.b)(a=>{this.cai=a.unSar}),(0,f.K)(a=>(0,_.of)(a.error)))}postCAI(e,o,a,s,c,u){return this.http.post(`${this.baseURL}/SAR/`,{cai:e,rango_minimo:o,rango_maximo:a,fecha_autorizado:s,fecha_limite_emision:c,id_usuario:u}).pipe((0,f.K)(T=>(0,_.of)(T.error)))}putCAI(e,o,a,s,c,u,d,A){return this.http.put(`${this.baseURL}/SAR/${e}`,{cai:o,rango_minimo:a,rango_maximo:s,fecha_autorizado:c,fecha_limite_emision:u,numero_actual:d,id_usuario:A}).pipe((0,f.K)(We=>(0,_.of)(We.error.msg)))}deleteCAI(e,o){return this.http.delete(`${this.baseURL}/SAR/${e}?quienElimina=${o}`).pipe((0,f.K)(s=>(0,_.of)(s.error.msg)))}getReporte(e=""){return this.http.post(`${this.baseURL}/SAR/reporteria/cai`,{buscar:e},{responseType:"blob"}).pipe((0,f.K)(s=>(0,_.of)(s.error.msg)))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var k=l(9602),J=l(1094);const he=["cerrarCrear"];function Ce(n,i){1&n&&t._UZ(0,"mat-spinner",32),2&n&&t.Q6J("diameter",50)}let Ae=(()=>{class n{constructor(e,o,a,s,c){this.caiService=e,this.pantalla=o,this.fb=a,this.authService=s,this.ingresosService=c,this.onCerrar=new t.vpe,this.onCrear=new t.vpe,this.enEjecucion=!1,this.cambiandoContra=!1,this.formularioCreacion=this.fb.group({cai:["",[r.kI.required,r.kI.maxLength(45)]],rango_minimo:["",[r.kI.required,r.kI.maxLength(45)]],rango_maximo:["",[r.kI.required,r.kI.maxLength(45)]],fecha_autorizada:["",[r.kI.required]],fecha_limite:["",[r.kI.required]]}),this.toMayus=S.K.toMayus}crearCAI(){if(!this.enEjecucion){const{cai:e,rango_minimo:o,rango_maximo:a,fecha_autorizada:s,fecha_limite:c}=this.formularioCreacion.value,u=this.authService.usuario.id_usuario;this.enEjecucion=!0,this.subscripcion=this.caiService.postCAI(e,o.toString(),a.toString(),s,c,u.toString()).subscribe(d=>{this.onCrear.emit(),!0===d.ok?(this.enEjecucion=!1,this.cerrarCrear._elementRef.nativeElement.click(),g().fire({title:"\xa1\xc9xito!",text:d.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0})):(this.enEjecucion=!1,g().fire({title:"Advertencia",text:d.msg,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}))})}}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},250)}ngOnInit(){}ngOnDestroy(){this.cerrarCrear._elementRef.nativeElement.click()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N),t.Y36(Z.i),t.Y36(r.qu),t.Y36(C.e),t.Y36(P.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-nuevo-cai"]],viewQuery:function(e,o){if(1&e&&t.Gf(he,5),2&e){let a;t.iGM(a=t.CRH())&&(o.cerrarCrear=a.first)}},outputs:{onCerrar:"onCerrar",onCrear:"onCrear"},decls:62,vars:10,consts:[["id","exampleModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarCrear",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","id","inputMayus","type","text","formControlName","cai","mask","AAAAAA-AAAAAA-AAAAAA-AAAAAA-AAAAAA-AA","placeholder","Ingrese el CAI","autocomplete","off",3,"dropSpecialCharacters","keyup"],["matSuffix",""],[1,"mb-0","mt-2","fw-bold"],[1,"row"],["appearance","legacy",1,"col-6"],["matInput","","autocomplete","off","formControlName","fecha_autorizada",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["matInput","","autocomplete","off","formControlName","fecha_limite",3,"matDatepicker"],["color","primary"],["picker2",""],["matInput","","type","text","min","0","mask","000-000-00-00000000","formControlName","rango_minimo","autocomplete","off",3,"dropSpecialCharacters"],["matInput","","type","text","min","0","mask","000-000-00-00000000","formControlName","rango_maximo","autocomplete","off",3,"dropSpecialCharacters"],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","button",1,"btn-a",3,"disabled","click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],[1,"me-3",3,"diameter"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Nuevo CAI"),t.qZA(),t.TgZ(6,"button",5,6),t.NdJ("click",function(){return o.cerrar()}),t.TgZ(8,"mat-icon"),t._uU(9,"cancel"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"form",9)(13,"p",10),t._uU(14,"CAI"),t.qZA(),t.TgZ(15,"mat-form-field",11)(16,"mat-label"),t._uU(17,"CAI"),t.qZA(),t.TgZ(18,"input",12),t.NdJ("keyup",function(){return o.toMayus(o.formularioCreacion,"cai")}),t.qZA(),t.TgZ(19,"mat-icon",13),t._uU(20,"description"),t.qZA()(),t.TgZ(21,"p",14),t._uU(22,"Fechas"),t.qZA(),t.TgZ(23,"div",15)(24,"mat-form-field",16)(25,"mat-label"),t._uU(26,"Fecha autorizada"),t.qZA(),t._UZ(27,"input",17)(28,"mat-datepicker-toggle",18)(29,"mat-datepicker",null,19),t.qZA(),t.TgZ(31,"mat-form-field",16)(32,"mat-label"),t._uU(33,"Fecha limite"),t.qZA(),t._UZ(34,"input",20)(35,"mat-datepicker-toggle",18)(36,"mat-datepicker",21,22),t.qZA()(),t.TgZ(38,"p",14),t._uU(39,"Rangos"),t.qZA(),t.TgZ(40,"div",15)(41,"mat-form-field",16)(42,"mat-label"),t._uU(43,"Rango m\xednimo"),t.qZA(),t._UZ(44,"input",23),t.TgZ(45,"mat-icon",13),t._uU(46,"remove_circle"),t.qZA()(),t.TgZ(47,"mat-form-field",16)(48,"mat-label"),t._uU(49,"Rango m\xe1ximo"),t.qZA(),t._UZ(50,"input",24),t.TgZ(51,"mat-icon",13),t._uU(52,"add_circle"),t.qZA()()(),t.TgZ(53,"div",25)(54,"div",26)(55,"button",27),t.NdJ("click",function(){return o.crearCAI()}),t.TgZ(56,"mat-icon",28),t._uU(57,"save"),t.qZA(),t.TgZ(58,"span",29),t._uU(59,"Guardar"),t.qZA()()(),t.YNc(60,Ce,1,1,"mat-spinner",30),t.qZA()()()(),t._UZ(61,"div",31),t.qZA()()()),2&e){const a=t.MAs(30),s=t.MAs(37);t.xp6(12),t.Q6J("formGroup",o.formularioCreacion),t.xp6(6),t.Q6J("dropSpecialCharacters",!1),t.xp6(9),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(6),t.Q6J("matDatepicker",s),t.xp6(1),t.Q6J("for",s),t.xp6(9),t.Q6J("dropSpecialCharacters",!1),t.xp6(6),t.Q6J("dropSpecialCharacters",!1),t.xp6(5),t.Q6J("disabled",o.formularioCreacion.invalid),t.xp6(5),t.Q6J("ngIf",o.enEjecucion)}},dependencies:[m.O5,b.lW,h.Hw,v.Ou,p.KE,p.hX,p.R9,M.Nt,k.Mq,k.hl,k.nW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,J.hx],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#inputMayus[_ngcontent-%COMP%]{text-transform:uppercase}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),n})();const ve=["cerrarEditar"],Ze=["CAI"],xe=["fecha_autorizada"],Oe=["fecha_limite"],Ue=["rango_maximo"],Me=["rango_minimo"],Te=["numero_actual"];function Ie(n,i){1&n&&t._UZ(0,"mat-spinner",34),2&n&&t.Q6J("diameter",50)}let ke=(()=>{class n{constructor(e,o,a){this.caiService=e,this.authService=o,this.fb=a,this.onCerrar=new t.vpe,this.onActualizacion=new t.vpe,this.enEjecucion=!1,this.editandoProveedor=!1,this.formularioEdicion=this.fb.group({cai:[[r.kI.required,r.kI.maxLength(45)]],rango_minimo:["",[r.kI.required,r.kI.maxLength(45)]],rango_maximo:["",[r.kI.required,r.kI.maxLength(45)]],fecha_autorizada:[[r.kI.required]],fecha_limite:["",[r.kI.required]],numeroActual:["",[r.kI.required]]}),this.toMayus=S.K.toMayusNoReactivo}get cai(){return this.caiService.cai}ngOnDestroy(){this.cerrarEditar._elementRef.nativeElement.click()}actualizarCAI(){if(!this.enEjecucion){this.enEjecucion=!0;const e=this.authService.usuario.id_usuario,{cai:o,rango_minimo:a,rango_maximo:s,fecha_autorizada:c,fecha_limite:u,numeroActual:d}=this.formularioEdicion.value;this.caiService.putCAI(this.cai.ID,o,a,s,c,u,d,e).subscribe(A=>{this.onActualizacion.emit(),!0===A.ok?(this.cerrarEditar._elementRef.nativeElement.click(),g().fire({title:"\xa1\xc9xito!",text:A.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(g().fire({title:"Advertencia",text:A,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)})}}ngOnInit(){setTimeout(()=>{},500)}actualizarFormulario(){this.formularioEdicion.controls.cai.setValue(this.cai.CAI),this.formularioEdicion.controls.cai.updateValueAndValidity(),this.formularioEdicion.controls.fecha_autorizada.setValue(this.cai.FECHA_AUTORIZADO),this.formularioEdicion.controls.fecha_autorizada.updateValueAndValidity(),this.formularioEdicion.controls.numeroActual.setValue(this.cai.NUMERO_ACTUAL),this.formularioEdicion.controls.numeroActual.updateValueAndValidity(),this.formularioEdicion.controls.rango_minimo.setValue(this.cai.RANGO_MINIMO),this.formularioEdicion.controls.rango_minimo.updateValueAndValidity(),this.formularioEdicion.controls.rango_maximo.setValue(this.cai.RANGO_MAXIMO),this.formularioEdicion.controls.rango_maximo.updateValueAndValidity(),this.formularioEdicion.controls.fecha_limite.setValue(this.cai.FECHA_LIMITE_EMISION),this.formularioEdicion.controls.fecha_limite.updateValueAndValidity(),this.formularioEdicion.updateValueAndValidity(),console.log(this.formularioEdicion.value),console.log(this.formularioEdicion.invalid)}cerrar(){setTimeout(()=>{this.onCerrar.emit(!1)},100)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N),t.Y36(C.e),t.Y36(r.qu))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-editar-cai"]],viewQuery:function(e,o){if(1&e&&(t.Gf(ve,5),t.Gf(Ze,5),t.Gf(xe,5),t.Gf(Oe,5),t.Gf(Ue,5),t.Gf(Me,5),t.Gf(Te,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.cerrarEditar=a.first),t.iGM(a=t.CRH())&&(o.CAI=a.first),t.iGM(a=t.CRH())&&(o.fecha_autorizada=a.first),t.iGM(a=t.CRH())&&(o.fecha_limite=a.first),t.iGM(a=t.CRH())&&(o.rango_maximo=a.first),t.iGM(a=t.CRH())&&(o.rango_minimo=a.first),t.iGM(a=t.CRH())&&(o.numero_actual=a.first)}},outputs:{onCerrar:"onCerrar",onActualizacion:"onActualizacion"},decls:66,vars:17,consts:[["id","exampleModal2","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-scrollable","modal-lg"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button",3,"click"],["cerrarEditar",""],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[3,"formGroup","ngSubmit"],[1,"my-0","fw-bold"],["appearance","legacy",1,"example-full-width"],["matInput","","type","text","formControlName","cai","id","inputMayus","mask","AAAAAA-AAAAAA-AAAAAA-AAAAAA-AAAAAA-AA","placeholder","Ingrese el CAI","autocomplete","off",3,"value","dropSpecialCharacters"],["matSuffix",""],[1,"mb-0","mt-2","fw-bold"],[1,"row"],["appearance","legacy",1,"col-6"],["matInput","","autocomplete","off","formControlName","fecha_autorizada",3,"matDatepicker","value"],["matSuffix","",3,"for"],["picker1",""],["matInput","","autocomplete","off","formControlName","fecha_limite",3,"matDatepicker","value"],["color","primary"],["picker2",""],["matInput","","type","text","min","0","formControlName","rango_minimo","mask","000-000-00-00000000","autocomplete","off",3,"value","dropSpecialCharacters"],["matInput","","type","text","min","0","formControlName","rango_maximo","mask","000-000-00-00000000","autocomplete","off",3,"value","dropSpecialCharacters"],["appearance","legacy",1,"example-full-width","mb-0","mt-2"],["matInput","","type","text","min","0","formControlName","numeroActual","mask","000-000-00-00000000","autocomplete","off",3,"value","dropSpecialCharacters"],[1,"d-flex","flex-row-reverse"],[1,""],["mat-flat-button","","type","button",1,"btn-a",3,"disabled","click"],[1,"ms-2","me-1"],[1,"me-2"],["class","me-3",3,"diameter",4,"ngIf"],[1,"modal-footer"],[1,"me-3",3,"diameter"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5,"Editar CAI"),t.qZA(),t.TgZ(6,"button",5,6),t.NdJ("click",function(){return o.cerrar()}),t.TgZ(8,"mat-icon"),t._uU(9,"cancel"),t.qZA()()(),t.TgZ(10,"div",7)(11,"div",8)(12,"form",9),t.NdJ("ngSubmit",function(){return o.actualizarCAI()}),t.TgZ(13,"p",10),t._uU(14,"CAI"),t.qZA(),t.TgZ(15,"mat-form-field",11)(16,"mat-label"),t._uU(17,"CAI"),t.qZA(),t._UZ(18,"input",12),t.TgZ(19,"mat-icon",13),t._uU(20,"description"),t.qZA()(),t.TgZ(21,"p",14),t._uU(22,"Fechas"),t.qZA(),t.TgZ(23,"div",15)(24,"mat-form-field",16)(25,"mat-label"),t._uU(26,"Fecha autorizada"),t.qZA(),t._UZ(27,"input",17)(28,"mat-datepicker-toggle",18)(29,"mat-datepicker",null,19),t.qZA(),t.TgZ(31,"mat-form-field",16)(32,"mat-label"),t._uU(33,"Fecha l\xedmite"),t.qZA(),t._UZ(34,"input",20)(35,"mat-datepicker-toggle",18)(36,"mat-datepicker",21,22),t.qZA()(),t.TgZ(38,"p",14),t._uU(39,"Rangos"),t.qZA(),t.TgZ(40,"div",15)(41,"mat-form-field",16)(42,"mat-label"),t._uU(43,"Rango m\xednimo"),t.qZA(),t._UZ(44,"input",23),t.TgZ(45,"mat-icon",13),t._uU(46,"remove_circle"),t.qZA()(),t.TgZ(47,"mat-form-field",16)(48,"mat-label"),t._uU(49,"Rango m\xe1ximo"),t.qZA(),t._UZ(50,"input",24),t.TgZ(51,"mat-icon",13),t._uU(52,"add_circle"),t.qZA()()(),t.TgZ(53,"mat-form-field",25)(54,"mat-label"),t._uU(55,"N\xfamero actual"),t.qZA(),t._UZ(56,"input",26),t.qZA(),t.TgZ(57,"div",27)(58,"div",28)(59,"button",29),t.NdJ("click",function(){return o.actualizarCAI()}),t.TgZ(60,"mat-icon",30),t._uU(61,"save"),t.qZA(),t.TgZ(62,"span",31),t._uU(63,"Guardar"),t.qZA()()(),t.YNc(64,Ie,1,1,"mat-spinner",32),t.qZA()()()(),t._UZ(65,"div",33),t.qZA()()()),2&e){const a=t.MAs(30),s=t.MAs(37);t.xp6(12),t.Q6J("formGroup",o.formularioEdicion),t.xp6(6),t.Q6J("value",o.cai.CAI)("dropSpecialCharacters",!1),t.xp6(9),t.Q6J("matDatepicker",a)("value",o.cai.FECHA_AUTORIZADO),t.xp6(1),t.Q6J("for",a),t.xp6(6),t.Q6J("matDatepicker",s)("value",o.cai.FECHA_LIMITE_EMISION),t.xp6(1),t.Q6J("for",s),t.xp6(9),t.Q6J("value",o.cai.RANGO_MINIMO)("dropSpecialCharacters",!1),t.xp6(6),t.Q6J("value",o.cai.RANGO_MAXIMO)("dropSpecialCharacters",!1),t.xp6(6),t.Q6J("value",o.cai.NUMERO_ACTUAL)("dropSpecialCharacters",!1),t.xp6(3),t.Q6J("disabled",o.formularioEdicion.invalid),t.xp6(5),t.Q6J("ngIf",o.enEjecucion)}},dependencies:[m.O5,b.lW,h.Hw,v.Ou,p.KE,p.hX,p.R9,M.Nt,k.Mq,k.hl,k.nW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,J.hx],styles:[".example-full-width[_ngcontent-%COMP%]{width:100%;color:#fff}.example-mid-width[_ngcontent-%COMP%]{width:48%;color:#fff}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}  .cdk-overlay-container{z-index:999999!important}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#inputMayus[_ngcontent-%COMP%]{text-transform:uppercase}@media only screen and (max-width:991px){.eliminarPaddin[_ngcontent-%COMP%]{padding-left:0}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}}.textResponsive[_ngcontent-%COMP%]{font-size:small!important}"]}),n})(),Pe=(()=>{class n{constructor(e,o){this.caiService=e,this.authService=o,this.onEliminar=new t.vpe,this.enEjecucion=!1}get cai(){return this.caiService.cai}eliminarCAI(){this.enEjecucion||(this.enEjecucion=!0,this.subscripcion=this.caiService.deleteCAI(this.cai.ID,this.authService.usuario.id_usuario).subscribe(o=>{!0===o.ok?(this.onEliminar.emit(),g().fire({title:"\xa1\xc9xito!",text:o.msg,icon:"success",iconColor:"white",background:"#a5dc86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1):(g().fire({title:"Advertencia",text:o,icon:"warning",iconColor:"white",background:"#f8bb86",color:"white",toast:!0,position:"top-right",showConfirmButton:!1,timer:4500,timerProgressBar:!0}),this.enEjecucion=!1)}))}ngOnInit(){}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N),t.Y36(C.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-eliminar-cai"]],outputs:{onEliminar:"onEliminar"},decls:25,vars:1,consts:[["id","exampleModal3","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],["id","fondoModal",1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","ms-3"],["mat-icon-button","","color","warn","data-bs-dismiss","modal","aria-label","Close","type","button"],[1,"modal-body"],[1,"px-lg-3","py-lg-3","w-100","align-self-center"],[1,"text-center","mb-4"],["src","./../../../../../../../assets/icons/WarningRelleno.svg","width","50px","height","50px"],[1,"text-center","fw-normal"],[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button","data-bs-dismiss","modal",1,"btn-p",3,"click"],[1,"ms-2","me-1"],[1,"me-2"],[1,"modal-footer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),t._uU(5," Confirmaci\xf3n "),t.qZA(),t.TgZ(6,"button",5)(7,"mat-icon"),t._uU(8,"cancel"),t.qZA()()(),t.TgZ(9,"div",6)(10,"div",7)(11,"form")(12,"div",8),t._UZ(13,"img",9),t.qZA(),t.TgZ(14,"h5",10),t._uU(15),t.qZA(),t._UZ(16,"br"),t.TgZ(17,"div",11)(18,"div",12)(19,"button",13),t.NdJ("click",function(){return o.eliminarCAI()}),t.TgZ(20,"mat-icon",14),t._uU(21,"delete_forever"),t.qZA(),t.TgZ(22,"span",15),t._uU(23,"Eliminar"),t.qZA()()()()()()(),t._UZ(24,"div",16),t.qZA()()()),2&e&&(t.xp6(15),t.hij(" \xbfDesea eliminar el CAI ",o.cai.CAI,"? "))},dependencies:[b.lW,h.Hw,r._Y,r.JL,r.F],styles:[".btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;transition:.3s ease all;border-radius:10px;line-height:50px;padding:inherit}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;padding:inherit}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}"]}),n})();const we=["editar"];function ye(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generando... "),t.qZA())}function qe(n,i){if(1&n&&(t.TgZ(0,"span",24),t._UZ(1,"mat-spinner",25),t.YNc(2,ye,2,0,"span",7),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("diameter",30),t.xp6(1),t.Q6J("ngIf",e.generando)}}function Re(n,i){1&n&&t._UZ(0,"img",26)}function Se(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1,"Generar reporte"),t.qZA())}function Ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.creando=!0)}),t._uU(1,"Nuevo"),t.qZA()}}function Ne(n,i){1&n&&(t.TgZ(0,"th"),t._uU(1,"Acci\xf3n"),t.qZA())}function je(n,i){1&n&&(t.TgZ(0,"tr")(1,"td",28)(2,"div",24)(3,"mat-icon",29),t._uU(4,"info_outline"),t.qZA(),t.TgZ(5,"strong",30),t._uU(6,"No se encontraron registros"),t.qZA()()()())}function Je(n,i){if(1&n&&(t.TgZ(0,"button",42)(1,"mat-icon"),t._uU(2,"more_vert"),t.qZA()()),2&n){t.oxw();const e=t.MAs(18);t.Q6J("matMenuTriggerFor",e)}}function Fe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",43),t.NdJ("mouseenter",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.editando=!0)})("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.seleccionar(a.ID))}),t.TgZ(1,"mat-icon",44),t._uU(2,"edit"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Editar"),t.qZA()()}}function Be(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,s=t.oxw();return t.KtG(s.seleccionarEliminar(a.ID))}),t.TgZ(1,"mat-icon",29),t._uU(2,"delete_forever"),t.qZA(),t.TgZ(3,"span"),t._uU(4,"Eliminar"),t.qZA()()}}function De(n,i){if(1&n&&(t.TgZ(0,"tr")(1,"td",31),t._uU(2),t.qZA(),t.TgZ(3,"td",32),t._uU(4),t.qZA(),t.TgZ(5,"td",33),t._uU(6),t.qZA(),t.TgZ(7,"td",34),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"td",35),t._uU(11),t.ALo(12,"date"),t.qZA(),t.TgZ(13,"td",36),t._uU(14),t.qZA(),t.TgZ(15,"td",37),t.YNc(16,Je,3,1,"button",38),t.TgZ(17,"mat-menu",null,39),t.ynx(19),t.YNc(20,Fe,5,0,"button",40),t.BQk(),t.ynx(21),t.YNc(22,Be,5,0,"button",41),t.BQk(),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.CAI),t.xp6(2),t.Oqu(e.RANGO_MINIMO),t.xp6(2),t.Oqu(e.RANGO_MAXIMO),t.xp6(2),t.Oqu(t.xi3(9,9,e.FECHA_AUTORIZADO,"d/M/yy")),t.xp6(3),t.hij("",t.xi3(12,12,e.FECHA_LIMITE_EMISION,"d/M/yy")," "),t.xp6(3),t.Oqu(e.NUMERO_ACTUAL),t.xp6(2),t.Q6J("ngIf",o.permisos.PERMISO_ACTUALIZACION||o.permisos.PERMISO_ELIMINACION),t.xp6(4),t.Q6J("ngIf",o.permisos.PERMISO_ACTUALIZACION),t.xp6(2),t.Q6J("ngIf",o.permisos.PERMISO_ELIMINACION)}}function Le(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-nuevo-cai",46),t.NdJ("onCerrar",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.creando=a)})("onCrear",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.recargar())}),t.qZA()}}function Ge(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"app-editar-cai",47,48),t.NdJ("onCerrar",function(a){t.CHM(e);const s=t.oxw();return t.KtG(s.editando=a)})("onActualizacion",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.recargar())}),t.qZA()}}const ze=function(n){return[5,10,25,50,n]},Ye=[{path:"",children:[{path:"usuario",component:Nt,canActivate:[O.D,Qt]},{path:"bitacora",component:tt,canActivate:[O.D,Yt]},{path:"base-de-datos",component:zt,canActivate:[O.D,Ht]},{path:"departamento",component:Vt,canActivate:[O.D]},{path:"direccion",component:$t,canActivate:[O.D]},{path:"municipio",component:Kt,canActivate:[O.D]},{path:"caja",component:fe,canActivate:[O.D,_e]},{path:"cai",component:(()=>{class n{constructor(e,o,a,s,c,u){this.caiSerivce=e,this.pantalla=o,this.fb=a,this.usuario=s,this.ingresosService=c,this.router=u,this.id_seleccion=0,this.registros=[],this.tamano=0,this.limite=0,this.indice=-1,this.desde="0",this.generando=!1,this.buscando=!1,this.creando=!1,this.editando=!1,this.formularioBusqueda=this.fb.group({buscar:["",[r.kI.required,r.kI.maxLength(100)]]})}cargarRegistros(){this.subscripcion=this.caiSerivce.getAllCAI(this.usuario.usuario.id_usuario).subscribe(o=>{this.registros=this.caiSerivce.listaCAI,this.tamano=o.countSar,this.limite=o.limite})}cambioDePagina(e){this.paginadorPorReferencia=e,this.subscripcion.unsubscribe();const o=this.usuario.usuario.id_usuario;let{buscar:a}=this.formularioBusqueda.value;this.buscando||(a="");let s=(e.pageIndex*e.pageSize).toString();this.desde=s,this.subscripcion=this.caiSerivce.getAllCAI(o,a,e.pageSize.toString(),s).subscribe(c=>{this.registros=c.sar,this.tamano=c.countSar,this.limite=c.limite})}buscarRegistro(){this.paginadorPorReferencia&&(this.indice=-1),this.subscripcion.unsubscribe();const e=this.usuario.usuario.id_usuario,{buscar:o}=this.formularioBusqueda.value;this.buscando=""!==o,this.desde="0",this.subscripcion=this.caiSerivce.getAllCAI(e,o).subscribe(a=>{this.indice=0,this.registros=a.sar,this.tamano=a.countSar,this.limite=a.limite})}seleccionar(e){this.caiSerivce.getCAI(e).subscribe(o=>{this.editar.actualizarFormulario()})}seleccionarEliminar(e){this.caiSerivce.getCAI(e).subscribe()}recargar(){const e=this.usuario.usuario.id_usuario;let{buscar:o}=this.formularioBusqueda.value;this.subscripcion=this.caiSerivce.getAllCAI(e,o,this.limite.toString(),this.desde).subscribe(a=>{this.registros=a.sar,this.tamano=a.countSar,this.limite=a.limite})}generarReporte(){if(!this.generando){this.generando=!0;let{buscar:e}=this.formularioBusqueda.value;this.caiSerivce.getReporte(e).subscribe(o=>{let a=new Blob([o],{type:"application/pdf"}),s=window.URL.createObjectURL(a);document.createElement("a").href=s,window.open(s,"_blank"),this.generando=!1})}}registrarIngreso(){this.ingreso=this.ingresosService.eventoIngreso(this.usuario.usuario.id_usuario,27).subscribe()}get permisos(){return this.pantalla.permisos}ngOnInit(){this.registrarIngreso(),this.cargarRegistros()}ngOnDestroy(){this.subscripcion&&this.subscripcion.unsubscribe(),this.ingreso&&this.ingreso.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N),t.Y36(Z.i),t.Y36(r.qu),t.Y36(C.e),t.Y36(P.K),t.Y36(x.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-cai"]],viewQuery:function(e,o){if(1&e&&t.Gf(we,5),2&e){let a;t.iGM(a=t.CRH())&&(o.editar=a.first)}},decls:43,vars:17,consts:[[1,""],["id","contenedor",1,"container-md","rounded-4","pb-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","pb-0","pt-3"],[1,"d-flex","flex-wrap"],["mat-flat-button","","type","button",1,"me-3","btn-p","mb-2",3,"ngClass","click"],["class","d-flex  align-items-center justify-content-center",4,"ngIf"],["src","/assets/icons/pdf.png ","width","30px","height","30px","class","me-3",4,"ngIf"],[4,"ngIf"],["mat-flat-button","","class","me-3 btn-a mb-2","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",3,"mouseenter",4,"ngIf"],[1,"d-flex","align-items-center","flex-wrap",2,"height","100%"],[1,"mb-2",3,"formGroup","ngSubmit"],[1,"me-3"],["type","text","formControlName","buscar",1,"input","rounded-3"],[1,"text-white-50","m-2"],["id","no-more-tables",1,"table-responsive","tabla"],[1,"table","table-dark","table-striped"],[1,"bg-dark","text-light","align-middle"],[1,"align-middle"],[4,"ngFor","ngForOf"],["id","paginador","aria-label","Select page",3,"length","pageSize","pageSizeOptions","pageIndex","page"],[1,"mt-4"],[3,"onCerrar","onCrear",4,"ngIf"],[3,"onCerrar","onActualizacion",4,"ngIf"],[3,"onEliminar"],[1,"d-flex","align-items-center","justify-content-center"],[1,"me-3","uploader-status",3,"diameter"],["src","/assets/icons/pdf.png ","width","30px","height","30px",1,"me-3"],["mat-flat-button","","type","button","data-bs-toggle","modal","data-bs-target","#exampleModal","data-bs-whatever","@getbootstrap",1,"me-3","btn-a","mb-2",3,"mouseenter"],["colspan","14",1,"align-middle"],["id","iconBlock"],[1,"fw-normal","text-light","ms-2"],["data-title","CAI"],["data-title","Rango m\xednimo"],["data-title","Rango m\xe1ximo"],["data-title","Fecha autorizada"],["data-title","Fecha l\xedmite emisi\xf3n"],["data-title","N\xfamero actual"],["data-title","Acci\xf3n"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter","click",4,"ngIf"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click",4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal2","data-bs-whatever","@getbootstrap",3,"mouseenter","click"],["id","iconEditar"],["mat-menu-item","","data-bs-toggle","modal","data-bs-target","#exampleModal3","data-bs-whatever","@getbootstrap",3,"click"],[3,"onCerrar","onCrear"],[3,"onCerrar","onActualizacion"],["editar",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2,"Gesti\xf3n de CAI"),t.qZA(),t.TgZ(3,"div",1)(4,"div",2)(5,"div",3)(6,"button",4),t.NdJ("click",function(){return o.generarReporte()}),t.YNc(7,qe,3,2,"span",5),t.YNc(8,Re,1,0,"img",6),t.YNc(9,Se,2,0,"span",7),t.qZA(),t.YNc(10,Ee,2,0,"button",8),t.qZA(),t.TgZ(11,"div",9)(12,"form",10),t.NdJ("ngSubmit",function(){return o.buscarRegistro()}),t.TgZ(13,"label",11),t._uU(14,"Buscar:"),t.qZA(),t._UZ(15,"input",12),t.qZA()()(),t._UZ(16,"hr",13),t.TgZ(17,"div",14)(18,"table",15)(19,"thead",16)(20,"tr")(21,"th"),t._uU(22,"CAI"),t.qZA(),t.TgZ(23,"th"),t._uU(24,"Rango m\xednimo"),t.qZA(),t.TgZ(25,"th"),t._uU(26,"Rango m\xe1ximo"),t.qZA(),t.TgZ(27,"th"),t._uU(28,"Fecha autorizada"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Fecha l\xedmite emisi\xf3n"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"N\xfamero actual"),t.qZA(),t.YNc(33,Ne,2,0,"th",7),t.qZA()(),t.TgZ(34,"tbody",17),t.YNc(35,je,7,0,"tr",7),t.YNc(36,De,23,15,"tr",18),t.qZA()()(),t.TgZ(37,"mat-paginator",19),t.NdJ("page",function(s){return o.cambioDePagina(s)}),t.qZA()(),t.TgZ(38,"div",20),t._UZ(39,"br"),t.qZA(),t.YNc(40,Le,1,0,"app-nuevo-cai",21),t.YNc(41,Ge,2,0,"app-editar-cai",22),t.TgZ(42,"app-eliminar-cai",23),t.NdJ("onEliminar",function(){return o.recargar()}),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngClass",o.generando?"d-flex align-items-center":""),t.xp6(1),t.Q6J("ngIf",o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",!o.generando),t.xp6(1),t.Q6J("ngIf",o.permisos.PERMISO_INSERCION),t.xp6(2),t.Q6J("formGroup",o.formularioBusqueda),t.xp6(21),t.Q6J("ngIf",o.permisos.PERMISO_ACTUALIZACION||o.permisos.PERMISO_ELIMINACION),t.xp6(2),t.Q6J("ngIf",o.registros.length<1),t.xp6(1),t.Q6J("ngForOf",o.registros),t.xp6(1),t.Q6J("length",o.tamano)("pageSize",o.limite)("pageSizeOptions",t.VKq(15,ze,o.tamano))("pageIndex",o.indice),t.xp6(3),t.Q6J("ngIf",o.creando),t.xp6(1),t.Q6J("ngIf",o.editando))},dependencies:[m.mk,m.sg,m.O5,b.lW,h.Hw,I.VK,I.OP,I.p6,v.Ou,R.NW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,Ae,ke,Pe,m.uU],styles:[".background[_ngcontent-%COMP%]{background-color:#e0e0e0}#contenedor[_ngcontent-%COMP%]{background-color:#212529}#iconEditar[_ngcontent-%COMP%]{color:#898989}#iconBlock[_ngcontent-%COMP%]{color:#f65757}#iconMas[_ngcontent-%COMP%]{color:#5988ec}label[_ngcontent-%COMP%]{color:#fff}thead[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}.btn-p[_ngcontent-%COMP%]{border-radius:10px;background-color:#d12609!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all}.btn-p[_ngcontent-%COMP%]:hover{background-color:#ff2600!important;border:0}.btn-a[_ngcontent-%COMP%]{background-color:#898989!important;font-size:1rem;font-weight:400;min-height:3.125rem;border:none;cursor:pointer;transition:.3s ease all;border-radius:10px;line-height:50px}.btn-a[_ngcontent-%COMP%]:hover{background-color:#b1b1b1!important;border:0}h3[_ngcontent-%COMP%]{text-align:center;padding:15px;font-weight:400;font-family:Lobster Two,cursive;font-size:45px;margin-bottom:0%}.modal-body[_ngcontent-%COMP%]{background-color:#2b2b2b}.modal-footer[_ngcontent-%COMP%]{background-color:#454545}#fondoModal[_ngcontent-%COMP%]{background-color:#232323!important;color:#fff}#paginador[_ngcontent-%COMP%]{font-weight:700;margin-top:2px;background-color:#212529}@media only screen and (max-width:800px){#no-more-tables[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], #no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block}#no-more-tables[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{position:absolute;top:-9999px;left:-9999px}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{position:relative;padding-left:50%;border:none}#no-more-tables[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-title);position:absolute;left:6px;font-weight:700}#no-more-tables[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}}[_nghost-%COMP%]     .mat-progress-spinner circle, .mat-spinner[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke:#fff}"]}),n})(),canActivate:[O.D,be]}]}];let He=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.Bz.forChild(Ye),x.Bz]}),n})();var Ve=l(5011);const $e=null;let Ke=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[m.ez,He,Ve.i,r.UX,r.u5,J.yI.forRoot()]}),n})()}}]);